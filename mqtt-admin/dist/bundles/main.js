/*[system-bundles-config]*/
System.bundles = {"bundles/main.css!":["bower_components/jquery-ui/themes/redmond/jquery-ui.min.css!$css","bower_components/free-jqgrid/css/ui.jqgrid.min.css!$css","bower_components/free-jqgrid/plugins/ui.multiselect.css!$css","index.less!$less"]};
/*bower*/
define('bower', [], function(){ return {}; });
/*bower_components/jquery/bower.json!bower*/
define("bower_components/jquery/bower.json!bower",["@loader"],function(e){e.config({paths:{jquery:"bower_components/jquery/dist/jquery.js","jquery/*":"bower_components/jquery/dist/*.js"}})});
/*bower_components/jquery-ui/bower.json!bower*/
define("bower_components/jquery-ui/bower.json!bower",["@loader","bower_components/jquery/bower.json!bower"],function(e){e.config({paths:{"jquery-ui":"bower_components/jquery-ui/jquery-ui.js","jquery-ui/*":"bower_components/jquery-ui/*.js"}})});
/*bower_components/free-jqgrid/bower.json!bower*/
define("bower_components/free-jqgrid/bower.json!bower",["@loader","bower_components/jquery/bower.json!bower"],function(e){e.config({paths:{"free-jqgrid":"bower_components/free-jqgrid/js/jquery.jqgrid.min.js","free-jqgrid/*":"bower_components/free-jqgrid/js/*.js"}})});
/*bower_components/store-js/bower.json!bower*/
define("bower_components/store-js/bower.json!bower",["@loader"],function(o){o.config({paths:{store:"bower_components/store/store.js","store/*":"bower_components/store/*.js"}})});
/*bower_components/mqttws/bower.json!bower*/
define("bower_components/mqttws/bower.json!bower",["@loader"],function(t){t.config({paths:{mqttws:"bower_components/mqttws/mqttws31.js","mqttws/*":"bower_components/mqttws/*.js"}})});
/*bower.json!bower*/
define("bower.json!bower",["@loader","bower_components/jquery/bower.json!bower","bower_components/jquery-ui/bower.json!bower","bower_components/free-jqgrid/bower.json!bower","bower_components/store-js/bower.json!bower","bower_components/mqttws/bower.json!bower"],function(o){o.config({paths:{"mqtt-admin":"bower_components/mqtt-admin/main.js","mqtt-admin/*":"bower_components/mqtt-admin/*.js"},main:"main"})});
/*bower.json*/
define("bower.json",[],function(){return{name:"mqtt-admin",version:"1.0.0",main:"main","private":!0,authors:["Sebastian Raff <hq@ccu.io> (https://github.com/hobbyquaker)"],license:"MIT",dependencies:{steal:"0.11.3",jquery:"1.11.3","jquery-ui":"1.11.4","free-jqgrid":"4.9.2","store-js":"1.3.17",mqttws:"1.0.0"}}});
/*mqttws*/
define("mqttws",["module","@loader"],function(e,t){t.get("@@global-helpers").prepareGlobal(e.id,[]);var s=t.global.define,n=t.global.require,i='"undefined"==typeof Paho&&(Paho={}),Paho.MQTT=function(e){function t(e,t){var s=t,n=e[t],o=n>>4,r=n&=15;t+=1;var a,h=0,d=1;do{if(t==e.length)return[null,s];a=e[t++],h+=(127&a)*d,d*=128}while(0!=(128&a));var f=t+h;if(f>e.length)return[null,s];var l=new v(o);switch(o){case u.CONNACK:var _=e[t++];1&_&&(l.sessionPresent=!0),l.returnCode=e[t++];break;case u.PUBLISH:var g=r>>1&3,p=i(e,t);t+=2;try{var I=c(e,t,p)}catch(y){console.log("!",y);var I="__mqtt__invalid_topic"}t+=p,g>0&&(l.messageIdentifier=i(e,t),t+=2);var w=new Paho.MQTT.Message(e.subarray(t,f));1==(1&r)&&(w.retained=!0),8==(8&r)&&(w.duplicate=!0),w.qos=g,w.destinationName=I,l.payloadMessage=w;break;case u.PUBACK:case u.PUBREC:case u.PUBREL:case u.PUBCOMP:case u.UNSUBACK:l.messageIdentifier=i(e,t);break;case u.SUBACK:l.messageIdentifier=i(e,t),t+=2,l.returnCode=e.subarray(t,f)}return[l,f]}function s(e,t,s){return t[s++]=e>>8,t[s++]=e%256,s}function n(e,t,n,i){return i=s(t,n,i),a(e,n,i),i+t}function i(e,t){return 256*e[t]+e[t+1]}function o(e){var t=new Array(1),s=0;do{var n=e%128;e>>=7,e>0&&(n|=128),t[s++]=n}while(e>0&&4>s);return t}function r(e){for(var t=0,s=0;s<e.length;s++){var n=e.charCodeAt(s);n>2047?(n>=55296&&56319>=n&&(s++,t++),t+=3):n>127?t+=2:t++}return t}function a(e,t,s){for(var n=s,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=55296&&56319>=o){var r=e.charCodeAt(++i);if(isNaN(r))throw new Error(g(l.MALFORMED_UNICODE,[o,r]));o=(o-55296<<10)+(r-56320)+65536}127>=o?t[n++]=o:2047>=o?(t[n++]=o>>6&31|192,t[n++]=63&o|128):65535>=o?(t[n++]=o>>12&15|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18&7|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}function c(e,t,s){for(var n,i="",o=t;t+s>o;){var r=e[o++];if(128>r)n=r;else{var a=e[o++]-128;if(0>a)return"__malformed_utf8";if(224>r)n=64*(r-192)+a;else{var c=e[o++]-128;if(0>c)return"__malformed_utf8";if(240>r)n=4096*(r-224)+64*a+c;else{var h=e[o++]-128;if(0>h)return"__malformed_utf8";if(!(248>r))return"__malformed_utf8";n=262144*(r-240)+4096*a+64*c+h}}}n>65535&&(n-=65536,i+=String.fromCharCode(55296+(n>>10)),n=56320+(1023&n)),i+=String.fromCharCode(n)}return i}var h="@VERSION@",u={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},d=function(e,t){for(var s in e)if(e.hasOwnProperty(s)){if(!t.hasOwnProperty(s)){var n="Unknown property, "+s+". Valid properties are:";for(var s in t)t.hasOwnProperty(s)&&(n=n+" "+s);throw new Error(n)}if(typeof e[s]!==t[s])throw new Error(g(l.INVALID_TYPE,[typeof e[s],s]))}},f=function(e,t){return function(){return e.apply(t,arguments)}},l={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."}},_={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},g=function(e,t){var s=e.text;if(t)for(var n,i,o=0;o<t.length;o++)if(n="{"+o+"}",i=s.indexOf(n),i>0){var r=s.substring(0,i),a=s.substring(i+n.length);s=r+t[o]+a}return s},p=[0,6,77,81,73,115,100,112,3],I=[0,4,77,81,84,84,4],v=function(e,t){this.type=e;for(var s in t)t.hasOwnProperty(s)&&(this[s]=t[s])};v.prototype.encode=function(){var e=(15&this.type)<<4,t=0,i=new Array,a=0;switch(void 0!=this.messageIdentifier&&(t+=2),this.type){case u.CONNECT:switch(this.mqttVersion){case 3:t+=p.length+3;break;case 4:t+=I.length+3}if(t+=r(this.clientId)+2,void 0!=this.willMessage){t+=r(this.willMessage.destinationName)+2;var c=this.willMessage.payloadBytes;c instanceof Uint8Array||(c=new Uint8Array(d)),t+=c.byteLength+2}void 0!=this.userName&&(t+=r(this.userName)+2),void 0!=this.password&&(t+=r(this.password)+2);break;case u.SUBSCRIBE:e|=2;for(var h=0;h<this.topics.length;h++)i[h]=r(this.topics[h]),t+=i[h]+2;t+=this.requestedQos.length;break;case u.UNSUBSCRIBE:e|=2;for(var h=0;h<this.topics.length;h++)i[h]=r(this.topics[h]),t+=i[h]+2;break;case u.PUBREL:e|=2;break;case u.PUBLISH:this.payloadMessage.duplicate&&(e|=8),e=e|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(e|=1),a=r(this.payloadMessage.destinationName),t+=a+2;var d=this.payloadMessage.payloadBytes;t+=d.byteLength,d instanceof ArrayBuffer?d=new Uint8Array(d):d instanceof Uint8Array||(d=new Uint8Array(d.buffer));break;case u.DISCONNECT:}var f=o(t),l=f.length+1,_=new ArrayBuffer(t+l),g=new Uint8Array(_);if(g[0]=e,g.set(f,1),this.type==u.PUBLISH)l=n(this.payloadMessage.destinationName,a,g,l);else if(this.type==u.CONNECT){switch(this.mqttVersion){case 3:g.set(p,l),l+=p.length;break;case 4:g.set(I,l),l+=I.length}var v=0;this.cleanSession&&(v=2),void 0!=this.willMessage&&(v|=4,v|=this.willMessage.qos<<3,this.willMessage.retained&&(v|=32)),void 0!=this.userName&&(v|=128),void 0!=this.password&&(v|=64),g[l++]=v,l=s(this.keepAliveInterval,g,l)}switch(void 0!=this.messageIdentifier&&(l=s(this.messageIdentifier,g,l)),this.type){case u.CONNECT:l=n(this.clientId,r(this.clientId),g,l),void 0!=this.willMessage&&(l=n(this.willMessage.destinationName,r(this.willMessage.destinationName),g,l),l=s(c.byteLength,g,l),g.set(c,l),l+=c.byteLength),void 0!=this.userName&&(l=n(this.userName,r(this.userName),g,l)),void 0!=this.password&&(l=n(this.password,r(this.password),g,l));break;case u.PUBLISH:g.set(d,l);break;case u.SUBSCRIBE:for(var h=0;h<this.topics.length;h++)l=n(this.topics[h],i[h],g,l),g[l++]=this.requestedQos[h];break;case u.UNSUBSCRIBE:for(var h=0;h<this.topics.length;h++)l=n(this.topics[h],i[h],g,l)}return _};var y=function(e,t,s){this._client=e,this._window=t,this._keepAliveInterval=1e3*s,this.isReset=!1;var n=new v(u.PINGREQ).encode(),i=function(e){return function(){return o.apply(e)}},o=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=this._window.setTimeout(i(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(l.PING_TIMEOUT.code,g(l.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,this._window.clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(i(this),this._keepAliveInterval))},this.cancel=function(){this._window.clearTimeout(this.timeout)}},w=function(e,t,s,n,i){this._window=t,s||(s=30);var o=function(e,t,s){return function(){return e.apply(t,s)}};this.timeout=setTimeout(o(n,e,i),1e3*s),this.cancel=function(){this._window.clearTimeout(this.timeout)}},E=function(t,s,n,i,o){if(!("WebSocket"in e&&null!==e.WebSocket))throw new Error(g(l.UNSUPPORTED,["WebSocket"]));if(!("localStorage"in e&&null!==e.localStorage))throw new Error(g(l.UNSUPPORTED,["localStorage"]));if(!("ArrayBuffer"in e&&null!==e.ArrayBuffer))throw new Error(g(l.UNSUPPORTED,["ArrayBuffer"]));this._trace("Paho.MQTT.Client",t,s,n,i,o),this.host=s,this.port=n,this.path=i,this.uri=t,this.clientId=o,this._localKey=s+":"+n+("/mqtt"!=i?":"+i:"")+":"+o+":",this._msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0;for(var r in localStorage)(0==r.indexOf("Sent:"+this._localKey)||0==r.indexOf("Received:"+this._localKey))&&this.restore(r)};E.prototype.host,E.prototype.port,E.prototype.path,E.prototype.uri,E.prototype.clientId,E.prototype.socket,E.prototype.connected=!1,E.prototype.maxMessageIdentifier=65536,E.prototype.connectOptions,E.prototype.hostIndex,E.prototype.onConnectionLost,E.prototype.onMessageDelivered,E.prototype.onMessageArrived,E.prototype.traceFunction,E.prototype._msg_queue=null,E.prototype._connectTimeout,E.prototype.sendPinger=null,E.prototype.receivePinger=null,E.prototype.receiveBuffer=null,E.prototype._traceBuffer=null,E.prototype._MAX_TRACE_ENTRIES=100,E.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(g(l.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(g(l.INVALID_STATE,["already connected"]));this.connectOptions=e,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},E.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(g(l.INVALID_STATE,["not connected"]));var s=new v(u.SUBSCRIBE);s.topics=[e],void 0!=t.qos?s.requestedQos=[t.qos]:s.requestedQos=[0],t.onSuccess&&(s.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(s.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e})}),t.timeout&&(s.timeOut=new w(this,window,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:l.SUBSCRIBE_TIMEOUT.code,errorMessage:g(l.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(s),this._schedule_message(s)},E.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(g(l.INVALID_STATE,["not connected"]));var s=new v(u.UNSUBSCRIBE);s.topics=[e],t.onSuccess&&(s.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(s.timeOut=new w(this,window,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:l.UNSUBSCRIBE_TIMEOUT.code,errorMessage:g(l.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(s),this._schedule_message(s)},E.prototype.send=function(e){if(this._trace("Client.send",e),!this.connected)throw new Error(g(l.INVALID_STATE,["not connected"]));wireMessage=new v(u.PUBLISH),wireMessage.payloadMessage=e,e.qos>0?this._requires_ack(wireMessage):this.onMessageDelivered&&(this._notify_msg_sent[wireMessage]=this.onMessageDelivered(wireMessage.payloadMessage)),this._schedule_message(wireMessage)},E.prototype.disconnect=function(){if(this._trace("Client.disconnect"),!this.socket)throw new Error(g(l.INVALID_STATE,["not connecting or connected"]));wireMessage=new v(u.DISCONNECT),this._notify_msg_sent[wireMessage]=f(this._disconnected,this),this._schedule_message(wireMessage)},E.prototype.getTraceLog=function(){if(null!==this._traceBuffer){this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length);for(var e in this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},E.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,h)},E.prototype.stopTrace=function(){delete this._traceBuffer},E.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=f(this._on_socket_open,this),this.socket.onmessage=f(this._on_socket_message,this),this.socket.onerror=f(this._on_socket_error,this),this.socket.onclose=f(this._on_socket_close,this),this.sendPinger=new y(this,window,this.connectOptions.keepAliveInterval),this.receivePinger=new y(this,window,this.connectOptions.keepAliveInterval),this._connectTimeout=new w(this,window,this.connectOptions.timeout,this._disconnected,[l.CONNECT_TIMEOUT.code,g(l.CONNECT_TIMEOUT)])},E.prototype._schedule_message=function(e){this._msg_queue.push(e),this.connected&&this._process_queue()},E.prototype.store=function(e,t){var s={type:t.type,messageIdentifier:t.messageIdentifier,version:1};switch(t.type){case u.PUBLISH:t.pubRecReceived&&(s.pubRecReceived=!0),s.payloadMessage={};for(var n="",i=t.payloadMessage.payloadBytes,o=0;o<i.length;o++)i[o]<=15?n=n+"0"+i[o].toString(16):n+=i[o].toString(16);s.payloadMessage.payloadHex=n,s.payloadMessage.qos=t.payloadMessage.qos,s.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(s.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(s.payloadMessage.retained=!0),0==e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),s.sequence=t.sequence);break;default:throw Error(g(l.INVALID_STORED_DATA,[key,s]))}localStorage.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(s))},E.prototype.restore=function(e){var t=localStorage.getItem(e),s=JSON.parse(t),n=new v(s.type,s);switch(s.type){case u.PUBLISH:for(var i=s.payloadMessage.payloadHex,o=new ArrayBuffer(i.length/2),r=new Uint8Array(o),a=0;i.length>=2;){var c=parseInt(i.substring(0,2),16);i=i.substring(2,i.length),r[a++]=c}var h=new Paho.MQTT.Message(r);h.qos=s.payloadMessage.qos,h.destinationName=s.payloadMessage.destinationName,s.payloadMessage.duplicate&&(h.duplicate=!0),s.payloadMessage.retained&&(h.retained=!0),n.payloadMessage=h;break;default:throw Error(g(l.INVALID_STORED_DATA,[e,t]))}0==e.indexOf("Sent:"+this._localKey)?(n.payloadMessage.duplicate=!0,this._sentMessages[n.messageIdentifier]=n):0==e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[n.messageIdentifier]=n)},E.prototype._process_queue=function(){for(var e=null,t=this._msg_queue.reverse();e=t.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},E.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===u.PUBLISH&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},E.prototype._on_socket_open=function(){var e=new v(u.CONNECT,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},E.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data),this.receivePinger.reset();for(var t=this._deframeMessages(e.data),s=0;s<t.length;s+=1)this._handleMessage(t[s])},E.prototype._deframeMessages=function(e){var s=new Uint8Array(e);if(this.receiveBuffer){var n=new Uint8Array(this.receiveBuffer.length+s.length);n.set(this.receiveBuffer),n.set(s,this.receiveBuffer.length),s=n,delete this.receiveBuffer}try{for(var i=0,o=[];i<s.length;){var r=t(s,i),a=r[0];if(i=r[1],null===a)break;o.push(a)}i<s.length&&(this.receiveBuffer=s.subarray(i))}catch(c){return void this._disconnected(l.INTERNAL_ERROR.code,g(l.INTERNAL_ERROR,[c.message,c.stack.toString()]))}return o},E.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case u.CONNACK:if(this._connectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var s=this._sentMessages[t];localStorage.removeItem("Sent:"+this._localKey+s.messageIdentifier)}this._sentMessages={};for(var t in this._receivedMessages){var n=this._receivedMessages[t];localStorage.removeItem("Received:"+this._localKey+n.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(l.CONNACK_RETURNCODE.code,g(l.CONNACK_RETURNCODE,[e.returnCode,_[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var i=new Array;for(var o in this._sentMessages)this._sentMessages.hasOwnProperty(o)&&i.push(this._sentMessages[o]);for(var i=i.sort(function(e,t){return e.sequence-t.sequence}),r=0,a=i.length;a>r;r++){var s=i[r];if(s.type==u.PUBLISH&&s.pubRecReceived){var c=new v(u.PUBREL,{messageIdentifier:s.messageIdentifier});this._schedule_message(c)}else this._schedule_message(s)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext}),this._process_queue();break;case u.PUBLISH:this._receivePublish(e);break;case u.PUBACK:var s=this._sentMessages[e.messageIdentifier];s&&(delete this._sentMessages[e.messageIdentifier],localStorage.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(s.payloadMessage));break;case u.PUBREC:var s=this._sentMessages[e.messageIdentifier];if(s){s.pubRecReceived=!0;var c=new v(u.PUBREL,{messageIdentifier:e.messageIdentifier});this.store("Sent:",s),this._schedule_message(c)}break;case u.PUBREL:var n=this._receivedMessages[e.messageIdentifier];localStorage.removeItem("Received:"+this._localKey+e.messageIdentifier),n&&(this._receiveMessage(n),delete this._receivedMessages[e.messageIdentifier]);var h=new v(u.PUBCOMP,{messageIdentifier:e.messageIdentifier});this._schedule_message(h);break;case u.PUBCOMP:var s=this._sentMessages[e.messageIdentifier];delete this._sentMessages[e.messageIdentifier],localStorage.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(s.payloadMessage);break;case u.SUBACK:var s=this._sentMessages[e.messageIdentifier];s&&(s.timeOut&&s.timeOut.cancel(),e.returnCode.indexOf=Array.prototype.indexOf,-1!==e.returnCode.indexOf(128)?s.onFailure&&s.onFailure(e.returnCode):s.onSuccess&&s.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case u.UNSUBACK:var s=this._sentMessages[e.messageIdentifier];s&&(s.timeOut&&s.timeOut.cancel(),s.callback&&s.callback(),delete this._sentMessages[e.messageIdentifier]);break;case u.PINGRESP:this.sendPinger.reset();break;case u.DISCONNECT:this._disconnected(l.INVALID_MQTT_MESSAGE_TYPE.code,g(l.INVALID_MQTT_MESSAGE_TYPE,[e.type]));break;default:this._disconnected(l.INVALID_MQTT_MESSAGE_TYPE.code,g(l.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(d){return void this._disconnected(l.INTERNAL_ERROR.code,g(l.INTERNAL_ERROR,[d.message,d.stack.toString()]))}},E.prototype._on_socket_error=function(e){this._disconnected(l.SOCKET_ERROR.code,g(l.SOCKET_ERROR,[e.data]))},E.prototype._on_socket_close=function(){this._disconnected(l.SOCKET_CLOSE.code,g(l.SOCKET_CLOSE))},E.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},E.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new v(u.PUBACK,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var s=new v(u.PUBREC,{messageIdentifier:e.messageIdentifier});this._schedule_message(s);break;default:throw Error("Invaild qos="+wireMmessage.payloadMessage.qos)}},E.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},E.prototype._disconnected=function(e,t){this._trace("Client._disconnected",e,t),this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&this._connectTimeout.cancel(),this._msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1?(this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex])):(void 0===e&&(e=l.OK.code,t=g(l.OK)),this.connected?(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t})):4===this.connectOptions.mqttVersion&&this.connectOptions.mqttVersionExplicit===!1?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t}))},E.prototype._trace=function(){if(this.traceFunction){for(var e in arguments)"undefined"!=typeof arguments[e]&&(arguments[e]=JSON.stringify(arguments[e]));var t=Array.prototype.slice.call(arguments).join("");this.traceFunction({severity:"Debug",message:t})}if(null!==this._traceBuffer)for(var e=0,s=arguments.length;s>e;e++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===e?this._traceBuffer.push(arguments[e]):"undefined"==typeof arguments[e]?this._traceBuffer.push(arguments[e]):this._traceBuffer.push("  "+JSON.stringify(arguments[e]))},E.prototype._traceMask=function(e,t){var s={};for(var n in e)e.hasOwnProperty(n)&&(n==t?s[n]="******":s[n]=e[n]);return s};var m=function(e,t,s,n){var i;if("string"!=typeof e)throw new Error(g(l.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){n=t,i=e;var o=i.match(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/);if(!o)throw new Error(g(l.INVALID_ARGUMENT,[e,"host"]));e=o[4]||o[2],t=parseInt(o[7]),s=o[8]}else{if(3==arguments.length&&(n=s,s="/mqtt"),"number"!=typeof t||0>t)throw new Error(g(l.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof s)throw new Error(g(l.INVALID_TYPE,[typeof s,"path"]));var r=-1!=e.indexOf(":")&&"["!=e.slice(0,1)&&"]"!=e.slice(-1);i="ws://"+(r?"["+e+"]":e)+":"+t+s}for(var a=0,c=0;c<n.length;c++){var h=n.charCodeAt(c);h>=55296&&56319>=h&&c++,a++}if("string"!=typeof n||a>65535)throw new Error(g(l.INVALID_ARGUMENT,[n,"clientId"]));var u=new E(i,e,t,s,n);this._getHost=function(){return e},this._setHost=function(){throw new Error(g(l.UNSUPPORTED_OPERATION))},this._getPort=function(){return t},this._setPort=function(){throw new Error(g(l.UNSUPPORTED_OPERATION))},this._getPath=function(){return s},this._setPath=function(){throw new Error(g(l.UNSUPPORTED_OPERATION))},this._getURI=function(){return i},this._setURI=function(){throw new Error(g(l.UNSUPPORTED_OPERATION))},this._getClientId=function(){return u.clientId},this._setClientId=function(){throw new Error(g(l.UNSUPPORTED_OPERATION))},this._getOnConnectionLost=function(){return u.onConnectionLost},this._setOnConnectionLost=function(e){if("function"!=typeof e)throw new Error(g(l.INVALID_TYPE,[typeof e,"onConnectionLost"]));u.onConnectionLost=e},this._getOnMessageDelivered=function(){return u.onMessageDelivered},this._setOnMessageDelivered=function(e){if("function"!=typeof e)throw new Error(g(l.INVALID_TYPE,[typeof e,"onMessageDelivered"]));u.onMessageDelivered=e},this._getOnMessageArrived=function(){return u.onMessageArrived},this._setOnMessageArrived=function(e){if("function"!=typeof e)throw new Error(g(l.INVALID_TYPE,[typeof e,"onMessageArrived"]));u.onMessageArrived=e},this._getTrace=function(){return u.traceFunction},this._setTrace=function(e){if("function"!=typeof e)throw new Error(g(l.INVALID_TYPE,[typeof e,"onTrace"]));u.traceFunction=e},this.connect=function(e){if(e=e||{},d(e,{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",mqttVersion:"number"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(g(l.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0===e.password&&void 0!==e.userName)throw new Error(g(l.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof M))throw new Error(g(l.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload,"undefined"==typeof e.willMessage.destinationName)throw new Error(g(l.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if("undefined"==typeof e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(g(l.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(g(l.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,n=0;n<e.hosts.length;n++){if("string"!=typeof e.hosts[n])throw new Error(g(l.INVALID_TYPE,[typeof e.hosts[n],"connectOptions.hosts["+n+"]"]));if(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/.test(e.hosts[n])){if(0==n)t=!0;else if(!t)throw new Error(g(l.INVALID_ARGUMENT,[e.hosts[n],"connectOptions.hosts["+n+"]"]))}else if(t)throw new Error(g(l.INVALID_ARGUMENT,[e.hosts[n],"connectOptions.hosts["+n+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(g(l.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(g(l.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!=e.ports.length)throw new Error(g(l.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));e.uris=[];for(var n=0;n<e.hosts.length;n++){if("number"!=typeof e.ports[n]||e.ports[n]<0)throw new Error(g(l.INVALID_TYPE,[typeof e.ports[n],"connectOptions.ports["+n+"]"]));var o=e.hosts[n],r=e.ports[n],a=-1!=o.indexOf(":");i="ws://"+(a?"["+o+"]":o)+":"+r+s,e.uris.push(i)}}}u.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e)throw new Error("Invalid argument:"+e);if(t=t||{},d(t,{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if("undefined"!=typeof t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(g(l.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));u.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e)throw new Error("Invalid argument:"+e);if(t=t||{},d(t,{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");u.unsubscribe(e,t)},this.send=function(e,t,s,n){var i;if(0==arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof M)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(i=e,"undefined"==typeof i.destinationName)throw new Error(g(l.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));u.send(i)}else i=new M(t),i.destinationName=e,arguments.length>=3&&(i.qos=s),arguments.length>=4&&(i.retained=n),u.send(i)},this.disconnect=function(){u.disconnect()},this.getTraceLog=function(){return u.getTraceLog()},this.startTrace=function(){u.startTrace()},this.stopTrace=function(){u.stopTrace()},this.isConnected=function(){return u.connected}};m.prototype={get host(){return this._getHost()},set host(e){this._setHost(e)},get port(){return this._getPort()},set port(e){this._setPort(e)},get path(){return this._getPath()},set path(e){this._setPath(e)},get clientId(){return this._getClientId()},set clientId(e){this._setClientId(e)},get onConnectionLost(){return this._getOnConnectionLost()},set onConnectionLost(e){this._setOnConnectionLost(e)},get onMessageDelivered(){return this._getOnMessageDelivered()},set onMessageDelivered(e){this._setOnMessageDelivered(e)},get onMessageArrived(){return this._getOnMessageArrived()},set onMessageArrived(e){this._setOnMessageArrived(e)},get trace(){return this._getTrace()},set trace(e){this._setTrace(e)}};var M=function(e){var t;if(!("string"==typeof e||e instanceof ArrayBuffer||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array))throw g(l.INVALID_ARGUMENT,[e,"newPayload"]);t=e,this._getPayloadString=function(){return"string"==typeof t?t:c(t,0,t.length)},this._getPayloadBytes=function(){if("string"==typeof t){var e=new ArrayBuffer(r(t)),s=new Uint8Array(e);return a(t,s,0),s}return t};var s=void 0;this._getDestinationName=function(){return s},this._setDestinationName=function(e){if("string"!=typeof e)throw new Error(g(l.INVALID_ARGUMENT,[e,"newDestinationName"]));s=e};var n=0;this._getQos=function(){return n},this._setQos=function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);n=e};var i=!1;this._getRetained=function(){return i},this._setRetained=function(e){if("boolean"!=typeof e)throw new Error(g(l.INVALID_ARGUMENT,[e,"newRetained"]));i=e};var o=!1;this._getDuplicate=function(){return o},this._setDuplicate=function(e){o=e}};return M.prototype={get payloadString(){return this._getPayloadString()},get payloadBytes(){return this._getPayloadBytes()},get destinationName(){return this._getDestinationName()},set destinationName(e){this._setDestinationName(e)},get qos(){return this._getQos()},set qos(e){this._setQos(e)},get retained(){return this._getRetained()},set retained(e){this._setRetained(e)},get duplicate(){return this._getDuplicate()},set duplicate(e){this._setDuplicate(e)}},{Client:m,Message:M}}(window);';return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:i,address:e.uri}),t.global.require=n,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*jquery*/
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){je.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Ae(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tt(e,t,o),(0>i||null==i)&&(i=e.style[t]),rt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&Ae(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(e,"display"),c="none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else l=void 0;if(ie.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=yt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=yt[o].call(l,e,c,l.opts))return r;return ie.map(c,M,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,G=J.concat,Q=J.push,K=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.3",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return G.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=G.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ne){K={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(q.compareDocumentPosition),B=t||ve.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),w.matchesSelector&&_&&(!F||!F.test(n))&&(!M||!M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ue,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in T.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),
o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&ie.isFunction(e.promise)?a:0,u=1===s?e:ie.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te,Ce="undefined";for(Te in ie(ne))break;ne.ownLast="0"!==Te,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?u(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},je=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Ce||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,_e.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ce&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ge=m(he),Qe=Ge.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(o=Qe.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(We.exec(o)||["",""])[1].toLowerCase(),c=Ye[u]||Ye._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==u||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Ce?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if("string"==typeof e&&!Ie.test(e)&&(ne.htmlSerialize||!Be.test(e))&&(ne.leadingWhitespace||!Pe.test(e))&&!Ye[(We.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=ie.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et,tt,nt=/^margin/,rt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),rt.test(a)&&nt.test(t)&&(r=s.width,i=s.minWidth,
o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),rt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ut=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&et(e);return D(e,n,r?j(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},nt.test(e)||(ie.cssHooks[e+t].set=D)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=et(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],(n.selected||u===i)&&(ne.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ce?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Bt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+jt++):o+(Lt.test(o)?"&":"?")+"_="+jt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(zt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Gt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Gt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:n.replace(Jt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Qt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Qt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Kt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Ce&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return De(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),rt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");
return De(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Ce&&(e.jQuery=e.$=ie),ie});
/*jquery-ui*/
!function(t){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],t):t(jQuery)}(function(t){function e(e,s){var n,o,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function s(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",a)}function a(){t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function h(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}};var l=0,u=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r,h={},l=e.split(".")[0];return e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},o=t[l][e],a=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?void(h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(h[e]=s)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||e:e},h,{constructor:a,namespace:l,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,s,n=u.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(t.isPlainObject(s)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):e[i]=s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=u.call(arguments,1),r=this;return o?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'")}):(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}});var c=(t.widget,!1);t(document).mouseup(function(){c=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),c=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var n,o,a=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=t.extend({},n);var p,m,g,v,_,b,y=t(n.of),w=t.position.getWithinInfo(n.within),x=t.position.getScrollInfo(w),k=(n.collision||"flip").split(" "),C={};return b=s(y),y[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,_=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?_.left+=m:"center"===n.at[0]&&(_.left+=m/2),"bottom"===n.at[1]?_.top+=g:"center"===n.at[1]&&(_.top+=g/2),p=e(C.at,m,g),_.left+=p[0],_.top+=p[1],this.each(function(){var s,l,u=t(this),c=u.outerWidth(),d=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=c+f+i(this,"marginRight")+x.width,I=d+b+i(this,"marginBottom")+x.height,T=t.extend({},_),P=e(C.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?T.left-=c:"center"===n.my[0]&&(T.left-=c/2),"bottom"===n.my[1]?T.top-=d:"center"===n.my[1]&&(T.top-=d/2),T.left+=P[0],T.top+=P[1],o||(T.left=h(T.left),T.top=h(T.top)),s={marginLeft:f,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](T,{targetWidth:m,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:s,collisionWidth:D,collisionHeight:I,offset:[p[0]+P[0],p[1]+P[1]],my:n.my,at:n.at,within:w,elem:u})}),n.using&&(l=function(t){var e=v.left-T.left,i=e+m-c,s=v.top-T.top,o=s+g-d,h={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:T.left,top:T.top,width:c,height:d},horizontal:0>i?"left":e>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};c>m&&r(e+i)<m&&(h.horizontal="center"),d>g&&r(s+o)<g&&(h.vertical="middle"),a(r(e),r(i))>a(r(s),r(o))?h.important="horizontal":h.important="vertical",n.using.call(this,t,h)}),u.offset(t.extend(T,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-o-n;e.collisionWidth>o?h>0&&0>=l?(i=t.left+h+e.collisionWidth-o-n,t.left+=h-i):l>0&&0>=h?t.left=n:h>l?t.left=n+o-e.collisionWidth:t.left=n:h>0?t.left+=h:l>0?t.left-=l:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-o-n;e.collisionHeight>o?h>0&&0>=l?(i=t.top+h+e.collisionHeight-o-n,t.top+=h-i):l>0&&0>=h?t.top=n:h>l?t.top=n+o-e.collisionHeight:t.top=n:h>0?t.top+=h:l>0?t.top-=l:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-h,c=l+e.collisionWidth-a-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||i<r(u))&&(t.left+=d+p+f)):c>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||r(s)<c)&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-h,c=l+e.collisionHeight-a-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(s=t.top+p+f+m+e.collisionHeight-a-o,(0>s||s<r(u))&&(t.top+=p+f+m)):c>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-h,(i>0||r(i)<c)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,r=document.getElementsByTagName("body")[0],h=document.createElement("div");e=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(h),i=r||document.documentElement,i.insertBefore(e,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=t(h).offset().left,o=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n[0]===s[0],a=o&&i.collapsible,r=a?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:a?t():n,newPanel:r};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,l)===!1||(i.active=a?!1:this.headers.index(n),this.active=o?t():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},c=l&&u.down||u,d=function(){a._toggleComplete(i)};return"number"==typeof c&&(o=c),"string"==typeof c&&(n=c),n=n||c.easing||u.easing,o=o||c.duration||u.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}})):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){
if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",n=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,s=this,n=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),s=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),e=o.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s-n<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).text()))})}});t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,void(s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion))))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});var d,p=(t.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(n)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var s=e.element[0];g(s).not(s).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(t(this).addClass("ui-state-active"),d=this,void e.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return i.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(f),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});t.ui.button;t.extend(t.ui,{datepicker:{version:"1.11.4"}});var v;t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var a,h,l,u,c,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,a,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),void(l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==a&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,a)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){
var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,o,a,h,l,u;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),o=n?n.apply(e,[e,i]):{},o!==!1&&(r(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),h=t.datepicker._checkOffset(i,h,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),u=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],o=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&a.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",o*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,b=!1,y=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=new RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},x=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;n<e.length;n++)if(b)"'"!==e.charAt(n)||y("'")?k():b=!1;else switch(e.charAt(n)){case"d":v=w("d");break;case"D":x("D",c,d);break;case"o":_=w("o");break;case"m":g=w("m");break;case"M":g=x("M",p,f);break;case"y":m=w("y");break;case"@":r=new Date(w("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":y("'")?k():b=!0;break;default:k()}if(h<i.length&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),_>-1)for(g=1,v=_;;){if(o=this._getDaysInMonth(m,g-1),o>=v)break;g++,v-=o}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;s.length<i;)s="0"+s;return s},u=function(t,e,i,s){return h(t)?s[e]:i[e]},c="",d=!1;if(e)for(s=0;s<t.length;s++)if(d)"'"!==t.charAt(s)||h("'")?c+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":c+=l("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),n,o);break;case"o":c+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),a,r);break;case"y":c+=h("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?c+="'":d=!0;break;default:c+=t.charAt(s)}return c},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=e+1<t.length&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;e<t.length;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,u,c,d,p,f,m,g,v,_,b,y,w,x,k,C,D,I,T,P,M,S,z,H,A,N,E,W,O,F,R,L=new Date,Y=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),B=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+X,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:Y,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":h)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",x=0;x<U[0];x++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if(D=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",T="",$){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(B?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(B?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===x?B?o:s:"")+(/all|right/.test(I)&&0===x?B?s:o:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,x>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+u)%7,P+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),z=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,H=Math.ceil((z+S)/7),A=$&&this.maxRows>H?this.maxRows:H,this.maxRows=A,N=this._daylightSavingAdjust(new Date(tt,Z,1-z)),E=0;A>E;E++){for(T+="<tr>",W=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",w=0;7>w;w++)O=g?g.apply(t.input?t.input[0]:null,[N]):[!0,""],F=N.getMonth()!==Z,R=F&&!_||!O[0]||Q&&Q>N||J&&N>J,W+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+O[1]+(N.getTime()===G.getTime()?" "+this._currentClass:"")+(N.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===Y.getTime()?" ui-state-highlight":"")+(N.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);T+=W+"</tr>"}Z++,Z>11&&(Z=0,tt++),T+="</tbody></table>"+($?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=T}y+=k}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,u,c,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!g)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||u<=n.getMonth())&&(y+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+r[u]+"</option>");y+="</select>"}if(_||(b+=y+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(c[0]),m=Math.max(f,p(c[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!o&&g&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4";t.datepicker;t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(s){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),
i=t(n.containment),s=i[0],void(s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,u,c,d,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,u=s.snapElements[d].top-s.margins.top,c=u+s.snapElements[d].height,h-m>v||g>l+m||u-m>b||_>c+m||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(u-b)<=m,o=Math.abs(c-_)<=m,a=Math.abs(h-v)<=m,r=Math.abs(l-g)<=m,n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=Math.abs(u-_)<=m,o=Math.abs(c-b)<=m,a=Math.abs(h-g)<=m,r=Math.abs(l-v)<=m,n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i,s,n,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),o="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),a.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,o=s?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),i<o.maxWidth&&(o.maxWidth=i),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&u&&(t.top=h-e.minHeight),n&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(s[e],10)||0,i[e]+=parseInt(n[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,u=h.element,c=l.containment,d=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;d&&(h.containerElement=t(d),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,u=a._aspectRatio||e.shiftKey,c={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-c.left),u&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-c.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-c.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,u&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,c=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/u)*u,p=o.width+c,f=o.height+d,m=s.maxWidth&&s.maxWidth<p,g=s.maxHeight&&s.maxHeight<f,v=s.minWidth&&s.minWidth>p,_=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),_&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-c):((0>=f-u||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=a.top-d):(f=u-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-c):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}});t.ui.resizable,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),
void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.focus()}),e.preventDefault()):(this._delay(function(){s.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},o={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(r>=0?"+":"")+r,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(h>=0?"+":"")+h,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,u=i.offset.top,c=l+i.proportions().width,d=u+i.proportions().height;switch(s){case"fit":return o>=l&&c>=r&&a>=u&&d>=h;case"intersect":return l<o+e.helperProportions.width/2&&r-e.helperProportions.width/2<c&&u<a+e.helperProportions.height/2&&h-e.helperProportions.height/2<d;case"pointer":return t(n.pageY,u,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=u&&d>=a||h>=u&&d>=h||u>a&&h>d)&&(o>=l&&c>=o||r>=l&&c>=r||l>o&&r>c);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<o.length;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;n<r.length;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=t.ui.intersect(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};var _=(t.ui.droppable,"ui-effects-"),b=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=c[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function s(e){var i=l(),s=i._rgba=[];return e=e.toLowerCase(),f(h,function(t,n){var o,a=n.re.exec(e),r=a&&n.parse(a),h=n.space||"rgba";return r?(o=i[h](r),i[u[h].cache]=o[u[h].cache],s=i._rgba=o._rgba,!1):void 0}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),i):o[e]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var c=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(u,function(t,e){n[e.cache]&&(c[e.cache]=n[e.cache].slice())}):f(u,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!c[o]&&s.to){if("alpha"===t||null==n[t])return;c[o]=s.to(c._rgba)}c[o][e.idx]=i(n[t],e,!0)}),c[o]&&t.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,s.from&&(c._rgba=s.from(c[o])))}),this):void 0},is:function(t){var e=l(t),i=!0,s=this;return f(u,function(t,n){var o,a=e[n.cache];return a&&(o=s[n.cache]||n.to&&n.to(s._rgba)||[],f(n.props,function(t,e){return null!=a[e.idx]?i=a[e.idx]===o[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(u,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=u[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],u=c[n.type]||{};null!==l&&(null===a?h[o]=l:(u.mod&&(l-a>u.mod/2?a+=u.mod:a-l>u.mod/2&&(a-=u.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,u=r+h,c=.5*u;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=c?l/u:l/(2-u),[Math.round(e)%360,i,c,null==a?1:a]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(u,function(s,n){var o=n.props,a=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),c="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=c["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),u?(n=l(u(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===a?u:("function"===a&&(n=n.call(this,u),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=u+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(b.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(_+e[i],t[0].style[e[i]])},restore:function(t,e){var i,s;for(s=0;s<e.length;s++)null!==e[s]&&(i=t.data(_+e[s]),void 0===i&&(i=""),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(o)&&o.call(n[0]),t.isFunction(e)&&e()}var n=t(this),o=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):a.call(n[0],s,i)}var s=e.apply(this,arguments),n=s.mode,o=s.queue,a=t.effects.effect[s.effect];return t.fx.off||!a?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):o===!1?this.each(i):this.queue(o||"fx",i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();t.effects,t.effects.effect.blind=function(e,i){var s,n,o,a=t(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(a,e.mode||"hide"),c=e.direction||"up",d=r.test(c),p=d?"height":"width",f=d?"top":"left",m=h.test(c),g={},v="show"===u;a.parent().is(".ui-effects-wrapper")?t.effects.save(a.parent(),l):t.effects.save(a,l),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n=s[p](),o=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(a.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?o:n+o),v&&(s.css(p,0),m||s.css(f,o+n)),s.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&a.hide(),t.effects.restore(a,l),t.effects.removeWrapper(a),i()}})},t.effects.effect.bounce=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"effect"),l="hide"===h,u="show"===h,c=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(u||l?1:0),m=e.duration/f,g=e.easing,v="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,b=a.queue(),y=b.length;for((u||l)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,_?2*-d:2*d).animate(o,m,g)),l&&(d/=Math.pow(2,p-1)),o={},o[v]=0,s=0;p>s;s++)n={},n[v]=(_?"-=":"+=")+d,a.animate(n,m,g).animate(o,m,g),d=l?2*d:d/2;l&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,a.animate(n,m,g)),a.queue(function(){l&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),a.dequeue()},t.effects.effect.clip=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"hide"),l="show"===h,u=e.direction||"vertical",c="vertical"===u,d=c?"height":"width",p=c?"top":"left",f={};t.effects.save(a,r),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n="IMG"===a[0].tagName?s:a,o=n[d](),l&&(n.css(d,0),n.css(p,o/2)),f[d]=l?o:0,f[p]=l?0:o/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})},t.effects.effect.drop=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(n,e.mode||"hide"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",c={opacity:r?1:0};t.effects.save(n,o),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),c[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})},t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===c*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),m||p.hide(),i()}var o,a,r,h,l,u,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=c,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/c),b=[];for(o=0;c>o;o++)for(h=g.top+o*_,u=o-(c-1)/2,a=0;d>a;a++)r=g.left+a*v,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(m?l*v:0),top:h+(m?u*_:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*_),opacity:m?1:0},e.duration||500,e.easing,s)},t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var s,n,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),h="show"===r,l="hide"===r,u=e.size||15,c=/([0-9]+)%/.exec(u),d=!!e.horizFirst,p=h!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,a),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],c&&(u=parseInt(c[1],10)/100*n[l?0:1]),h&&s.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,e.easing).animate(v,m,e.easing,function(){l&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})},t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(s,e.mode||"show"),a={backgroundColor:s.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"
}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,n),i()}})},t.effects.effect.size=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=a.css("position"),_=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),s={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||s):(a.from=e.from||("show"===p?b:s),a.to=e.to||("hide"===p?b:s)),o={from:{y:a.from.height/s.height,x:a.from.width/s.width},to:{y:a.to.height/s.height,x:a.to.width/s.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(_=_.concat(c),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),o.from.x!==o.to.x&&(_=_.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(_=_.concat(u).concat(l),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),t.effects.save(a,_),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(n=t.effects.getBaseline(g,s),a.from.top=(s.outerHeight-a.outerHeight())*n.y,a.from.left=(s.outerWidth-a.outerWidth())*n.x,a.to.top=(s.outerHeight-a.to.outerHeight)*n.y,a.to.left=(s.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),("content"===m||"both"===m)&&(c=c.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),l=r.concat(c).concat(d),a.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,l),i.from={height:s.height*o.from.y,width:s.width*o.from.x,outerHeight:s.outerHeight*o.from.y,outerWidth:s.outerWidth*o.from.x},i.to={height:s.height*o.to.y,width:s.width*o.to.x,outerHeight:s.height*o.to.y,outerWidth:s.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,c,o.from.y,i.from),i.to=t.effects.setTransition(i,c,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,l)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,_),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var s=parseInt(i,10),n=t?a.to.left:a.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(a),i()}})},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),o=t.effects.setMode(s,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",h=e.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==o&&(n.origin=h||["middle","center"],n.restore=!0),n.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),o="hide"===n,a=parseInt(e.percent,10)||150,r=a/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:o?a:100,from:o?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(e)},t.effects.effect.pulsate=function(e,i){var s,n=t(this),o=t.effects.setMode(n,e.mode||"show"),a="show"===o,r="hide"===o,h=a||"hide"===o,l=2*(e.times||5)+(h?1:0),u=e.duration/l,c=0,d=n.queue(),p=d.length;for((a||!n.is(":visible"))&&(n.css("opacity",0).show(),c=1),s=1;l>s;s++)n.animate({opacity:c},u,e.easing),c=1-c;n.animate({opacity:c},u,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue()},t.effects.effect.shake=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",h=e.distance||20,l=e.times||3,u=2*l+1,c=Math.round(e.duration/u),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),_=v.length;for(t.effects.save(n,o),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+h,m[d]=(p?"+=":"-=")+2*h,g[d]=(p?"-=":"+=")+2*h,n.animate(f,c,e.easing),s=1;l>s;s++)n.animate(m,c,e.easing).animate(g,c,e.easing);n.animate(m,c,e.easing).animate(f,c/2,e.easing).queue(function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,u+1))),n.dequeue()},t.effects.effect.slide=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(n,e.mode||"show"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,c={};t.effects.save(n,o),n.show(),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),c[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})},t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},c=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:c.top-r,left:c.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),i()})},t.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||i.right<o||i.top>h||i.bottom<a):"fit"===n.tolerance&&(l=i.left>o&&i.right<r&&i.top>a&&i.bottom<h),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){o.optgroup!==n&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,s){var n=t(s),o=n.parent("optgroup");i.push({element:n,index:e,value:n.val(),label:n.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,o;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),o!==!1&&this.values(e,i))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;o<s.length;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.floor(+(t-e).toFixed(this._precision())/i)*i;t=s+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=(h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())*100,u["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(s-n)/(o-n)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"));
},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+u>o&&a>e+u,p=c&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&i,n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return s?this.floating?o&&"right"===o||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(c.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=c.length-1;i>=0;i--)for(a=c[i][1],r=c[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),u.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,u,c,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,u=d.floating||this._isFloating(this.currentItem),a=u?"left":"top",r=u?"width":"height",c=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[c]-h>this.items[s][r]/2&&(l=!0),Math.abs(e[c]-h)<n&&(n=Math.abs(e[c]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:h(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:h(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:h(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:h(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void h(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;e=e.cloneNode(!1),i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){
var i=t(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s===this.options.active?!1:s);default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),u={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),void(i&&this._open(e,t,i)))},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(s);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,t("<div>").html(h).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)))):void n.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});
/*free-jqgrid*/
define("free-jqgrid",["module","@loader"],function(e,t){t.get("@@global-helpers").prepareGlobal(e.id,[]);var i=t.global.define,r=t.global.require,a='!function(a){var p={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required (\'http://\' or \'https://\')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:"Sun Mon Tue Wed Thr Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" "),AmPm:["am","pm","AM","PM"],S:function(e){var t=["st","nd","rd","th"];return 11>e||e>13?t[Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};a.jgrid=a.jgrid||{};var t=a.jgrid;t.locales=t.locales||{};var w=t.locales;(null==t.defaults||a.isEmptyObject(w)||void 0===w["en-US"])&&(void 0===w["en-US"]&&a.extend(!0,t,{locales:{"en-US":p}}),t.defaults=t.defaults||{},void 0===t.defaults.locale&&(t.defaults.locale="en-US")),t.defaults=t.defaults||{};var m=t.defaults;a.extend(!0,t,{version:"4.9.2",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-carat-1-sw",openRtl:"ui-icon-carat-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"ui-state-default fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"ui-resizable-se ui-state-default fa fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"ui-state-default fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}}},guiStyles:{jQueryUI:{gBox:"ui-widget ui-widget-content ui-corner-all",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-widget ui-widget-content ui-corner-all ui-front",content:"ui-widget-content",hr:"ui-widget-content",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewLabel:"ui-widget-content",viewData:"ui-widget-content",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default test",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",tdData:"ui-widget-content"},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content",top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,\'"\').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},clearArray:function(e){for(;0<e.length;)e.pop()},format:function(e){var t=a.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\\{(\\d+)\\}/g,function(e,i){return t[i]})},template:function(e){var t,i=a.makeArray(arguments).slice(1),r=i.length;return null==e&&(e=""),e.replace(/\\{([\\w\\-]+)(?:\\:([\\w\\.]*)(?:\\((\\.*?)?\\))?)?\\}/g,function(e,o){var l,n;if(!isNaN(parseInt(o,10)))return i[parseInt(o,10)];for(t=0;r>t;t++)if(a.isArray(i[t]))for(l=i[t],n=l.length;n--;)if(o===l[n].nm)return l[n].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);return null!=t&&3===t.length&&(e=parseFloat(t[2]||-1)),e},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getCellIndex:function(e){return e=a(e),e.is("tr")?-1:(e=(e.is("td")||e.is("th")?e:e.closest("td,th"))[0],null==e?-1:t.msie?a.inArray(e,e.parentNode.cells):e.cellIndex)},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|\'[^\']*\'|[^\'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\\"/g,"\'"):"":e},stripPref:function(e,t){var i=a.type(e);return("string"===i||"number"===i)&&(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},parse:function(b){return"while(1);"===b.substr(0,9)&&(b=b.substr(9)),"/*"===b.substr(0,2)&&(b=b.substr(2,b.length-4)),b||(b="{}"),!0===t.useJSON&&"object"==typeof JSON&&a.isFunction(JSON.parse)?JSON.parse(b):eval("("+b+")")},getRes:function(e,t){var i,r=t.split("."),a=r.length;if(null!=e){for(i=0;a>i;i++){if(!r[i])return null;if(e=e[r[i]],void 0===e)break;if("string"==typeof e)break}return e}},parseDate:function(e,i,r,o){var l,n,s,d=0,c=0;l="string"==typeof i?i.match(/^\\/Date\\((([\\-+])?[0-9]+)(([\\-+])([0-9]{2})([0-9]{2}))?\\)\\/$/):null;var u=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},d={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(o=a.extend(!0,{},(t.formatter||{}).date,null!=this.p?t.getRes(w[this.p.locale],"formatter.date")||{}:{},o||{}),void 0===o.parseRe&&(o.parseRe=/[#%\\\\\\/:_;.,\\t\\s\\-]/),o.masks.hasOwnProperty(e)&&(e=o.masks[e]),i&&null!=i)if(isNaN(i)||"u"!==String(e).toLowerCase())if(i.constructor===Date)d=i;else if(null!==l)d=new Date(parseInt(l[1],10)),l[3]&&(c=60*Number(l[5])+Number(l[6]),c*="-"===l[4]?1:-1,c-=d.getTimezoneOffset(),d.setTime(Number(Number(d)+6e4*c)));else{for("ISO8601Long"===o.srcformat&&"Z"===i.charAt(i.length-1)&&(c-=(new Date).getTimezoneOffset()),i=String(i).replace(/\\T/g,"#").replace(/\\t/,"%").split(o.parseRe),e=e.replace(/\\T/g,"#").replace(/\\t/,"%").split(o.parseRe),n=0,s=Math.min(e.length,i.length);s>n;n++){switch(e[n]){case"M":l=a.inArray(i[n],o.monthNames),-1!==l&&12>l&&(i[n]=l+1,d.m=i[n]);break;case"F":l=a.inArray(i[n],o.monthNames,12),-1!==l&&l>11&&(i[n]=l+1-12,d.m=i[n]);break;case"n":d.m=parseInt(i[n],10);break;case"j":d.d=parseInt(i[n],10);break;case"g":d.h=parseInt(i[n],10);break;case"a":l=a.inArray(i[n],o.AmPm),-1!==l&&2>l&&i[n]===o.AmPm[l]&&(i[n]=l,d.h=h(i[n],d.h));break;case"A":l=a.inArray(i[n],o.AmPm),-1!==l&&l>1&&i[n]===o.AmPm[l]&&(i[n]=l-2,d.h=h(i[n],d.h))}void 0!==i[n]&&(d[e[n].toLowerCase()]=parseInt(i[n],10))}if(d.f&&(d.m=d.f),0===d.m&&0===d.y&&0===d.d)return"&#160;";d.m=parseInt(d.m,10)-1,e=d.y,e>=70&&99>=e?d.y=1900+d.y:e>=0&&69>=e&&(d.y=2e3+d.y),d=new Date(d.y,d.m,d.d,d.h,d.i,d.s,d.u),c>0&&d.setTime(Number(Number(d)+6e4*c))}else d=new Date(1e3*parseFloat(i));else d=new Date(d.y,d.m,d.d,d.h,d.i,d.s,d.u);if(o.userLocalTime&&0===c&&(c-=(new Date).getTimezoneOffset(),c>0&&d.setTime(Number(Number(d)+6e4*c))),void 0===r)return d;o.masks.hasOwnProperty(r)?r=o.masks[r]:r||(r="Y-m-d"),c=d.getHours(),e=d.getMinutes(),i=d.getDate(),h=d.getMonth()+1,l=d.getTimezoneOffset(),n=d.getSeconds(),s=d.getMilliseconds();var p=d.getDay(),f=d.getFullYear(),g=(p+6)%7+1,m=(new Date(f,h-1,i)-new Date(f,0,1))/864e5,v=5>g?Math.floor((m+g-1)/7)+1:Math.floor((m+g-1)/7)||(4>(new Date(f-1,0,1).getDay()+6)%7?53:52),b={d:u(i),D:o.dayNames[p],j:i,l:o.dayNames[p+7],N:g,S:o.S(i),w:p,z:m,W:v,F:o.monthNames[h-1+12],m:u(h),M:o.monthNames[h-1],n:h,t:"?",L:"?",o:"?",Y:f,y:String(f).substring(2),a:12>c?o.AmPm[0]:o.AmPm[1],A:12>c?o.AmPm[2]:o.AmPm[3],B:"?",g:c%12||12,G:c,h:u(c%12||12),H:u(c),i:u(e),s:u(n),u:s,e:"?",I:"?",O:(l>0?"-":"+")+u(100*Math.floor(Math.abs(l)/60)+Math.abs(l)%60,4),P:"?",T:(String(d).match(/\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\\-+]\\d{4})?)\\b/g)||[""]).pop().replace(/[^\\-+\\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(d/1e3)};return r.replace(/\\\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return b.hasOwnProperty(e)?b[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&\'()*+,.\\/:; <=>?@\\[\\\\\\]\\^`{|}~]/g,"\\\\$&")},getGridComponentId:function(e){if(null==this.p||!this.p.id)return"";var t=this.p.id;switch(e){case 21:return t;case 0:return"gbox_"+t;case 8:return"gview_"+t;case 3:return"alertmod_"+t;case 43:return"rs_m"+t;case 45:return"cb_"+t;case 46:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){return(e=t.getGridComponentId.call(this,e))?"#"+t.jqID(e):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,i){var r;if(i instanceof a||0<i.length)r=i[0];else{if(!t.isHTMLElement(i))return a();r=i,i=a(r)}switch(e){case 21:return i.hasClass("ui-jqgrid-bdiv")?i.find(">div>.ui-jqgrid-btable"):a();case 14:return i.hasClass("ui-jqgrid-hdiv")?i.find(">div>.ui-jqgrid-htable"):a();case 27:return i.hasClass("ui-jqgrid-sdiv")?i.find(">div>.ui-jqgrid-ftable"):a();case 31:return i.hasClass("ui-jqgrid-hdiv")?i.children(".ui-jqgrid-htable"):a();case 36:return i.hasClass("ui-jqgrid-sdiv")?i.children(".ui-jqgrid-ftable"):a();case 18:return i.hasClass("ui-jqgrid-btable")&&null!=r.grid?a(r.grid.bDiv):a();case 12:return i.hasClass("ui-jqgrid-btable")&&null!=r.grid?a(r.grid.hDiv):a();case 25:return i.hasClass("ui-jqgrid-btable")&&null!=r.grid?a(r.grid.sDiv):a();default:return a()}},fixScrollOffsetAndhBoxPadding:function(){var e=this.grid;if(e){var t=this.p,i=e.bDiv,r=function(e){var r=a(e).children("div").first();r.css(r.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",t.scrollOffset),e.scrollLeft=i.scrollLeft};0<a(i).width()&&(t.scrollOffset=i.offsetWidth-i.clientWidth,r(e.hDiv),e.sDiv&&r(e.sDiv))}},mergeCssClasses:function(){var e,t,i,r,o=a.makeArray(arguments),l={},n=[];for(e=0;e<o.length;e++)for(i=String(o[e]).split(" "),t=0;t<i.length;t++)r=i[t],""===r||l.hasOwnProperty(r)||(l[r]=!0,n.push(r));return n.join(" ")},hasOneFromClasses:function(e,t){var i,r=a(e),o=t.split(" "),l=o.length;for(i=0;l>i;i++)if(r.hasClass(o[i]))return!0;return!1},detectRowEditing:function(e){var t,i,r,o=this.rows,l=this.p,n=a.isFunction;if(!this.grid||null==o||null==l||void 0===l.savedRow||0===l.savedRow.length)return null;for(t=0;t<l.savedRow.length;t++)if(i=l.savedRow[t],"number"==typeof i.id&&"number"==typeof i.ic&&void 0!==i.name&&void 0!==i.v&&null!=o[i.id]&&o[i.id].id===e&&n(a.fn.jqGrid.restoreCell)){if(r=o[i.id],null!=r&&r.id===e)return{mode:"cellEditing",savedRow:i}}else if(i.id===e&&n(a.fn.jqGrid.restoreRow))return{mode:"inlineEditing",savedRow:i};return null},getCell:function(e,t){var i=this.grid,r=this.p;return i&&r?((e instanceof a||0<e.length)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(r=a(e.cells[t]),i=i.fbRows,null!=i&&t<i[0].cells.length?r.add(i[e.rowIndex].cells[t]):r):a()):a()},getDataFieldOfCell:function(e,i){var r=this.p,a=t.getCell.call(this,e,i);return r.treeGrid&&0<a.children("div.tree-wrap").length&&(a=a.children("span.cell-wrapperleaf,span.cell-wrapper")),r.colModel[i].autoResizable?a.children("span."+r.autoResizing.wrapperClassName):a},enumEditableCells:function(e,t,i){var r=this.grid,o=this.rows,l=this.p;if(null==r||null==o||null==l||null==e||null==e.rowIndex||!e.id||!a.isFunction(i))return null;var n,s,d,c,u,h,o=l.colModel,p=o.length,f=e.rowIndex;n=r.fbRows;var g=(r=null!=n)?n[f]:null;for(r&&(e=this.rows[f]),n=0;p>n&&(s=o[n],d=s.name,"cb"===d||"subgrid"===d||"rn"===d||(r&&!s.frozen&&(r=!1),c=(r?g:e).cells[n],u=a(c),u.hasClass("not-editable-cell")||(h=u.width(),!0===l.treeGrid&&d===l.ExpandColumn?(h-=u.children("div.tree-wrap").outerWidth(),u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()):h=0,d={rowid:e.id,iCol:n,iRow:f,cmName:d,cm:s,mode:t,td:c,tr:e,trFrozen:g,dataElement:u[0],dataWidth:h},s.edittype||(s.edittype="text"),s=s.editable,s=a.isFunction(s)?s.call(this,d):s,!0!==s||!1!==i.call(this,d))));n++);},getEditedValue:function(e,i,r){var o,l,n=r?"text":"val",s=i.formatoptions||{};r=i.editoptions||{};var d=r.custom_value,c="[name="+t.jqID(i.name)+"]",u=a(this);switch(i.edittype){case"checkbox":o=["Yes","No"],"string"==typeof r.value&&(o=r.value.split(":")),o=e.find("input[type=checkbox]").is(":checked")?o[0]:o[1];break;case"text":case"password":case"textarea":case"button":e=e.find("input"+c+",textarea"+c),o=e.val(),"date"===e[this.p.propOrAttr]("type")&&3===String(o).split("-").length&&(e=s.newformat||u.jqGrid("getGridRes","formatter.date.newformat"),o=t.parseDate.call(this,"Y-m-d",o,e));break;case"select":e=e.find("select option:selected"),r.multiple?(l=[],e.each(function(){l.push(a(this)[n]())}),o=l.join(",")):o=e[n]();break;case"custom":try{if(!a.isFunction(d))throw"e1";if(o=d.call(this,e.find(".customelement"),"get"),void 0===o)throw"e2"}catch(h){e=t.info_dialog,r=function(e){u.jqGrid("getGridRes",e)},i=r("errors.errcap"),s=r("edit.bClose"),"e1"===h&&e.call(this,i,"function \'custom_value\' "+r("edit.msg.nodefined"),s),"e2"===h?e.call(this,i,"function \'custom_value\' "+r("edit.msg.novalue"),s):e.call(this,i,h.message,s)}break;default:o=e.find("*"+c).text()}return o},guid:1,uidPref:"jqg",randId:function(e){return(e||t.uidPref)+t.guid++},getAccessor:function(e,t){var i,r,o,l=[];if(a.isFunction(t))return t(e);if(i=e[t],void 0===i)try{if("string"==typeof t&&(l=t.split(".")),o=l.length)for(i=e;i&&o--;)r=l.shift(),i=i[r]}catch(n){}return i},getXmlData:function(e,t,i){var r="string"==typeof t?t.match(/^(.*)\\[(\\w+)\\]$/):null;return a.isFunction(t)?t(e):r&&r[2]?r[1]?a(r[1],e).attr(r[2]):a(e).attr(r[2]):(void 0===e&&alert("expr"),e=a(e).find(t),i?e:0<e.length?a(e).text():void 0)},cellWidth:function(){var e=a("<div class=\'ui-jqgrid\' style=\'left:10000px\'><div class=\'ui-jqgrid-view\'><div class=\'ui-jqgrid-bdiv\'><table class=\'ui-jqgrid-btable\' style=\'width:5px;\'><tr class=\'jqgrow\'><td style=\'width:5px;display:block;\'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},isCellClassHidden:function(e){e=a("<div class=\'ui-jqgrid\' style=\'left:10000px\'><div class=\'ui-jqgrid-view\'><div class=\'ui-jqgrid-bdiv\'><table class=\'ui-jqgrid-btable\' style=\'width:5px;\'><tr class=\'jqgrow\'><td style=\'width:5px;\' class=\'"+(e||"")+"\'></td></tr></table></div></div></div>");var t=e.appendTo("body").find("td").is(":hidden");return e.remove(),t},cell_width:!0,ajaxOptions:{},from:function(b){var c=this;return new function(b,d){var e=this,f=b,g=!0,l=!1,h=d,n=/[\\$,%]/g,E=null,r=null,q=0,m=!1,u="",p=[],y=Object.prototype.toString,B=!0;if("object"!=typeof b||!b.push)throw"data provides is not an array";return 0<b.length&&(B="object"!=typeof b[0]?!1:!0),this._hasData=function(){return null===f?!1:0===f.length?!1:!0},this._getStr=function(e){var t=[];return l&&t.push("jQuery.trim("),t.push("String("+e+")"),l&&t.push(")"),g||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return l&&(e=a.trim(e)),e=e.toString().replace(/\\\\/g,"\\\\\\\\").replace(/\\"/g,\'\\\\"\'),g?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return a.each(f,function(i,r){t.push(e(r))}),t},this._append=function(e){var t;for(h=null===h?"":h+(""===u?" && ":u),t=0;q>t;t++)h+="(";m&&(h+="!"),h+="("+e+")",m=!1,u="",q=0},this._setCommand=function(e,t){E=e,r=t},this._resetNegate=function(){m=!1},this._repeatCommand=function(t,i){return null===E?e:null!==t&&null!==i?E(t,i):null!==r&&B?E(r,t):E(t)},this._equals=function(t,i){return 0===e._compare(t,i,1)},this._compare=function(e,t,i){return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===y.call(e)&&"[object Date]"===y.call(t)?t>e?-i:e>t?i:0:(g||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),t>e?-i:e>t?i:0)},this._performSort=function(){0!==p.length&&(f=e._doSort(f,0))},this._doSort=function(t,i){var r=p[i].by,a=p[i].dir,o=p[i].type,l=p[i].datefmt,n=p[i].sfunc;if(i===p.length-1)return e._getOrder(t,r,a,o,l,n);for(i++,r=e._getGroup(t,r,a,o,l),a=[],o=0;o<r.length;o++)for(n=e._doSort(r[o].items,i),l=0;l<n.length;l++)a.push(n[l]);return a},this._getOrder=function(i,r,o,l,s,d){var u,h,p=[],f=[],m="a"===o?1:-1;void 0===l&&(l="text"),h="float"===l||"number"===l||"currency"===l||"numeric"===l?function(e){return e=parseFloat(String(e).replace(n,"")),isNaN(e)?Number.NEGATIVE_INFINITY:e}:"int"===l||"integer"===l?function(e){return e?parseFloat(String(e).replace(n,"")):Number.NEGATIVE_INFINITY}:"date"===l||"datetime"===l?function(e){return t.parseDate.call(c,s,e).getTime()}:a.isFunction(l)?l:function(e){return e=null!=e?a.trim(String(e)):"",g?e:e.toUpperCase()},a.each(i,function(e,i){u=""!==r?t.getAccessor(i,r):i,void 0===u&&(u=""),u=h(u,i),f.push({vSort:u,index:e})}),a.isFunction(d)?f.sort(function(e,t){return e=e.vSort,t=t.vSort,d.call(this,e,t,m)}):f.sort(function(t,i){return t=t.vSort,i=i.vSort,e._compare(t,i,m)}),l=0;for(var v=i.length;v>l;)o=f[l].index,p.push(i[o]),l++;return p},this._getGroup=function(i,r,o,l,n){var s=[],d=null,c=null;return a.each(e._getOrder(i,r,o,l,n),function(i,a){var o=t.getAccessor(a,r);null==o&&(o=""),e._equals(c,o)||(c=o,null!==d&&s.push(d),d=e._group(r,o)),d.items.push(a)}),null!==d&&s.push(d),s},this.ignoreCase=function(){return g=!1,e},this.useCase=function(){return g=!0,e},this.trim=function(){return l=!0,e},this.noTrim=function(){return l=!1,e},this.execute=function(){var b=h,c=[];return null===b?e:(a.each(f,function(){eval(b)&&c.push(this)}),f=c,e)},this.data=function(){return f},this.select=function(t){if(e._performSort(),!e._hasData())return[];if(e.execute(),a.isFunction(t)){var i=[];return a.each(f,function(e,r){i.push(t(r))}),i}return f},this.hasMatch=function(){return e._hasData()?(e.execute(),0<f.length):!1},this.andNot=function(t,i,r){return m=!m,e.and(t,i,r)},this.orNot=function(t,i,r){return m=!m,e.or(t,i,r)},this.not=function(t,i,r){return e.andNot(t,i,r)},this.and=function(t,i,r){return u=" && ",void 0===t?e:e._repeatCommand(t,i,r)},this.or=function(t,i,r){return u=" || ",void 0===t?e:e._repeatCommand(t,i,r)},this.orBegin=function(){return q++,e},this.orEnd=function(){return null!==h&&(h+=")"),e},this.isNot=function(t){return m=!m,e.is(t)},this.is=function(t){return e._append("this."+t),e._resetNegate(),e},this._compareValues=function(i,r,a,o,l){var s;s=B?r:"this",void 0===a&&(a=null);var d=a,u=void 0===l.stype?"text":l.stype;if(null!==a)switch(u){case"int":case"integer":d=String(d).replace(n,""),d=isNaN(Number(d))||""===d?"0":Number(d),s="parseInt("+s+",10)",d=String(parseInt(d,10));break;case"float":case"number":case"currency":case"numeric":d=String(d).replace(n,""),d=isNaN(Number(d))||""===d?"0":Number(d),s="parseFloat("+s+")",d=String(d);break;case"date":case"datetime":d=String(t.parseDate.call(c,l.newfmt||"Y-m-d",d).getTime()),s=\'jQuery.jgrid.parseDate.call(jQuery("\'+c.p.idSel+\'")[0],"\'+l.srcfmt+\'",\'+s+").getTime()";break;default:s=e._getStr(s),d=e._getStr(\'"\'+e._toStr(d)+\'"\')}return e._append(s+" "+o+" "+d),e._setCommand(i,r),e._resetNegate(),e},this.equals=function(t,i,r){return e._compareValues(e.equals,t,i,"==",r)},this.notEquals=function(t,i,r){return e._compareValues(e.equals,t,i,"!==",r)},this.isNull=function(t,i,r){return e._compareValues(e.equals,t,null,"===",r)},this.greater=function(t,i,r){return e._compareValues(e.greater,t,i,">",r)},this.less=function(t,i,r){return e._compareValues(e.less,t,i,"<",r)},this.greaterOrEquals=function(t,i,r){return e._compareValues(e.greaterOrEquals,t,i,">=",r)},this.lessOrEquals=function(t,i,r){return e._compareValues(e.lessOrEquals,t,i,"<=",r)},this.startsWith=function(t,i){var r=null==i?t:i,r=l?a.trim(r.toString()).length:r.toString().length;return B?e._append(e._getStr(t)+".substr(0,"+r+") == "+e._getStr(\'"\'+e._toStr(i)+\'"\')):(null!=i&&(r=l?a.trim(i.toString()).length:i.toString().length),e._append(e._getStr("this")+".substr(0,"+r+") == "+e._getStr(\'"\'+e._toStr(t)+\'"\'))),e._setCommand(e.startsWith,t),e._resetNegate(),e},this.endsWith=function(t,i){var r=null==i?t:i,r=l?a.trim(r.toString()).length:r.toString().length;return B?e._append(e._getStr(t)+".substr("+e._getStr(t)+".length-"+r+","+r+\') == "\'+e._toStr(i)+\'"\'):e._append(e._getStr("this")+".substr("+e._getStr("this")+\'.length-"\'+e._toStr(t)+\'".length,"\'+e._toStr(t)+\'".length) == "\'+e._toStr(t)+\'"\'),e._setCommand(e.endsWith,t),e._resetNegate(),e},this.contains=function(t,i){return B?e._append(e._getStr(t)+\'.indexOf("\'+e._toStr(i)+\'",0) > -1\'):e._append(e._getStr("this")+\'.indexOf("\'+e._toStr(t)+\'",0) > -1\'),e._setCommand(e.contains,t),e._resetNegate(),e},this.groupBy=function(t,i,r,a){return e._hasData()?e._getGroup(f,t,i,r,a):null},this.orderBy=function(t,i,r,o,l){return i=null==i?"a":a.trim(i.toString().toLowerCase()),null==r&&(r="text"),null==o&&(o="Y-m-d"),null==l&&(l=!1),("desc"===i||"descending"===i)&&(i="d"),("asc"===i||"ascending"===i)&&(i="a"),p.push({by:t,dir:i,type:r,datefmt:o,sfunc:l}),e},this.custom=function(t,i,r){return e._append(\'jQuery("\'+c.p.idSel+\'")[0].p.customSortOperations.\'+t+\'.filter.call(jQuery("\'+c.p.idSel+\'")[0],{item:this,cmName:"\'+i+\'",searchValue:"\'+r+\'"})\'),e._setCommand(e.custom,i),e._resetNegate(),e},e}("string"==typeof b?a.data(b):b,null)},serializeFeedback:function(e,t,i){var r=this;return r instanceof a&&0<r.length&&(r=r[0]),"string"==typeof i?i:(t=a(r).triggerHandler(t,i),"string"==typeof t?t:((null==t||"object"!=typeof t)&&(t=i),a.isFunction(e)?e.call(r,t):t))},fullBoolFeedback:function(e,t){var i=a.makeArray(arguments).slice(2),r=a(this).triggerHandler(t,i),r=!1===r||"stop"===r?!1:!0;return a.isFunction(e)&&(i=e.apply(this,i),!1===i||"stop"===i)&&(r=!1),r},feedback:function(e,i,r,o){var l=this;if(l instanceof a&&0<l.length&&(l=l[0]),null==e||"string"!=typeof o||2>o.length)return null;var n="on"===o.substring(0,2)?"jqGrid"+i+o.charAt(2).toUpperCase()+o.substring(3):"jqGrid"+i+o.charAt(0).toUpperCase()+o.substring(1),s=a.makeArray(arguments).slice(4),d=e[o+r];return s.unshift(n),s.unshift(d),t.fullBoolFeedback.apply(l,s)},getIconRes:function(e,i){var r,a,o,l=i.split("."),n=l.length,s=[];if(e=t.icons[e],null==e)return"";for(r=e,r.common&&s.push(r.common),o=0;n>o&&(a=l[o],a);o++){if(r=r[a],void 0===r){if("common"===a)break;return""}if("string"==typeof r){s.push(r);break}null!=r&&r.common&&s.push(r.common)}return t.mergeCssClasses.apply(this,s)},builderSortIcons:function(){var e=this.p,i=t.getRes(t.guiStyles[e.guiStyle],"states.disabled"),r=function(r){return t.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+r,"horizontal"===e.viewsortcols[1]?"ui-i-"+r:"",i,t.getIconRes(e.iconSet,"sort."+r),"ui-sort-"+e.direction)};return"<span class=\'s-ico"+(e.sortIconsBeforeText?" jqgrid-icons-first":"")+"\' style=\'display:none\'><span class=\'"+r("asc")+"\'></span><span class=\'"+r("desc")+"\'></span></span>"},builderFmButon:function(e,i,r,a,o){var l=this.p;return null==l?"":"<a id=\'"+e+"\' class=\'"+t.mergeCssClasses("fm-button",t.getRes(t.guiStyles[l.guiStyle],"dialog.fmButton"),t.getRes(t.guiStyles[l.guiStyle],"dialog."+("right"===o?"rightCorner":"left"===o?"leftCorner":"defaultCorner")),"right"===a?"fm-button-icon-right":"left"===a?"fm-button-icon-left":"")+"\' role=\'button\' tabindex=\'0\'>"+(r?"<span class=\'fm-button-icon "+(t.getIconRes(l.iconSet,r)||r)+"\'></span>":"")+(i?"<span class=\'fm-button-text\'>"+i+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,i,r,o,l){return null==this.p?e:a.isFunction(t.convertOnSave)?t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:i,id:r,item:o,iCol:l}):"boolean"!=typeof i&&"number"!=typeof i?e:("boolean"!=typeof i||"checkbox"!==t.edittype&&"checkbox"!==t.formatter?"number"!=typeof i||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10))):(i=String(e).toLowerCase(),t=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"],0<=a.inArray(i,["1","true",t[0].toLowerCase()])?e=!0:0<=a.inArray(i,["0","false",t[1].toLowerCase()])&&(e=!1)),e)},parseDataToHtml:function(e,i,r,o,l,n,s){var d,c,u,h,p,f,g,m,v=this,b=v.p,w=a(v),y=!1,x=[],C=!0===b.altRows?b.altclass:"",j=[],q=b.grouping?!0===b.groupingView.groupCollapse:!1,S=parseInt(b.rowNum,10),D=a.fn.jqGrid,R=!0===b.treeGrid&&-1<b.treeANode?v.rows[b.treeANode].rowIndex+1:v.rows.length,_=v.formatCol,F=function(e,t,i,r,a,o){return t=v.formatter(e,t,i,a,"add",o),"<td role=\'gridcell\' "+_(i,r,t,a,e,o)+">"+t+"</td>"},G=function(e,t,i,r){return"<td role=\'gridcell\' "+_(t,i,"",null,e,!0)+"><input role=\'checkbox\' type=\'checkbox\' id=\'jqg_"+b.id+"_"+e+"\' class=\'cbox\' name=\'jqg_"+b.id+"_"+e+"\'"+(r?" checked=\'checked\' aria-checked=\'true\'":" aria-checked=\'false\'")+"/></td>"},k=function(e,t,i,r){return i=(parseInt(i,10)-1)*parseInt(r,10)+1+t,"<td role=\'gridcell\' class=\'"+D.getGuiStyles.call(w,"rowNum","jqgrid-rownum")+"\' "+_(e,t,i,null,t,!0)+">"+i+"</td>"};for(1>=R&&(b.rowIndexes={}),"local"!==b.datatype||b.deselectAfterSort||(y=!0),n&&(S*=n+1),n=0;n<Math.min(e,S);n++){for(h=i[n],p=r[n],f=null!=o?o[n]:p,d=1===l?0:l,c=1===(d+n)%2?C:"",y&&(u=b.multiselect?-1!==a.inArray(h,b.selarrrow):h===b.selrow),g=x.length,x.push(""),d=0;d<b.colModel.length;d++)switch(m=b.colModel[d].name){case"rn":x.push(k(d,n,b.page,b.rowNum));break;case"cb":x.push(G(h,d,n,u));break;case"subgrid":x.push(D.addSubGridCell.call(w,d,n+l));break;default:x.push(F(h,p[m],d,n+l,f,p))}x[g]=v.constructTr(h,q,c,p,f,u),x.push("</tr>"),b.rowIndexes[h]=R,R++,b.grouping&&(j.push(x),b.groupingView._locgr||D.groupingPrepare.call(w,p,n),x=[]),x.length>b.maxItemsToJoin&&(x=[x.join("")])}return b.grouping&&(s&&(b.groupingView._locgr=!0),x=[D.groupingRender.call(w,j,b.colModel.length,b.page,S)],t.clearArray(j)),x},getMethod:function(e){return this.getAccessor(a.fn.jqGrid,e)},extend:function(e){a.extend(a.fn.jqGrid,e),this.no_legacy_api||a.fn.extend(e)}});var d=t.clearArray,f=t.jqID,h=t.getGridComponentIdSelector,b=t.getGridComponentId,c=t.getGridComponent,e=t.stripPref,l=t.randId,n=t.getAccessor,g=t.convertOnSaveLocally,r=t.stripHtml,y=t.htmlEncode,u=t.htmlDecode,q=t.mergeCssClasses,D=t.hasOneFromClasses,C=function(){var e=a.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),t.feedback.apply(this,e)};a.fn.jqGrid=function(i){var o,s=a.fn.jqGrid;if("string"==typeof i){if(o=s[i],!o)throw"jqGrid - No such method: "+i;return o.apply(this,a.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var o,u,p=this,g=a(p),v=a.isFunction,x=a.isArray,j=a.extend,S=a.inArray,R=a.trim,_=a.each,F=s.setSelection,G=s.getGridRes,k=v(m.fatalError)?m.fatalError:alert,I=i.locale||m.locale||"en-US",O=null!=w[I]&&"boolean"==typeof w[I].isRTL&&w[I].isRTL?"rtl":"ltr",N=i.iconSet||m.iconSet||"jQueryUI",T=i.guiStyle||m.guiStyle||"jQueryUI",A=function(e){return t.getIconRes(N,e)},M=function(e,i){return q(t.getRes(t.guiStyles[T],e),i||"")};null==i&&(i={datatype:"local"}),void 0!==i.datastr&&x(i.datastr)&&(u=i.datastr,i.datastr=[]),void 0!==i.data&&(o=i.data,\ni.data=[]),null!=t.formatter&&null!=t.formatter.unused||k("CRITICAL ERROR!!!\\n\\n\\nOne uses probably\\n\\n	$.extend($.jgrid.defaults, {...});\\n\\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\\n\\n	$.extend(true, $.jgrid.defaults, {...});\\n\\nOne other possible reason:\\n\\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\\n\\n\\nSome options of jqGrid could still work, but another one will be broken."),void 0===i.datatype&&void 0!==i.dataType&&(i.datatype=i.dataType,delete i.dataType),void 0===i.mtype&&void 0!==i.type&&(i.mtype=i.type,delete i.type);var E=j(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:null==i||null==i.afterInsertRow,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:O,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:!0,_index:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:A("grouping.common"),plusicon:A("grouping.plus"),minusicon:A("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:N,guiStyle:T,locale:I,multiSort:!1,treeIcons:{commonIconClass:A("treeGrid.common"),plusLtr:A("treeGrid.plusLtr"),plusRtl:A("treeGrid.plusRtl"),minus:A("treeGrid.minus"),leaf:A("treeGrid.leaf")},subGridOptions:{commonIconClass:A("subgrid.common"),plusicon:A("subgrid.plus"),minusicon:A("subgrid.minus")}},m,{navOptions:j(!0,{commonIconClass:A("nav.common"),editicon:A("nav.edit"),addicon:A("nav.add"),delicon:A("nav.del"),searchicon:A("nav.search"),refreshicon:A("nav.refresh"),viewicon:A("nav.view"),saveicon:A("nav.save"),cancelicon:A("nav.cancel"),buttonicon:A("nav.newbutton")},t.nav||{}),actionsNavOptions:j(!0,{commonIconClass:A("actions.common"),editicon:A("actions.edit"),delicon:A("actions.del"),saveicon:A("actions.save"),cancelicon:A("actions.cancel")},t.actionsNav||{}),formEditing:j(!0,{commonIconClass:A("form.common"),prevIcon:A("form.prev"),nextIcon:A("form.next"),saveicon:[!0,"left",A("form.save")],closeicon:[!0,"left",A("form.undo")]},t.edit||{}),searching:j(!0,{commonIconClass:A("search.common"),findDialogIcon:A("search.search"),resetDialogIcon:A("search.reset"),queryDialogIcon:A("search.query")},t.search||{}),formViewing:j(!0,{commonIconClass:A("form.common"),prevIcon:A("form.prev"),nextIcon:A("form.next"),closeicon:[!0,"left",A("form.cancel")]},t.view||{}),formDeleting:j(!0,{commonIconClass:A("form.common"),delicon:[!0,"left",A("form.del")],cancelicon:[!0,"left",A("form.cancel")]},t.del||{})},i||{}),z=function(e){var i=t.getRes(E,e);return void 0!==i?i:G.call(g,"defaults."+e)};if(E.recordpos=E.recordpos||("rtl"===E.direction?"left":"right"),E.subGridOptions.openicon=A("rtl"===E.direction?"subgrid.openRtl":"subgrid.openLtr"),E.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==E.autoResizing.widthOfVisiblePartOfSortIcon?E.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===E.iconSet?13:12,E.datatype=void 0!==E.datatype?E.datatype:void 0!==o||null==E.url?"local":null!=E.jsonReader&&"object"==typeof E.jsonReader?"json":"xml",E.jsonReader=E.jsonReader||{},E.url=E.url||"",E.cellsubmit=void 0!==E.cellsubmit?E.cellsubmit:void 0===E.cellurl?"clientArray":"remote",E.gridview=void 0!==E.gridview?E.gridview:null==E.afterInsertRow,void 0!==o&&(E.data=o,i.data=o),void 0!==u&&(E.datastr=u,i.datastr=u),"TABLE"!==p.tagName.toUpperCase())k("Element is not a table!");else if(""===p.id&&g.attr("id",l()),void 0!==document.documentMode&&5>=document.documentMode)k("Grid can not be used in this (\'quirks\') mode!");else{g.empty().attr("tabindex","0"),p.p=E,E.id=p.id,E.idSel="#"+f(p.id),E.gBoxId=b.call(p,0),E.gBox=h.call(p,0),E.gViewId=b.call(p,8),E.gView=h.call(p,8),E.rsId=b.call(p,43),E.rs=h.call(p,43),E.cbId=b.call(p,45),E.cb=h.call(p,45),E.useProp=!!a.fn.prop,E.propOrAttr=E.useProp?"prop":"attr";var P=E.propOrAttr,B=t.fixScrollOffsetAndhBoxPadding,V=function(e){var t,i={},r=e.length;for(t=0;r>t;t++)i[e[t].name]=t;return i},L=function(e){var t,i,r={},a=e.length;for(t=0;a>t;t++)i=e[t],r["string"==typeof i?i:i.name]=t;return r},H=function(){var e,t,i={};for(this.p.rowIndexes=i,t=0;t<this.rows.length;t++)e=this.rows[t],a(e).hasClass("jqgrow")&&(i[e.id]=e.rowIndex)},W=function(){var e,t=E.colModel;e=E.cmNamesInputOrder;var i,r,o,l,n=E.additionalProperties,s=e.length;for(E.arrayReaderInfos={},i=E.arrayReaderInfos,l=0;s>l;l++)r=e[l],0>S(r,E.reservedColumnNames)&&!i.hasOwnProperty(r)&&(o=E.iColByName[r],void 0!==o?i[r]={name:t[o].name,index:o,order:l,type:0}:(o=E.iPropByName[r],void 0!==o?i[r]={name:t[o].name,index:o,order:l,type:1}:r===(E.prmNames.rowidName||"rowid")&&(i[r]={index:o,type:2})));for(s=t.length,e=0;s>e;e++)r=t[e].name,0>S(r,E.reservedColumnNames)&&!i.hasOwnProperty(r)&&(i[r]={name:r,index:e,order:l,type:0},l++);for(s=n.length,e=0;s>e;e++)r=n[e],null==r||i.hasOwnProperty(r)||("object"==typeof r&&"string"===a.type(r.name)&&(r=r.name),i[r]={name:r,index:e,order:l,type:1},l++)},U=function(e){var t=a(this).data("pageX");t?(t=String(t).split(";"),t=t[t.length-1],a(this).data("pageX",t+";"+e.pageX)):a(this).data("pageX",e.pageX)},Y=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},X={headers:[],cols:[],footers:[],dragStart:function(e,i,r,o){var l=a(this.bDiv),n=l.closest(E.gBox).offset();o=o.offset().left+("rtl"===E.direction?0:this.headers[e].width+(t.cell_width?0:Y(E.cellLayout,0))-2),this.resizing={idx:e,startX:o,sOL:o,moved:!1,delta:o-i.pageX},this.curGbox=a(E.rs),this.curGbox.prependTo("body"),this.curGbox.css({display:"block",left:o,top:r[1]+n.top+1,height:r[2]}),this.curGbox.css("height",r[2]-(this.curGbox.outerHeight()-this.curGbox.height())+"px"),this.curGbox.data("idx",e),this.curGbox.data("delta",o-i.pageX),U.call(this.curGbox,i),C.call(c(21,l)[0],"resizeStart",i,e),document.onselectstart=function(){return!1},a(document).bind("mousemove.jqGrid",function(e){return X.resizing?(X.dragMove(e),!1):void 0}).bind("mouseup.jqGrid"+E.id,function(){return X.resizing?(X.dragEnd(),!1):void 0})},dragMove:function(e){var t=this.resizing;if(t){var i=e.pageX+t.delta-t.startX,r=this.headers;e=r[t.idx];var o="ltr"===E.direction?e.width+i:e.width-i;t.moved=!0,o>E.minResizingWidth&&(null==this.curGbox&&(this.curGbox=a(E.rs)),this.curGbox.css({left:t.sOL+i}),!0===E.forceFit?(t=r[t.idx+E.nv],i="ltr"===E.direction?t.width-i:t.width+i,i>E.autoResizing.minColWidth&&(e.newWidth=o,t.newWidth=i)):(this.newWidth="ltr"===E.direction?E.tblwidth+i:E.tblwidth-i,e.newWidth=o))}},resizeColumn:function(e,t,i){var r=this.headers,o=this.footers,l=r[e],n=l.newWidth||l.width,d=c(21,this.bDiv),u=c(14,this.hDiv).children("thead").children("tr").first()[0].cells,n=parseInt(n,10);E.colModel[e].width=n,l.width=n,u[e].style.width=n+"px",this.cols[e].style.width=n+"px",this.fbRows&&(a(this.fbRows[0].cells[e]).css("width",n),a(c(31,this.fhDiv)[0].rows[0].cells[e]).css("width",n),E.footerrow&&a(c(36,this.fsDiv)[0].rows[0].cells[e]).css("width",n)),0<o.length&&(o[e].style.width=n+"px"),!0!==i&&B.call(d[0]),!0===E.forceFit?(r=r[e+E.nv],n=r.newWidth||r.width,r.width=n,u[e+E.nv].style.width=n+"px",this.cols[e+E.nv].style.width=n+"px",0<o.length&&(o[e+E.nv].style.width=n+"px"),E.colModel[e+E.nv].width=n):(E.tblwidth=this.newWidth||E.tblwidth,d.css("width",E.tblwidth+"px"),c(14,this.hDiv).css("width",E.tblwidth+"px"),!0!==i&&(this.hDiv.scrollLeft=this.bDiv.scrollLeft,E.footerrow&&(c(27,this.sDiv).css("width",E.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft))),E.autowidth||void 0!==E.widthOrg&&"auto"!==E.widthOrg&&"100%"!==E.widthOrg||!0===i||s.setGridWidth.call(d,this.newWidth+E.scrollOffset,!1),t||C.call(d[0],"resizeStop",n,e)},dragEnd:function(){this.hDiv.style.cursor="default",this.resizing&&(null!==this.resizing&&!0===this.resizing.moved&&(a(this.headers[this.resizing.idx].el).removeData("autoResized"),this.resizeColumn(this.resizing.idx,!1)),a(E.rs).removeData("pageX"),this.resizing=!1,setTimeout(function(){a(E.rs).css("display","none").prependTo(E.gBox)},E.doubleClickSensitivity)),this.curGbox=null,document.onselectstart=function(){return!0},a(document).unbind("mousemove.jqGrid").unbind("mouseup.jqGrid"+E.id)},populateVisible:function(){var e=this,t=a(e),i=e.grid,r=i.bDiv,o=a(r);if(i.timer&&clearTimeout(i.timer),i.timer=null,o=o.height()){var l,n;if(e.rows.length)try{n=(l=e.rows[1])?a(l).outerHeight()||i.prevRowHeight:i.prevRowHeight}catch(s){n=i.prevRowHeight}if(n){i.prevRowHeight=n,l=E.rowNum,i.scrollTop=r.scrollTop;var r=i.scrollTop,d=Math.round(t.position().top)-r,t=d+t.height();n*=l;var c,u,h;o>t&&0>=d&&(void 0===E.lastpage||(parseInt((t+r+n-1)/n,10)||0)<=E.lastpage)&&(u=parseInt((o-t+n-1)/n,10)||1,t>=0||2>u||!0===E.scroll?(c=(Math.round((t+r)/n)||0)+1,d=-1):d=1),d>0&&(c=(parseInt(r/n,10)||0)+1,u=(parseInt((r+o)/n,10)||0)+2-c,h=!0),!u||E.lastpage&&(c>E.lastpage||1===E.lastpage||c===E.page&&c===E.lastpage)||(i.hDiv.loading?i.timer=setTimeout(function(){i.populateVisible.call(e)},E.scrollTimeout):(E.page=c,h&&(i.selectionPreserver.call(e),i.emptyRows.call(e,!1,!1)),i.populate.call(e,u)))}}},scrollGrid:function(e){var t=c(21,this);if(e&&e.stopPropagation(),0===t.length)return!0;var i=t[0].grid;E.scroll&&(e=this.scrollTop,void 0===i.scrollTop&&(i.scrollTop=0),e!==i.scrollTop&&(i.scrollTop=e,i.timer&&clearTimeout(i.timer),i.timer=setTimeout(function(){i.populateVisible.call(t[0])},E.scrollTimeout))),i.hDiv.scrollLeft=this.scrollLeft,E.footerrow&&(i.sDiv.scrollLeft=this.scrollLeft)},selectionPreserver:function(){var e=a(this),t=E.selrow,i=E.selarrrow?a.makeArray(E.selarrrow):null,r=this.grid.bDiv,o=r.scrollLeft,l=function(){var a;if(E.selrow=null,d(E.selarrrow),E.multiselect&&i&&0<i.length)for(a=0;a<i.length;a++)i[a]!==t&&F.call(e,i[a],!1,null);t&&F.call(e,t,!1,null),r.scrollLeft=o,e.unbind(".selectionPreserver",l)};e.bind("jqGridGridComplete.selectionPreserver",l)}};p.grid=X,C.call(p,"beforeInitGrid"),E.iColByName=V(E.colModel),E.iPropByName=L(E.additionalProperties);var Q,J;if(0===E.colNames.length)for(Q=0;Q<E.colModel.length;Q++)E.colNames[Q]=void 0!==E.colModel[Q].label?E.colModel[Q].label:E.colModel[Q].name;if(E.colNames.length!==E.colModel.length)k(G.call(g,"errors.model"));else{var O=a("<div class=\'ui-jqgrid-view\' role=\'grid\' aria-multiselectable=\'"+!!E.multiselect+"\'></div>"),$=(I=t.msie)&&8>t.msiever();E.direction=R(E.direction.toLowerCase()),-1===S(E.direction,["ltr","rtl"])&&(E.direction="ltr"),J=E.direction,a(O).insertBefore(p),g.removeClass("scroll").appendTo(O),o=a("<div class=\'"+M("gBox","ui-jqgrid")+"\'></div>"),a(o).attr({id:E.gBoxId,dir:J}).insertBefore(O),a(O).attr("id",E.gViewId).appendTo(o),a("<div class=\'"+M("overlay","jqgrid-overlay")+"\' id=\'lui_"+E.id+"\'></div>").insertBefore(O),a("<div class=\'"+M("loading","loading")+"\' id=\'load_"+E.id+"\'>"+z("loadtext")+"</div>").insertBefore(O),$&&g.attr({cellspacing:"0"}),g.attr({role:"presentation","aria-labelledby":"gbox_"+p.id});var K=function(e,i,a,o,l,n){var s,d=E.colModel[e],c=a,u=d.classes,h=d.align?"text-align:"+d.align+";":"",f=function(e){return"string"==typeof e?e.replace(/\\\'/g,"&#39;"):e},g=" aria-describedby=\'"+E.id+"_"+d.name+"\'";if(!0===d.hidden&&(h+="display:none;"),0===i)h+="width: "+X.headers[e].width+"px;";else if((v(d.cellattr)||"string"==typeof d.cellattr&&null!=t.cellattr&&v(t.cellattr[d.cellattr]))&&(e=v(d.cellattr)?d.cellattr:t.cellattr[d.cellattr],E.useUnformattedDataForCellAttr&&null!=n?c=n[d.name]:d.autoResizable&&(c="<span class=\'"+E.autoResizing.wrapperClassName+"\'>",c=a.substring(c.length,a.length-7)),o=e.call(p,l,c,o,d,n),"string"==typeof o))for(o=o.replace(/\\n/g,"&#xA;");;){if(a=/^\\s*(\\w+[\\w|\\-]*)\\s*=\\s*([\\"|\\\'])(.*?)\\2(.*)/.exec(o),null===a||5>a.length)return!s&&d.title&&(s=c),g+" style=\'"+f(h)+"\'"+(u?" class=\'"+f(u)+"\'":"")+(s?" title=\'"+f(s)+"\'":"");switch(l=a[3],o=a[4],a[1].toLowerCase()){case"class":u=u?u+(" "+l):l;break;case"title":s=l;break;case"style":h+=l;break;default:g+=" "+a[1]+"="+a[2]+l+a[2]}}return d=(""!==h?"style=\'"+h+"\'":"")+((void 0!==u?" class=\'"+u+"\'":"")+(d.title&&c?\' title="\'+r(a)+\'"\':"")),d+=g},Z=function(e){return null==e||""===e?"&#160;":E.autoencode?y(e):String(e)},ee=function(e){var t=E.treeReader,i=t.loaded,r=t.leaf_field,a=t.expanded_field,o=function(e){return!0===e||"true"===e||"1"===e};if("nested"===E.treeGridModel&&!e[r]){var l=parseInt(e[t.left_field],10),t=parseInt(e[t.right_field],10);e[r]=t===l+1?!0:!1}void 0!==e[i]&&(e[i]=o(e[i])),e[r]=o(e[r]),e[a]=o(e[a])},te=function(){var e,t,i,r,a,o,s,d,c,u,h=E.data,f=h.length,g=E.localReader,m=E.additionalProperties,b=g.cell,w=E.arrayReaderInfos;if("local"!==E.datatype||!0!==g.repeatitems){if(E.treeGrid)for(e=0;f>e;e++)ee(h[e])}else for(r=!1===E.keyName?v(g.id)?g.id.call(p,h):g.id:E.keyName,isNaN(r)?v(r)||null==E.arrayReaderInfos[r]||(a=E.arrayReaderInfos[r].order):a=Number(r),e=0;f>e;e++){t=h[e],i=b?n(t,b)||t:t,c=x(i),s={};for(d in w)w.hasOwnProperty(d)&&(u=w[d],o=n(i,c?u.order:u.name),1===u.type&&(u=m[u.index],null!=u&&v(u.convert)&&(o=u.convert(o,i))),void 0!==o&&(s[d]=o));void 0!==s[r]?t=void 0!==s[r]?s[r]:l():(t=n(t,x(t)?a:r),void 0===t&&(t=n(i,x(i)?a:r)),void 0===t&&(t=l())),t=String(t),s[g.id]=t,E.treeGrid&&ee(s),j(h[e],s)}},ie=function(){var e,t,i,r=E.data.length;for(e=!1===E.keyName||E.loadonce?E.localReader.id:E.keyName,E._index={},t=0;r>t;t++)i=n(E.data[t],e),void 0===i&&(i=String(t+1)),E._index[i]=t},re=function(){var e,t,i=a.fn.fmatter;for(e=0;e<E.colModel.length;e++)t=E.colModel[e].formatter,"string"==typeof t&&null!=i&&v(i[t])&&v(i[t].pageFinalization)&&i[t].pageFinalization.call(this,e)},ae=function(e,t){var i,r,o,l=E.colModel,n=l.length,s=function(e){return null==e||""===e?"&#160;":y(e)},d=function(e){return null==e||""===e?"&#160;":String(e)};for(i=0;n>i;i++)r=l[i],r.cellBuilder=null,e||(o={colModel:r,gid:E.id,pos:i},void 0===r.formatter?r.cellBuilder=E.autoencode?s:d:"string"==typeof r.formatter?r.cellBuilder=a.fn.fmatter.getCellBuilder.call(p,r.formatter,o,t||"add"):v(r.getCellBuilder)&&(r.cellBuilder=r.getCellBuilder.call(p,o,t||"add")))},oe=function(e,i,r,o){var c=a(this),u=new Date,h=E.datatype,p="local"!==h&&E.loadonce||"xmlstring"===h||"jsonstring"===h,f=("xmlstring"===h||"xml"===h)&&a.isXMLDoc(e),g=E.localReader,m=n;if(e&&("xml"!==h||f)){switch(-1!==E.treeANode||E.scroll?i=i>1?i:1:(X.emptyRows.call(this,!1,!0),i=1),p&&(d(E.data),d(E.lastSelectedData),E._index={},E.localReader.id="_id_"),E.reccount=0,h){case"xml":case"xmlstring":g=E.xmlReader,m=t.getXmlData;break;case"json":case"jsonp":case"jsonstring":g=E.jsonReader}var b,w,y,j,q,S,D,R,_,F,G,k={},I=E.colModel,O=I.length,N=E.arrayReaderInfos,T={},A=function(e){return function(t){return t=t.getAttribute(e),null!==t?t:void 0}},M=function(e){return function(){var t=T[e];return null!=t?(t=t.childNodes,0<t.length?t[0].nodeValue:void 0):void 0}};E.page=Y(m(e,g.page),E.page),E.lastpage=Y(m(e,g.total),1),E.records=Y(m(e,g.records)),v(g.userdata)?E.userData=g.userdata.call(this,e)||{}:f?m(e,g.userdata,!0).each(function(){E.userData[this.getAttribute("name")]=a(this).text()}):E.userData=m(e,g.userdata)||{},ae();var z={},P=E.additionalProperties,B=function(e){f&&"string"==typeof e&&(/^\\w+$/.test(e)?z[e]=M(e):/^\\[\\w+\\]$/.test(e)&&(z[e]=A(e.substring(1,e.length-1))))};for(b=0;O>b;b++)k=I[b],D=k.name,"cb"!==D&&"subgrid"!==D&&"rn"!==D&&(y=f?k.xmlmap||D:"local"===h&&!E.dataTypeOrg||"json"===h||"jsonp"===h?k.jsonmap||D:D,!1!==E.keyName&&!0===k.key&&(E.keyName=D),("string"==typeof y||v(y))&&(z[D]=y),v(y)||B(D));for(O=P.length,b=0;O>b;b++)R=P[b],"object"==typeof R&&null!=R&&(R=R.name),B(R);if(j=!1===E.keyName?v(g.id)?g.id.call(this,e):g.id:E.keyName,isNaN(j)?v(j)||(N[D]&&(q=N[D].order),f&&("string"==typeof j&&/^\\[\\w+\\]$/.test(j)?j=A(j.substring(1,j.length-1)):"string"==typeof j&&/^\\w+$/.test(j)&&(j=M(j)))):q=Number(j),y=m(e,g.root,!0),g.row)if(1===y.length&&"string"==typeof g.row&&/^\\w+$/.test(g.row)){for(h=[],_=y[0].childNodes,F=_.length,R=0;F>R;R++)G=_[R],1===G.nodeType&&G.nodeName===g.row&&h.push(G);y=h}else y=m(y,g.row,!0);null==y&&x(e)&&(y=e),y||(y=[]),e=y.length,e>0&&0>=E.page&&(E.page=1),O=parseInt(E.rowNum,10),o&&(O*=o+1);var V,B=[],I=[],h=[];for(b=0;e>b;b++){if(V=y[b],w=g.repeatitems&&g.cell?m(V,g.cell,!0)||V:V,S=g.repeatitems&&(f||x(w)),k={},T={},f&&!S&&null!=w)for(_=w.childNodes,F=_.length,R=0;F>R;R++)G=_[R],1===G.nodeType&&(T[G.nodeName]=G);for(D in N)N.hasOwnProperty(D)&&(R=N[D],S?(_=w[R.order],f&&null!=_&&(_=_.textContent||_.text)):_=null!=z[D]&&"string"!=typeof z[D]?z[D](w):m(w,"string"==typeof z[D]?z[D]:R.name),1===R.type&&(R=P[R.index],null!=R&&v(R.convert)&&(_=R.convert(_,w))),void 0!==_&&(k[D]=_));if(void 0!==k[j]?V=void 0!==k[j]?k[j]:l():(V=m(V,x(V)?q:j),void 0===V&&(V=m(w,x(w)?q:j)),void 0===V&&(V=l())),V=String(V),S=E.idPrefix+V,E.treeGrid&&ee(k),O>b)I.push(S),B.push(w),h.push(k);else if(!p)break;(p||!0===E.treeGrid)&&(k._id_=V,E.data.push(k),E._index[k._id_]=E.data.length-1)}if(i=t.parseDataToHtml.call(this,e,I,h,B,i,o,p),ae(!0),o=-1<E.treeANode?E.treeANode:0,g=a(this.tBodies[0]),!0===E.treeGrid&&o>0?a(this.rows[o]).after(i.join("")):E.scroll?g.append(i.join("")):(null==this.firstElementChild||void 0!=document.documentMode&&9>=document.documentMode?g.html(g.html()+i.join("")):this.firstElementChild.innerHTML+=i.join(""),this.grid.cols=this.rows[0].cells),E.grouping&&H.call(this),!0===E.subGrid)try{s.addSubGrid.call(c,E.iColByName.subgrid)}catch(L){}if(!1===E.gridview||v(E.afterInsertRow))for(b=0;b<Math.min(e,O);b++)C.call(this,"afterInsertRow",I[b],h[b],B[b]);if(E.totaltime=new Date-u,b>0&&0===E.records&&(E.records=e),d(i),!0===E.treeGrid)try{s.setTreeNode.call(c,o+1,b+o+1)}catch(W){}E.reccount=Math.min(e,O),E.treeANode=-1,E.userDataOnFooter&&s.footerData.call(c,"set",E.userData,!0),p&&(E.records=e,E.lastpage=Math.ceil(e/O)),r||this.updatepager(!1,!0),re.call(this)}},le=function(){function e(t){var i,r,a,o,l,n,s,d=0;if(null!=t.groups){for((r=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&C.orBegin(),i=0;i<t.groups.length;i++){d>0&&r&&C.or();try{e(t.groups[i])}catch(c){k(c)}d++}r&&C.orEnd()}if(null!=t.rules)try{for((a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&C.orBegin(),i=0;i<t.rules.length;i++)l=t.rules[i],o=t.groupOp.toString().toUpperCase(),y[l.op]&&l.field?(d>0&&o&&"OR"===o&&(C=C.or()),s=u[l.field],n=s.reader,C=y[l.op](C,o)(v(n)?\'jQuery.jgrid.getAccessor(this,jQuery("\'+E.idSel+\'")[0].p.colModel[\'+s.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,\'"+n+"\')",l.data,u[l.field])):null!=E.customSortOperations&&null!=E.customSortOperations[l.op]&&v(E.customSortOperations[l.op].filter)&&(C=C.custom(l.op,l.field,l.data)),d++;a&&C.orEnd()}catch(h){k(h)}}var i,r,o,l=a(this),n=E.multiSort?[]:"",d=[],c=!1,u={},h=[],p=[],f=G.call(g,"formatter.date");if(!x(E.data))return{};var m,b,w=E.grouping?E.groupingView:!1;if(_(E.colModel,function(e){var t=this.index||this.name;if(r=this.sorttype||"text",u[this.name]={reader:E.dataTypeOrg?this.name:this.jsonmap||this.name,iCol:e,stype:r,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},("date"===r||"datetime"===r)&&(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(i=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:f.srcformat,o=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:f.newformat):i=o=this.datefmt||"Y-m-d",u[this.name].srcfmt=i,u[this.name].newfmt=o),E.grouping)for(b=0,m=w.groupField.length;m>b;b++)this.name===w.groupField[b]&&(h[b]=u[t],p[b]=t);E.multiSort?this.lso&&(n.push(this.name),e=this.lso.split("-"),d.push(e[e.length-1])):c||this.index!==E.sortname&&this.name!==E.sortname||(n=this.name,c=!0)}),E.treeGrid)return s.SortTree.call(l,n,E.sortorder,null!=u[n]&&u[n].stype?u[n].stype:"text",null!=u[n]&&u[n].srcfmt?u[n].srcfmt:""),!1;var y={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},"in":function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},C=t.from.call(this,E.data);if(E.ignoreCase&&(C=C.ignoreCase()),!0===E.search){var j=E.postData.filters;if(j)"string"==typeof j&&(j=t.parse(j)),e(j);else try{C=y[E.postData.searchOper](C)(E.postData.searchField,E.postData.searchString,u[E.postData.searchField])}catch(q){}}if(E.grouping)for(b=0;m>b;b++)C.orderBy(p[b],w.groupOrder[b],h[b].stype,h[b].srcfmt);E.multiSort?_(n,function(e){C.orderBy(this,d[e],u[this].stype,u[this].srcfmt,u[this].sfunc)}):n&&E.sortorder&&c&&("DESC"===E.sortorder.toUpperCase()?C.orderBy(E.sortname,"d",u[n].stype,u[n].srcfmt,u[n].sfunc):C.orderBy(E.sortname,"a",u[n].stype,u[n].srcfmt,u[n].sfunc)),E.lastSelectedData=C.select();var j=parseInt(E.rowNum,10),S=E.lastSelectedData.length,D=parseInt(E.page,10),R=Math.ceil(S/j),F={};if(E.grouping&&E.groupingView._locgr){E.groupingView.groups=[];var I,O,N;if(E.footerrow&&E.userDataOnFooter){for(O in E.userData)E.userData.hasOwnProperty(O)&&(E.userData[O]=0);N=!0}for(I=0;S>I;I++){if(N)for(O in E.userData)E.userData.hasOwnProperty(O)&&(E.userData[O]+=parseFloat(E.lastSelectedData[I][O]||0));s.groupingPrepare.call(l,E.lastSelectedData[I],I,j)}}return u=C=null,l=E.localReader,F[l.total]=R,F[l.page]=D,F[l.records]=S,F[l.root]=E.lastSelectedData.slice((D-1)*j,D*j),F[l.userdata]=E.userData,F},ne=function(e){var t=e.outerWidth();return 0>=t&&(t=a(this).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",a(document.body).append("<div id=\'testpg\' class=\'"+M("gBox","ui-jqgrid")+"\' style=\'font-size:"+t+";visibility:hidden;margin:0;padding:0;\' ></div>"),a(e).clone().appendTo("#testpg"),t=a("#testpg>.ui-pg-table").width(),a("#testpg").remove()),t>0&&e.parent().width(t),t},se=function(){this.grid.hDiv.loading=!0,E.hiddengrid||s.progressBar.call(a(this),{method:"show",loadtype:E.loadui,htmlcontent:z("loadtext")})},de=function(){this.grid.hDiv.loading=!1,s.progressBar.call(a(this),{method:"hide",loadtype:E.loadui})},ce=function(e){var i=this,r=a(i),o=i.grid;if(!o.hDiv.loading){var l,n=E.scroll&&!1===e,c={},u=E.prmNames;0>=E.page&&(E.page=Math.min(1,E.lastpage)),null!==u.search&&(c[u.search]=E.search),null!==u.nd&&(c[u.nd]=(new Date).getTime()),(isNaN(parseInt(E.rowNum,10))||0>=parseInt(E.rowNum,10))&&(E.rowNum=E.maxRowNum),null!==u.rows&&(c[u.rows]=E.rowNum),null!==u.page&&(c[u.page]=E.page),null!==u.sort&&(c[u.sort]=E.sortname),null!==u.order&&(c[u.order]=E.sortorder),null!==E.rowTotal&&null!==u.totalrows&&(c[u.totalrows]=E.rowTotal);var h=v(E.loadComplete),f=h?E.loadComplete:null,g=0;if(e=e||1,e>1?null!==u.npage?(c[u.npage]=e,g=e-1,e=1):f=function(t){E.page++,o.hDiv.loading=!1,h&&E.loadComplete.call(i,t),ce.call(i,e-1)}:null!==u.npage&&delete E.postData[u.npage],E.grouping){s.groupingSetup.call(r);var m,b,w,y,x=E.groupingView,q="";for(m=0;m<x.groupField.length;m++){for(b=x.groupField[m],w=0;w<E.colModel.length;w++)y=E.colModel[w],y.name===b&&y.index&&(b=y.index);q+=b+" "+x.groupOrder[m]+", "}c[u.sort]=q+c[u.sort]}j(E.postData,c);var S=E.scroll?i.rows.length-1:1,D=function(){var e=r.width(),t=r.closest(".ui-jqgrid-view").width(),i=r.css("height");e>t&&0===E.reccount?r.css("height","1px"):"0"!==i&&"0px"!==i&&r.css("height","")},R=function(){var e;if(E.autoresizeOnLoad)s.autoResizeAllColumns.call(r);else for(e=0;e<E.columnsToReResizing.length;e++)s.autoResizeColumn.call(r,E.columnsToReResizing[e]);d(E.columnsToReResizing)},u=function(){C.call(i,"loadComplete",l),R(),r.triggerHandler("jqGridAfterLoadComplete",[l]),de.call(i),E.datatype="local",E.datastr=null,B.call(i),D()},_=function(t){r.triggerHandler("jqGridLoadComplete",[t]),f&&f.call(i,t),R(),r.triggerHandler("jqGridAfterLoadComplete",[t]),n&&o.populateVisible.call(i),1===e&&de.call(i),B.call(i),D()};if(C.call(i,"beforeRequest"))if(v(E.datatype))E.datatype.call(i,E.postData,"load_"+E.id,S,e,g);else switch(c=E.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":a.ajax(j({url:E.url,type:E.mtype,dataType:c,data:t.serializeFeedback.call(p,E.serializeGridData,"jqGridSerializeGridData",E.postData),success:function(t,r,a){v(E.beforeProcessing)&&!1===E.beforeProcessing.call(i,t,r,a)?de.call(i):(oe.call(i,t,S,e>1,g),_(t),(E.loadonce||E.treeGrid)&&(E.dataTypeOrg=E.datatype,E.datatype="local"))},error:function(t,r,a){v(E.loadError)&&E.loadError.call(i,t,r,a),1===e&&de.call(i)},beforeSend:function(e,t){var r=!0;return v(E.loadBeforeSend)&&(r=E.loadBeforeSend.call(i,e,t)),void 0===r&&(r=!0),!1===r?!1:void se.call(i)}},t.ajaxOptions,E.ajaxGridOptions));break;case"xmlstring":se.call(i),l="string"==typeof E.datastr?a.parseXML(E.datastr):E.datastr,oe.call(i,l),u();break;case"jsonstring":se.call(i),l="string"==typeof E.datastr?t.parse(E.datastr):E.datastr,oe.call(i,l),u();break;case"local":case"clientside":se.call(i),E.datatype="local",c=le.call(i),oe.call(i,c,S,e>1,g),_(c)}}},ue=function(e){var t=this.grid;a(E.cb,t.hDiv)[E.propOrAttr]("checked",e),E.frozenColumns&&a(E.cb,t.fhDiv)[E.propOrAttr]("checked",e)};u=function(e,i){var r,o,l,n,s=M("states.hover"),c=M("states.disabled"),u="<td class=\'ui-pg-button "+c+"\'><span class=\'ui-separator\'></span></td>",h="",g="<table "+($?"cellspacing=\'0\' ":"")+"style=\'table-layout:auto;white-space: pre;"+("left"===E.pagerpos?"margin-right:auto;":"right"===E.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"\' class=\'ui-pg-table\'><tbody><tr>",m="",v=function(e,t,i){return C.call(p,"onPaging",e,{newPage:t,currentPage:Y(E.page,1),lastPage:Y(E.lastpage,1),currentRowNum:Y(E.rowNum,10),newRowNum:i})?(E.selrow=null,E.multiselect&&(d(E.selarrrow),ue.call(p,!1)),d(E.savedRow),!0):!1};if(i+="_"+e,r="pg_"+e,o=e+"_left",l=e+"_center",n=e+"_right",a("#"+f(e)).append("<div id=\'"+r+"\' class=\'ui-pager-control\' role=\'group\'><table "+($?"cellspacing=\'0\' ":"")+"class=\'ui-pg-table\' style=\'width:100%;table-layout:fixed;height:100%;\'><tbody><tr><td id=\'"+o+"\' style=\'text-align:left;\'></td><td id=\'"+l+"\' style=\'text-align:center;white-space:pre;\'></td><td id=\'"+n+"\' style=\'text-align:right;\'></td></tr></tbody></table></div>").attr("dir","ltr"),r="#"+f(r),0<E.rowList.length){for(m="<td dir=\'"+J+"\'>",o=z("pgrecs"),m+="<select class=\'"+M("pagerSelect","ui-pg-selbox")+"\' "+(o?"title=\'"+o+"\'":"")+">",o=0;o<E.rowList.length;o++)l=E.rowList[o].toString().split(":"),1===l.length&&(l[1]=l[0]),m+=\'<option value="\'+l[0]+\'"\'+(Y(E.rowNum,0)===Y(l[0],0)?\' selected="selected"\':"")+">"+l[1]+"</option>";m+="</select></td>"}if("rtl"===J&&(g+=m),!0===E.pginput&&(h="<td dir=\'"+J+"\'>"+t.format(z("pgtext")||"","<input class=\'"+M("pagerInput","ui-pg-input")+"\' type=\'text\' size=\'2\' maxlength=\'7\' value=\'0\'/>","<span id=\'sp_1_"+e+"\'>0</span>")+"</td>"),e="#"+f(e),!0===E.pgbuttons){l=["first","prev","next","last"];var b=M("pagerButton","ui-pg-button");for(n=function(e){var t=z("pg"+e);return"<td role=\'button\' tabindex=\'0\' id=\'"+e+i+"\' class=\'"+b+"\' "+(t?"title=\'"+t+"\'":"")+"><span class=\'"+A("pager."+e)+"\'></span></td>"},"rtl"===J&&l.reverse(),o=0;o<l.length;o++)g+=n(l[o]),1===o&&(g+=""!==h?u+h+u:"")}else""!==h&&(g+=h);"ltr"===J&&(g+=m),g+="</tr></tbody></table>",!0===E.viewrecords&&a("td"+e+"_"+E.recordpos,r).append("<span dir=\'"+J+"\' style=\'text-align:"+E.recordpos+"\' class=\'ui-paging-info\'></span>");var w=a("td"+e+"_"+E.pagerpos,r);w.append(g),u=ne.call(this,w.children(".ui-pg-table")),E._nvtd=[],E._nvtd[0]=u?Math.floor((E.width-u)/2):Math.floor(E.width/3),E._nvtd[1]=0,g=null,a(".ui-pg-selbox",r).bind("change",function(){var e=Y(this.value,10),t=Math.round(E.rowNum*(E.page-1)/e-.5)+1;return v("records",t,e)?(E.page=t,E.rowNum=e,E.pager&&a(".ui-pg-selbox",E.pager).val(e),E.toppager&&a(".ui-pg-selbox",E.toppager).val(e),ce.call(p),!1):!1}),!0===E.pgbuttons&&(a(".ui-pg-button",r).hover(function(){D(this,c)?this.style.cursor="default":(a(this).addClass(s),this.style.cursor="pointer")},function(){D(this,c)||(a(this).removeClass(s),this.style.cursor="default")}),a("#first"+f(i)+", #prev"+f(i)+", #next"+f(i)+", #last"+f(i)).click(function(){if(D(this,c))return!1;var e=Y(E.page,1),t=e,r=this.id,a=Y(E.lastpage,1),o=!1,l=!0,n=!0,s=!0,d=!0;return 0===a||1===a?d=s=n=l=!1:a>1&&e>=1?1===e?n=l=!1:e===a&&(d=s=!1):a>1&&0===e&&(d=s=!1,e=a-1),this.id==="first"+i&&l&&(r="first",t=1,o=!0),this.id==="prev"+i&&n&&(r="prev",t=e-1,o=!0),this.id==="next"+i&&s&&(r="next",t=e+1,o=!0),this.id==="last"+i&&d&&(r="last",t=a,o=!0),v(r,t,Y(E.rowNum,10))?(E.page=t,o&&ce.call(p),!1):!1})),!0===E.pginput&&a("input.ui-pg-input",r).bind("keypress.jqGrid",function(e){e=e.charCode||e.keyCode||0;var t=Y(a(this).val(),1);return 13===e?v("user",t,Y(E.rowNum,10))?(a(this).val(t),E.page=0<a(this).val()?a(this).val():E.page,ce.call(p),!1):!1:this}),w.children(".ui-pg-table").bind("keydown.jqGrid",function(e){13===e.which&&(e=w.find(":focus"),0<e.length&&e.trigger("click"))})};var he,pe=function(e,t){var i,r="",o=E.colModel,l=o[e],n=!1,s="",d=M("states.disabled"),c=a(E.frozenColumns?t:p.grid.headers[e].el),u=c.find("span.s-ico"),h=u.children("span.ui-icon-asc"),f=u.children("span.ui-icon-desc"),g=h,m=f;c.find("span.ui-grid-ico-sort").addClass(d),c.attr("aria-selected","false"),l.lso?"asc"===l.lso?(l.lso+="-desc",s="desc",g=f,m=h):"desc"===l.lso?(l.lso+="-asc",s="asc"):("asc-desc"===l.lso||"desc-asc"===l.lso)&&(l.lso="",E.viewsortcols[0]||u.hide()):(l.lso=s=l.firstsortorder||"asc",g=h,m=f),s&&(u.show(),g.removeClass(d).css("display",""),E.showOneSortIcon&&m.hide(),c.attr("aria-selected","true")),E.sortorder="",_(o,function(e){this.lso&&(e>0&&n&&(r+=", "),i=this.lso.split("-"),\nr+=o[e].index||o[e].name,r+=" "+i[i.length-1],n=!0,E.sortorder=i[i.length-1])}),r=r.substring(0,r.lastIndexOf(E.sortorder)),E.sortname=r},fe=function(e,t,i,r,o){var l=this.grid,n=M("states.disabled");if(E.colModel[t].sortable&&!(0<E.savedRow.length)){if(i||(E.lastsort===t&&""!==E.sortname?"asc"===E.sortorder?E.sortorder="desc":"desc"===E.sortorder&&(E.sortorder="asc"):E.sortorder=E.colModel[t].firstsortorder||"asc",E.page=1),E.multiSort)pe(t,o);else{if(r){if(E.lastsort===t&&E.sortorder===r&&!i)return;E.sortorder=r}var c=l.headers;i=l.fhDiv,r=c[E.lastsort]?a(c[E.lastsort].el):a(),o=a(E.frozenColumns?o:c[t].el);var c=o.find("span.s-ico"),u=E.colModel[E.lastsort],h=c.children("span.ui-icon-"+E.sortorder),p=c.children("span.ui-icon-"+("asc"===E.sortorder?"desc":"asc"));r.find("span.ui-grid-ico-sort").addClass(n),r.attr("aria-selected","false"),E.frozenColumns&&(i.find("span.ui-grid-ico-sort").addClass(n),i.find("th").attr("aria-selected","false")),h.removeClass(n).css("display",""),E.showOneSortIcon&&p.removeClass(n).hide(),o.attr("aria-selected","true"),E.viewsortcols[0]||(E.lastsort!==t?(E.frozenColumns&&i.find("span.s-ico").hide(),r.find("span.s-ico").hide(),c.show()):""===E.sortname&&c.show()),E.lastsort!==t&&"true"===r.data("autoResized")&&(null!=u&&null!=u.autoResizing&&u.autoResizing.compact||E.autoResizing.compact)&&E.columnsToReResizing.push(E.lastsort),E.lastsort!==t&&"true"===o.data("autoResized")&&(u=E.colModel[t],(null!=u&&null!=u.autoResizing&&u.autoResizing.compact||E.autoResizing.compact)&&E.columnsToReResizing.push(t)),e=e.substring(5+E.id.length+1),E.sortname=E.colModel[t].index||e}C.call(this,"onSortCol",E.sortname,t,E.sortorder)?("local"===E.datatype?E.deselectAfterSort&&s.resetSelection.call(a(this)):(E.selrow=null,E.multiselect&&ue.call(this,!1),d(E.selarrrow),d(E.savedRow)),E.scroll&&(n=l.bDiv.scrollLeft,X.emptyRows.call(this,!0,!1),l.hDiv.scrollLeft=n),E.subGrid&&"local"===E.datatype&&a("td.sgexpanded","#"+f(E.id)).each(function(){a(this).trigger("click")}),ce.call(this),E.lastsort=t,E.sortname!==e&&t&&(E.lastsort=t)):E.lastsort=t}},ge=function(e){var t,i=e;for(t=e+1;t<E.colModel.length;t++)if(!0!==E.colModel[t].hidden){i=t;break}return i-e};-1===S(E.multikey,["shiftKey","altKey","ctrlKey"])&&(E.multikey=!1),E.keyName=!1,E.sortorder=E.sortorder.toLowerCase(),t.cell_width=t.cellWidth();var me=t.cmTemplate;for(Q=0;Q<E.colModel.length;Q++)he="string"==typeof E.colModel[Q].template?null==me||"object"!=typeof me[E.colModel[Q].template]&&!a.isFunction(me[E.colModel[Q].template])?{}:me[E.colModel[Q].template]:E.colModel[Q].template,v(he)&&(he=he.call(p,{cm:E.colModel[Q],iCol:Q})),E.colModel[Q]=j(!0,{},E.cmTemplate,he||{},E.colModel[Q]),!1===E.keyName&&!0===E.colModel[Q].key&&(E.keyName=E.colModel[Q].name);if(!0===E.grouping&&(E.scroll=!1,E.rownumbers=!1,E.treeGrid=!1,E.gridview=!0),E.subGrid)try{s.setSubGrid.call(g)}catch(ve){}if(!E.multiselect||"left"!==E.multiselectPosition&&"right"!==E.multiselectPosition||(Q="left"===E.multiselectPosition?"unshift":"push",E.colNames[Q]("<input role=\'checkbox\' id=\'"+E.cbId+"\' class=\'cbox\' type=\'checkbox\' aria-checked=\'false\'/>"),E.colModel[Q]({name:"cb",width:t.cell_width?E.multiselectWidth+E.cellLayout:E.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),E.rownumbers&&(E.colNames.unshift(""),E.colModel.unshift({name:"rn",width:t.cell_width?E.rownumWidth+E.cellLayout:E.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),E.iColByName=V(E.colModel),E.xmlReader=j(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},E.xmlReader),E.jsonReader=j(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},E.jsonReader),E.localReader=j(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},E.localReader),E.scroll&&(E.pgbuttons=!1,E.pginput=!1,E.rowList=[]),!0===E.treeGrid){try{s.setTreeGrid.call(g)}catch(be){}"local"!==E.datatype&&(E.localReader={id:"_id_"}),E.iPropByName=L(E.additionalProperties)}if(function(){var e,t,i=E.remapColumns,r=E.colModel,a=r.length,o=[];for(e=0;a>e;e++)t=r[e].name,0>S(t,E.reservedColumnNames)&&o.push(t);if(null!=i)for(r=o.slice(),e=0;e<i.length;e++)o[e]=r[i[e]];E.cmNamesInputOrder=o}(),W(),E.data.length&&(te.call(p),ie()),!0===E.shrinkToFit&&!0===E.forceFit)for(Q=E.colModel.length-1;Q>=0;Q--)if(!0!==E.colModel[Q].hidden){E.colModel[Q].resizable=!1;break}var we,ye,xe,Ce,V=[],L=[];he=[];var W="<thead><tr class=\'ui-jqgrid-labels\' role=\'row\'>",je=M("states.hover"),qe=M("states.disabled");if(E.multiSort)for(V=E.sortname.split(","),Q=0;Q<V.length;Q++)he=R(V[Q]).split(" "),V[Q]=R(he[0]),L[Q]=he[1]?R(he[1]):E.sortorder||"asc";for(Q=0;Q<E.colNames.length;Q++){switch(R=E.colModel[Q],he=E.headertitles||R.headerTitle?\' title="\'+r("string"==typeof R.headerTitle?R.headerTitle:E.colNames[Q])+\'"\':"",W+="<th id=\'"+E.id+"_"+R.name+"\' class=\'"+M("colHeaders","ui-th-column ui-th-"+J+" "+(R.labelClasses||""))+"\'"+he+">",he=R.index||R.name,R.labelAlign){case"left":me="text-align:left;";break;case"right":me="text-align:right;"+(!1===R.sortable?"":"padding-right:"+E.autoResizing.widthOfVisiblePartOfSortIcon+"px;");break;case"likeData":me=void 0===R.align||"left"===R.align?"text-align:left;":"right"===R.align?"text-align:right;"+(!1===R.sortable?"":"padding-right:"+E.autoResizing.widthOfVisiblePartOfSortIcon+"px;"):"";break;default:me=""}W+="<div id=\'jqgh_"+E.id+"_"+R.name+"\'"+(I?" class=\'ui-th-div-ie\'":"")+(""===me?"":" style=\'"+me+"\'")+">",me=R.autoResizable&&"actions"!==R.formatter?"<span class=\'"+E.autoResizing.wrapperClassName+"\'>"+E.colNames[Q]+"</span>":E.colNames[Q],E.sortIconsBeforeText?(W+=(E.builderSortIcons||t.builderSortIcons).call(p,Q),W+=me):(W+=me,W+=(E.builderSortIcons||t.builderSortIcons).call(p,Q)),W+="</div></th>",R.width=R.width?parseInt(R.width,10):150,"boolean"!=typeof R.title&&(R.title=!0),R.lso="",he===E.sortname&&(E.lastsort=Q),E.multiSort&&(he=S(he,V),-1!==he&&(R.lso=L[he]))}W+="</tr></thead>",R=a("<table class=\'"+M("hTable","ui-jqgrid-htable")+"\' style=\'width:1px\' role=\'presentation\' aria-labelledby=\'gbox_"+E.id+"\'"+($?" cellspacing=\'0\'":"")+">"+W+"<tbody><tr><td></td></tr></tbody></table>"),a(R[0].tHead).children("tr").children("th").hover(function(){a(this).addClass(je)},function(){a(this).removeClass(je)}),E.multiselect&&a(E.cb,R).bind("click",function(){d(E.selarrrow);var e,t=M("states.select"),i=[],r=E.iColByName.cb,o=function(e,i){a(e)[i?"addClass":"removeClass"](t).attr(i?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==r&&a(e.cells[r]).children("input.cbox")[E.propOrAttr]("checked",i)},l=X.fbRows,n=qe+" ui-subgrid jqgroup jqfoot jqgfirstrow";this.checked?(e=!0,E.selrow=1<p.rows.length?p.rows[p.rows.length-1].id:null):(e=!1,E.selrow=null),a(p.rows).each(function(t){D(this,n)||(o(this,e),(e?E.selarrrow:i).push(this.id),l&&o(l[t],e))}),C.call(p,"onSelectAll",e?E.selarrrow:i,e)}).closest("th.ui-th-column").css("padding","0"),!0===E.autowidth&&(Q=Math.floor(a(o).innerWidth()),E.width=Q>0?Q:"nw"),isNaN(E.width)?isNaN(parseFloat(E.width))||(E.width=parseFloat(E.width)):E.width=Number(E.width),E.widthOrg=E.width,function(){var e,i,r,a,o=0,l=t.cell_width?0:Y(E.cellLayout,0),n=0,s=Y(E.scrollOffset,0),d=!1,c=0,u=t.isCellClassHidden;_(E.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),E.grouping&&E.autowidth){var e=S(this.name,E.groupingView.groupField);e>=0&&E.groupingView.groupColumnShow.length>e&&(this.hidden=!E.groupingView.groupColumnShow[e])}this.widthOrg=i=Y(this.width,0),!1!==this.hidden||u(this.classes)||(o+=i+l,this.fixed?c+=i+l:n++)}),isNaN(E.width)&&(E.width=o+(!1!==E.shrinkToFit||isNaN(E.height)?0:s)),X.width=E.width,E.tblwidth=o,!1===E.shrinkToFit&&!0===E.forceFit&&(E.forceFit=!1),!0===E.shrinkToFit&&n>0&&(r=X.width-l*n-c,isNaN(E.height)||(r-=s,d=!0),o=0,_(E.colModel,function(t){!1!==this.hidden||u(this.classes)||this.fixed||(this.width=i=Math.round(r*this.width/(E.tblwidth-l*n-c)),o+=i,e=t)}),a=0,d?X.width-c-(o+l*n)!==s&&(a=X.width-c-(o+l*n)-s):d||1===Math.abs(X.width-c-(o+l*n))||(a=X.width-c-(o+l*n)),E.colModel[e].width+=a,E.tblwidth=o+a+l*n+c,E.tblwidth>E.width&&(E.colModel[e].width-=E.tblwidth-parseInt(E.width,10),E.tblwidth=E.width))}(),R.css("width",E.tblwidth+"px"),a(o).css("width",X.width+"px").append("<div class=\'"+M("resizer","ui-jqgrid-resize-mark")+"\' id=\'"+E.rsId+"\'>&#160;</div>"),a(E.rs).bind("selectstart",function(){return!1}).click(U).dblclick(function(e){var t=a(this).data("idx"),i=a(this).data("pageX"),r=E.colModel[t];if(null==i)return!1;var i=String(i).split(";"),o=parseFloat(i[0]),l=parseFloat(i[1]);return 2===i.length&&(5<Math.abs(o-l)||5<Math.abs(e.pageX-o)||5<Math.abs(e.pageX-l))?!1:(C.call(p,"resizeDblClick",t,r,e)&&null!=r&&r.autoResizable&&s.autoResizeColumn.call(g,t),!1)}),a(O).css("width",X.width+"px");var Se="";E.footerrow&&(Se+="<table role=\'presentation\' style=\'width:"+E.tblwidth+"px\' class=\'ui-jqgrid-ftable\'"+($?" cellspacing=\'0\'":"")+"><tbody><tr role=\'row\' class=\'"+M("rowFooter","footrow footrow-"+J)+"\'>");var De="<tr class=\'jqgfirstrow\' role=\'row\' style=\'height:auto\'>";if(E.disableClick=!1,a("th",R[0].tHead.rows[0]).each(function(e){var t=E.colModel[e],i=t.name,r=a(this),o=r.children("div"),l=o.children("span.s-ico"),n=E.showOneSortIcon;we=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(ye=document.createElement("span"),a(ye).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+J).bind("selectstart",function(){return!1}),r.addClass(E.resizeclass)):ye="",r.css("width",we+"px").prepend(ye),ye=null;var s="";!0===t.hidden&&(r.css("display","none"),s="display:none;"),De+="<td role=\'gridcell\' "+(t.classes?"class=\'"+t.classes+"\' ":"")+"style=\'height:0;width:"+we+"px;"+s+"\'></td>",X.headers[e]={width:we,el:this},xe=t.sortable,"boolean"!=typeof xe&&(xe=t.sortable=!0),"cb"!==i&&"subgrid"!==i&&"rn"!==i&&xe&&E.viewsortcols[2]&&o.addClass("ui-jqgrid-sortable"),xe&&(E.multiSort?(i="desc"===t.lso?"asc":"desc",E.viewsortcols[0]?(l.css("display",""),t.lso&&(l.children("span.ui-icon-"+t.lso).removeClass(qe),n&&l.children("span.ui-icon-"+i).hide())):t.lso&&(l.css("display",""),l.children("span.ui-icon-"+t.lso).removeClass(qe),n&&l.children("span.ui-icon-"+i).hide())):(t="desc"===E.sortorder?"asc":"desc",E.viewsortcols[0]?(l.css("display",""),e===E.lastsort&&(l.children("span.ui-icon-"+E.sortorder).removeClass(qe),n&&l.children("span.ui-icon-"+t).hide())):e===E.lastsort&&""!==E.sortname&&(l.css("display",""),l.children("span.ui-icon-"+E.sortorder).removeClass(qe),n&&l.children("span.ui-icon-"+t).hide()))),E.footerrow&&(Se+="<td role=\'gridcell\' "+K(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,i=a(this),r=i.closest(".ui-jqgrid-hdiv").hasClass("frozen-div"),o=function(){var e=[i.position().left+i.outerWidth()];return"rtl"===E.direction&&(e[0]=E.width-e[0]),e[0]-=r?0:X.bDiv.scrollLeft,e.push(a(X.hDiv).position().top),e.push(a(X.bDiv).offset().top-a(X.hDiv).offset().top+a(X.bDiv).height()+(X.sDiv?a(X.sDiv).height():0)),e};return 1===a(e.target).closest("th>span.ui-jqgrid-resize").length?(t=E.iColByName[(this.id||"").substring(E.id.length+1)],null!=t&&(!0===E.forceFit&&(E.nv=ge(t)),X.dragStart(t,e,o(),i)),!1):void 0}).click(function(e){if(E.disableClick)return E.disableClick=!1;var t,i,r="th.ui-th-column>div",r=E.viewsortcols[2]?r+".ui-jqgrid-sortable":r+">span.s-ico>span.ui-grid-ico-sort";return e=a(e.target).closest(r),1===e.length?(E.viewsortcols[2]||(t=!0,i=e.hasClass("ui-icon-desc")?"desc":"asc"),e=E.iColByName[(this.id||"").substring(E.id.length+1)],null!=e&&fe.call(p,a("div",this)[0].id,e,t,i,this),!1):void 0}),E.sortable&&a.fn.sortable)try{s.sortableColumns.call(g,a(p.tHead.rows[0]))}catch(Re){}E.footerrow&&(Se+="</tr></tbody></table>"),De+="</tr>",a(p).html("<tbody>"+De+"</tbody>"),g.addClass(M("grid","ui-jqgrid-btable"));var _e=E.caption&&!0===E.hiddengrid?!0:!1,O=a("<div class=\'ui-jqgrid-hbox"+("rtl"===J?"-rtl":"")+"\'></div>"),Fe=M("bottom");X.hDiv=document.createElement("div"),a(X.hDiv).css({width:X.width+"px"}).addClass(M("hDiv","ui-jqgrid-hdiv")).append(O).scroll(function(){var e=a(this).next(".ui-jqgrid-bdiv")[0];e&&(e.scrollLeft=this.scrollLeft)}),a(O).append(R),R=null,_e&&a(X.hDiv).hide(),E.rowNum=parseInt(E.rowNum,10),(isNaN(E.rowNum)||0>=E.rowNum)&&(E.rowNum=E.maxRowNum),E.pager&&("string"==typeof E.pager&&"#"!==E.pager.substr(0,1)?(R=E.pager,O=a("#"+f(E.pager))):!0===E.pager?(R=l(),O=a("<div id=\'"+R+"\'></div>"),O.appendTo("body"),E.pager="#"+f(R)):(O=a(E.pager),R=O.attr("id")),0<O.length?(O.css({width:X.width+"px"}).addClass(M("pager","ui-jqgrid-pager "+Fe)).appendTo(o),_e&&O.hide(),u.call(p,R,""),E.pager="#"+f(R)):E.pager=""),!1===E.cellEdit&&!0===E.hoverrows&&g.bind("mouseover",function(e){Ce=a(e.target).closest("tr.jqgrow"),"ui-subgrid"!==a(Ce).attr("class")&&a(Ce).addClass(je)}).bind("mouseout",function(e){Ce=a(e.target).closest("tr.jqgrow"),a(Ce).removeClass(je)});var Ge,ke,Ie,Oe=function(e){var t,i;do if(t=a(e).closest("td"),0<t.length){if(e=t.parent(),i=e.parent().parent(),e.is(".jqgrow")&&(i[0]===this||i.is("table.ui-jqgrid-btable")&&(i[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}while(0<t.length);return t};g.before(X.hDiv).click(function(e){var i=M("states.select"),r=e.target,o=Oe.call(this,r),l=o.parent();if(0!==l.length&&!D(l,qe)){Ge=l[0].id;var n=a(r).hasClass("cbox"),c=C.call(p,"beforeSelectRow",Ge,e),u=t.detectRowEditing.call(p,Ge),u=null!=u&&"cellEditing"!==u.mode;if("A"!==r.tagName&&(!u||n))if(ke=o[0].cellIndex,Ie=o.html(),C.call(p,"onCellSelect",Ge,ke,Ie,e),!0===E.cellEdit)if(E.multiselect&&n&&c)F.call(g,Ge,!0,e);else{Ge=l[0].rowIndex;try{s.editCell.call(g,Ge,ke,!0)}catch(h){}}else if(c)if(E.multikey)e[E.multikey]?F.call(g,Ge,!0,e):E.multiselect&&n&&(n=a("#jqg_"+f(E.id)+"_"+Ge).is(":checked"),a("#jqg_"+f(E.id)+"_"+Ge)[P]("checked",!n));else if(E.multiselect&&E.multiboxonly){if(!n){var m=E.frozenColumns?E.id+"_frozen":"";a(E.selarrrow).each(function(e,t){var r=s.getGridRowById.call(g,t);r&&a(r).removeClass(i),a("#jqg_"+f(E.id)+"_"+f(t))[E.propOrAttr]("checked",!1),m&&(a("#"+f(t),"#"+f(m)).removeClass(i),a("#jqg_"+f(E.id)+"_"+f(t),"#"+f(m))[E.propOrAttr]("checked",!1))}),d(E.selarrrow)}F.call(g,Ge,!0,e)}else r=E.selrow,F.call(g,Ge,!0,e),"toggle"!==E.singleSelectClickMode||E.multiselect||r!==Ge||(this.grid.fbRows&&(l=l.add(this.grid.fbRows[Ge])),l.removeClass(i).attr({"aria-selected":"false",tabindex:"-1"}),E.selrow=null)}}).bind("reloadGrid",function(e,t){var i=this.grid,r=a(this);if(!0===E.treeGrid&&(E.datatype=E.treedatatype),t=j({},m.reloadGridOptions||{},E.reloadGridOptions||{},t||{}),"local"===E.datatype&&E.dataTypeOrg&&E.loadonce&&t.fromServer&&(E.datatype=E.dataTypeOrg,delete E.dataTypeOrg),t.current&&i.selectionPreserver.call(this),"local"===E.datatype?(s.resetSelection.call(r),E.data.length&&(te.call(this),ie())):E.treeGrid||(E.selrow=null,E.iRow=-1,E.iCol=-1,E.multiselect&&(d(E.selarrrow),ue.call(this,!1)),d(E.savedRow)),E.scroll&&X.emptyRows.call(this,!0,!1),t.page){var o=parseInt(t.page,10);o>E.lastpage&&(o=E.lastpage),1>o&&(o=1),E.page=o,i.bDiv.scrollTop=i.prevRowHeight?(o-1)*i.prevRowHeight*E.rowNum:0}return i.prevRowHeight&&E.scroll&&void 0===t.page?(delete E.lastpage,i.populateVisible.call(this)):i.populate.call(this),!0===E._inlinenav&&r.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=Oe.call(this,e.target),i=t.parent();return 0<t.length&&!C.call(p,"ondblClickRow",i.attr("id"),i[0].rowIndex,t[0].cellIndex,e)?!1:void 0}).bind("contextmenu",function(e){var t=Oe.call(this,e.target),i=t.parent(),r=i.attr("id");return 0===t.length||(E.multiselect||F.call(g,r,!0,e),C.call(p,"onRightClickRow",r,i[0].rowIndex,t[0].cellIndex,e))?void 0:!1}),X.bDiv=document.createElement("div"),I&&"auto"===String(E.height).toLowerCase()&&(E.height="100%"),a(X.bDiv).append(a(\'<div style="position:relative;\'+($?"height:0.01%;":"")+\'"></div>\').append("<div></div>").append(p)).addClass("ui-jqgrid-bdiv").css({height:E.height+(isNaN(E.height)?"":"px"),width:X.width+"px"}).scroll(X.scrollGrid),g.css({width:E.tblwidth+"px"}),a.support.tbody||2===a(">tbody",p).length&&a(">tbody:gt(0)",p).remove(),E.multikey&&a(X.bDiv).bind(t.msie?"selectstart":"mousedown",function(){return!1}),_e&&a(X.bDiv).hide(),X.cDiv=document.createElement("div");var Ne=A("gridMinimize.visible"),Te=A("gridMinimize.hidden"),I=z("showhide"),Ae=!0===E.hidegrid?a("<a role=\'link\' class=\'"+M("titleButton","ui-jqgrid-titlebar-close")+"\'"+(I?" title=\'"+I+"\'":"")+"/>").hover(function(){Ae.addClass(je)},function(){Ae.removeClass(je)}).append("<span class=\'"+Ne+"\'></span>"):"";if(a(X.cDiv).append("<span class=\'ui-jqgrid-title\'>"+E.caption+"</span>").append(Ae).addClass(M("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===J?"-rtl":""))),a(X.cDiv).insertBefore(X.hDiv),E.toolbar[0]&&(X.uDiv=document.createElement("div"),"top"===E.toolbar[1]?a(X.uDiv).insertBefore(X.hDiv):"bottom"===E.toolbar[1]&&a(X.uDiv).insertAfter(X.hDiv),I=M("toolbarUpper","ui-userdata"),"both"===E.toolbar[1]?(X.ubDiv=document.createElement("div"),a(X.uDiv).addClass(I).attr("id","t_"+E.id).insertBefore(X.hDiv),a(X.ubDiv).addClass(M("toolbarBottom","ui-userdata")).attr("id","tb_"+E.id).insertAfter(X.hDiv),_e&&a(X.ubDiv).hide()):a(X.uDiv).width(X.width).addClass(I).attr("id","t_"+E.id),_e&&a(X.uDiv).hide()),"string"==typeof E.datatype&&(E.datatype=E.datatype.toLowerCase()),E.toppager?(E.toppager=E.id+"_toppager",X.topDiv=a("<div id=\'"+E.toppager+"\'></div>")[0],a(X.topDiv).addClass(M("pager","ui-jqgrid-toppager")).css({width:X.width+"px"}).insertBefore(X.hDiv),u.call(p,E.toppager,"_t"),E.toppager="#"+f(E.toppager)):""!==E.pager||E.scroll||(E.rowNum=E.maxRowNum),E.footerrow&&(X.sDiv=a("<div class=\'ui-jqgrid-sdiv\'></div>")[0],O=a("<div class=\'ui-jqgrid-hbox"+("rtl"===J?"-rtl":"")+"\'></div>"),a(X.sDiv).append(O).width(X.width).insertAfter(X.hDiv),a(O).append(Se),X.footers=a(".ui-jqgrid-ftable",X.sDiv)[0].rows[0].cells,E.rownumbers&&(X.footers[0].className=M("rowNum","jqgrid-rownum")),_e&&a(X.sDiv).hide()),O=null,E.caption){var Me=E.datatype;!0===E.hidegrid&&(a(".ui-jqgrid-titlebar-close",X.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",i=this;!0===E.toolbar[0]&&("both"===E.toolbar[1]&&(t+=",#"+f(a(X.ubDiv).attr("id"))),t+=",#"+f(a(X.uDiv).attr("id")));var r=a(t,E.gView).length;return E.toppager&&(t+=","+E.toppager),"visible"===E.gridstate?a(t,E.gBox).slideUp("fast",function(){r--,0===r&&(a("span",i).removeClass(Ne).addClass(Te),E.gridstate="hidden",a(E.gBox).hasClass("ui-resizable")&&a(".ui-resizable-handle",E.gBox).hide(),a(X.cDiv).addClass(Fe),_e||C.call(p,"onHeaderClick",E.gridstate,e))}):"hidden"===E.gridstate&&(a(X.cDiv).removeClass(Fe),a(t,E.gBox).slideDown("fast",function(){r--,0===r&&(a("span",i).removeClass(Te).addClass(Ne),_e&&(E.datatype=Me,ce.call(p),_e=!1),E.gridstate="visible",a(E.gBox).hasClass("ui-resizable")&&a(".ui-resizable-handle",E.gBox).show(),_e||C.call(p,"onHeaderClick",E.gridstate,e))})),!1}),_e&&(E.datatype="local",a(".ui-jqgrid-titlebar-close",X.cDiv).trigger("click")))}else a(X.cDiv).hide(),a(X.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");a(X.hDiv).after(X.bDiv),a(o).click(U).dblclick(function(e){var t=a(E.rs),i=t.offset(),r=t.data("idx"),o=t.data("delta"),l=E.colModel[r],n=a(this).data("pageX")||t.data("pageX");if(null==n)return!1;var n=String(n).split(";"),d=parseFloat(n[0]),c=parseFloat(n[1]);return 2===n.length&&(5<Math.abs(d-c)||5<Math.abs(e.pageX-d)||5<Math.abs(e.pageX-c))?!1:(C.call(p,"resizeDblClick",r,l)&&i.left-1<=e.pageX+o&&e.pageX+o<=i.left+t.outerWidth()+1&&null!=l&&l.autoResizable&&s.autoResizeColumn.call(g,r),!1)}),E.pager||a(X.cDiv).nextAll("div:visible").filter(":last").addClass(Fe),a(".ui-jqgrid-labels",X.hDiv).bind("selectstart",function(){return!1}),p.formatCol=K,p.sortData=fe,p.updatepager=function(e,i){var r,o,l,n,s,d,u=this,h=a(u),p=u.grid,f=E.pager||"",m=E.pager?"_"+E.pager.substr(1):"";r=p.bDiv;var v=a.fmatter?a.fmatter.NumberFormat:null,b=E.toppager?"_"+E.toppager.substr(1):"",w=M("states.hover"),y=M("states.disabled");o=parseInt(E.page,10)-1,0>o&&(o=0),o*=parseInt(E.rowNum,10),n=o+E.reccount,E.scroll&&(d=a(c(21,r)[0].rows).slice(1),o=n-d.length,E.reccount=d.length,(d=d.outerHeight()||p.prevRowHeight)&&(l=o*d,s=t.fixMaxHeightOfDiv.call(u,parseInt(E.records,10)*d),a(r).children("div").first().css({height:s+"px"}).children("div").first().css({height:l+"px",display:""}),0===r.scrollTop&&1<E.page&&(r.scrollTop=E.rowNum*(E.page-1)*d)),r.scrollLeft=p.hDiv.scrollLeft),(f+=E.toppager?(f?",":"")+E.toppager:"")&&(d=G.call(g,"formatter.integer")||{},p=Y(E.page),r=Y(E.lastpage),a(".selbox",f)[P]("disabled",!1),!0===E.pginput&&(a(".ui-pg-input",f).val(E.page),l=E.toppager?"#sp_1"+m+",#sp_1"+b:"#sp_1"+m,a(l).html(a.fmatter?v(E.lastpage,d):E.lastpage).closest(".ui-pg-table").each(function(){ne.call(u,a(this))})),E.viewrecords&&(0===E.reccount?a(".ui-paging-info",f).html(z("emptyrecords")):(l=o+1,s=E.records,a.fmatter&&(l=v(l,d),n=v(n,d),s=v(s,d)),a(".ui-paging-info",f).html(t.format(z("recordtext"),l,n,s)))),!0===E.pgbuttons&&(0>=p&&(p=r=0),1===p||0===p?(a("#first"+m+", #prev"+m).addClass(y).removeClass(w),E.toppager&&a("#first_t"+b+", #prev_t"+b).addClass(y).removeClass(w)):(a("#first"+m+", #prev"+m).removeClass(y),E.toppager&&a("#first_t"+b+", #prev_t"+b).removeClass(y)),p===r||0===p?(a("#next"+m+", #last"+m).addClass(y).removeClass(w),E.toppager&&a("#next_t"+b+", #last_t"+b).addClass(y).removeClass(w)):(a("#next"+m+", #last"+m).removeClass(y),E.toppager&&a("#next_t"+b+", #last_t"+b).removeClass(y)))),!0===e&&!0===E.rownumbers&&a(">td.jqgrid-rownum",u.rows).each(function(e){a(this).html(o+1+e)}),i&&E.jqgdnd&&h.jqGrid("gridDnD","updateDnD"),C.call(u,"gridComplete"),h.triggerHandler("jqGridAfterGridComplete")},p.refreshIndex=ie,p.setHeadCheckBox=ue,p.fixScrollOffsetAndhBoxPadding=B,p.constructTr=function(e,i,r,o,l,n){var d,c="-1",u="",h=i?"display:none;":"";if(r=M("gridRow","jqgrow ui-row-"+E.direction)+(r?" "+r:"")+(n?" "+M("states.select"):""),n=a(this).triggerHandler("jqGridRowAttr",[o,l,e]),"object"!=typeof n&&(n=v(E.rowattr)?E.rowattr.call(this,o,l,e):"string"==typeof E.rowattr&&null!=t.rowattr&&v(t.rowattr[E.rowattr])?t.rowattr[E.rowattr].call(this,o,l,e):{}),null!=n&&!a.isEmptyObject(n)){n.hasOwnProperty("id")&&(e=n.id,delete n.id),n.hasOwnProperty("tabindex")&&(c=n.tabindex,delete n.tabindex),n.hasOwnProperty("style")&&(h+=n.style,delete n.style),n.hasOwnProperty("class")&&(r+=" "+n["class"],delete n["class"]);try{delete n.role}catch(p){}for(d in n)n.hasOwnProperty(d)&&(u+=" "+d+"="+n[d])}return E.treeGrid&&parseInt(o[E.treeReader.level_field],10)!==parseInt(E.tree_root_level,10)&&(((o=s.getNodeParent.call(a(this),o))&&o.hasOwnProperty(E.treeReader.expanded_field)?o[E.treeReader.expanded_field]:1)||i||(h+="display:none;")),\'<tr role="row" id="\'+e+\'" tabindex="\'+c+\'" class="\'+r+\'"\'+(""===h?"":\' style="\'+h+\'"\')+u+">"},p.formatter=function(t,i,r,o,l,n){var s=E.colModel[r];if(void 0!==s.formatter){t=""!==String(E.idPrefix)?e(E.idPrefix,t):t;var d={rowId:t,colModel:s,gid:E.id,pos:r,rowData:n};i=v(s.cellBuilder)?s.cellBuilder.call(p,i,d,o,l):v(s.formatter)?s.formatter.call(p,i,d,o,l):a.fmatter?a.fn.fmatter.call(p,s.formatter,i,d,o,l):Z(i)}else i=Z(i);return i=s.autoResizable&&"actions"!==s.formatter?"<span class=\'"+E.autoResizing.wrapperClassName+"\'>"+i+"</span>":i,E.treeGrid&&"edit"!==l&&(void 0===E.ExpandColumn&&0===r||E.ExpandColumn===s.name)&&(null==n&&(n=E.data[E._index[t]]),t=parseInt(n[E.treeReader.level_field]||0,10),t=0===parseInt(E.tree_root_level,10)?t:t-1,r=n[E.treeReader.leaf_field],l=n[E.treeReader.expanded_field],n=n[E.treeReader.icon_field],i="<div class=\'tree-wrap tree-wrap-"+E.direction+"\' style=\'width:"+18*(t+1)+"px;\'><div class=\'"+q(E.treeIcons.commonIconClass,r?(void 0!==n&&""!==n?n:E.treeIcons.leaf)+" tree-leaf":l?E.treeIcons.minus+" tree-minus":E.treeIcons.plus+" tree-plus","treeclick")+"\' style=\'"+(!0===E.ExpandColClick?"cursor:pointer;":"")+("rtl"===E.direction?"right:":"left:")+18*t+"px;\'></div></div><span class=\'cell-wrapper"+(r?"leaf":"")+"\'"+(E.ExpandColClick?" style=\'cursor:pointer;\'":"")+">"+i+"</span>"),i},j(X,{populate:ce,emptyRows:function(e,t){var i=X.bDiv,r=null!=X.fbDiv?X.fbDiv.children(".ui-jqgrid-btable")[0]:null,o=function(e){if(e){var t=e.rows;if(E.deepempty)t&&a(t).slice(1).remove();else if(E.quickEmpty)for(;1<t.length;)e.deleteRow(t.length-1);else t=t[0],a(e.firstChild).empty().append(t)}};a(this).unbind(".jqGridFormatter"),o(this),o(r),e&&E.scroll&&(a(i.firstChild).css({height:"auto"}),a(i.firstChild.firstChild).css({height:0,display:"none"}),0!==i.scrollTop&&(i.scrollTop=0)),!0===t&&E.treeGrid&&(d(E.data),d(E.lastSelectedData),E._index={}),E.rowIndexes={},E.iRow=-1,E.iCol=-1},beginReq:se,endReq:de}),p.addXmlData=oe,p.addJSONData=oe,p.rebuildRowIndexes=H,p.grid.cols=p.rows[0].cells,C.call(p,"onInitGrid"),E.treeGrid&&"local"===E.datatype&&null!=E.data&&0<E.data.length&&(E.datatype="jsonstring",E.datastr=E.data,E.data=[]),ce.call(p),E.hiddengrid=!1}}}})};var B=a.fn.jqGrid;t.extend({getGridRes:function(e){var i=this[0];return i&&i.grid&&i.p?(i=t.getRes(w[i.p.locale],e)||t.getRes(w["en-US"],e),e=t.getRes(t,e),"object"!=typeof i||null===i||a.isArray(i)?void 0!==e?e:i:a.extend(!0,{},i,e||{})):null},getGuiStyles:function(e,i){var r=this instanceof a&&0<this.length?this[0]:this;return r&&r.grid&&r.p?t.mergeCssClasses(t.getRes(t.guiStyles[r.p.guiStyle||t.defaults.guiStyle||"jQueryUI"],e),i||""):""},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){null==t&&(t=!1),this.grid&&"object"==typeof e&&(!0===t?this.p=a.extend({},this.p,e):a.extend(!0,this.p,e))})},getGridRowById:function(e){if(null==e)return null;var t,i=e.toString();return this.each(function(){var r,o,l=this.rows;if(null!=this.p.rowIndexes&&(o=this.p.rowIndexes[i],(o=l[o])&&o.id===i&&(t=o)),!t)try{for(r=l.length;r--;)if(o=l[r],i===o.id){t=o;break}}catch(n){t=a(this.grid.bDiv).find("#"+f(e)),t=0<t.length?t[0]:null}}),t},getDataIDs:function(){var e=[];return this.each(function(){var t,i,r=this.rows,o=r.length;if(o&&o>0)for(t=0;o>t;t++)i=r[t],a(i).hasClass("jqgrow")&&e.push(i.id)}),e},setSelection:function(e,i,r){return this.each(function(){function o(e,t){var i=t.clientHeight,r=t.scrollTop,o=a(e).position().top,l=e.clientHeight;o+l>=i+r?t.scrollTop=o-(i+r)+l+r:i+r>o&&r>o&&(t.scrollTop=o)}var l,n,s,d=a(this),c=this.p,u=B.getGuiStyles;s=B.getGridRowById;var h=u.call(d,"states.select"),p=u.call(d,"states.disabled"),f=this.grid.fbRows,u=function(e,t){var i=t?"addClass":"removeClass",r=c.iColByName.cb,o=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},l=function(e){a(e)[i](h).attr(o),void 0!==r&&a(e.cells[r]).children("input.cbox")[c.propOrAttr]("checked",t)};l(e),f&&l(f[e.rowIndex])};void 0!==e&&(i=!1===i?!1:!0,null!=r&&(n=a(r.target).closest("tr.jqgrow"),0<n.length&&(l=n[0],f&&(l=this.rows[l.rowIndex]))),null==l&&(l=s.call(d,e)),!l||!l.className||-1<l.className.indexOf(p)||(!0===c.scrollrows&&(n=s.call(d,e),null!=n&&(n=n.rowIndex,n>=0&&o(this.rows[n],this.grid.bDiv))),c.multiselect?(this.setHeadCheckBox(!1),c.selrow=l.id,s=a.inArray(c.selrow,c.selarrrow),-1===s?(d=!0,c.selarrrow.push(c.selrow)):null!==t.detectRowEditing.call(this,l.id)?d=!0:(d=!1,c.selarrrow.splice(s,1),s=c.selarrrow[0],c.selrow=void 0===s?null:s),"ui-subgrid"!==l.className&&u(l,d),i&&C.call(this,"onSelectRow",l.id,d,r)):"ui-subgrid"!==l.className&&(c.selrow!==l.id?(null!==c.selrow&&(d=s.call(d,c.selrow))&&u(d,!1),u(l,!0),d=!0):d=!1,c.selrow=l.id,i&&C.call(this,"onSelectRow",l.id,d,r))))})},resetSelection:function(e){return this.each(function(){var t=a(this),i=this.p,r=B.getGuiStyles,o=B.getGridRowById,l=r.call(t,"states.select"),n="edit-cell "+l,r="selected-row "+r.call(t,"states.hover"),s=i.iColByName.cb,c=void 0!==s,u=this.grid.fbRows,h=function(e){var t={"aria-selected":"false",tabindex:"-1"};a(e).removeClass(l).attr(t),c&&a(e.cells[s]).children("input.cbox")[i.propOrAttr]("checked",!1),u&&(e=u[e.rowIndex],a(e).removeClass(l).attr(t),c)&&a(e.cells[s]).children("input.cbox")[i.propOrAttr]("checked",!1)};void 0!==e?(t=o.call(t,e),h(t),c&&(this.setHeadCheckBox(!1),t=a.inArray(e,i.selarrrow),-1!==t&&i.selarrrow.splice(t,1))):i.multiselect?(a(this.rows).each(function(){var e=a.inArray(this.id,i.selarrrow);-1!==e&&(h(this),i.selarrrow.splice(e,1))}),this.setHeadCheckBox(!1),d(i.selarrrow),i.selrow=null):i.selrow&&(t=o.call(t,i.selrow),h(t),i.selrow=null),!0===i.cellEdit&&0<=parseInt(i.iCol,10)&&0<=parseInt(i.iRow,10)&&(t=this.rows[i.iRow],null!=t&&(a(t.cells[i.iCol]).removeClass(n),a(t).removeClass(r)),u&&(t=u[i.iRow],null!=t&&(a(t.cells[i.iCol]).removeClass(n),a(t).removeClass(r)))),d(i.savedRow)})},getRowData:function(t,i){var r,o={};return"object"==typeof t&&(i=t,t=void 0),i=i||{},this.each(function(){var l,n,s,d,c,h,p=this.p,f=!1,g=2,m=0,v=this.rows;if(void 0===t)f=!0,r=[],g=v.length;else if(l=B.getGridRowById.call(a(this),t),!l)return o;for(;g>m;){if(f&&(l=v[m]),a(l).hasClass("jqgrow")){for(s=a("td[role=gridcell]",l),n=0;n<s.length;n++)if(d=p.colModel[n],c=d.name,!("cb"===c||"subgrid"===c||"rn"===c||"actions"===d.formatter||i.skipHidden&&d.hidden))if(h=s[n],!0===p.treeGrid&&c===p.ExpandColumn)o[c]=u(a("span",h).first().html());else try{o[c]=a.unformat.call(this,h,{rowId:l.id,colModel:d},n)}catch(b){o[c]=u(a(h).html())}!i.includeId||!1!==p.keyName&&null!=o[p.keyName]||(o[p.prmNames.id]=e(p.idPrefix,l.id)),f&&(r.push(o),o={})}m++}}),r||o},delRowData:function(t){var i,r,o,l=!1;return this.each(function(){var n=this.p;if(i=B.getGridRowById.call(a(this),t),!i)return!1;if(n.subGrid&&(o=a(i).next(),o.hasClass("ui-subgrid")&&o.remove()),a(i).remove(),n.records--,n.reccount--,this.updatepager(!0,!1),l=!0,n.multiselect&&(r=a.inArray(t,n.selarrrow),-1!==r&&n.selarrrow.splice(r,1)),n.multiselect&&0<n.selarrrow.length?n.selrow=n.selarrrow[n.selarrrow.length-1]:n.selrow===t&&(n.selrow=null),"local"===n.datatype){var s=e(n.idPrefix,t),s=n._index[s];void 0!==s&&(n.data.splice(s,1),this.refreshIndex())}if(this.rebuildRowIndexes(),!0===n.altRows&&l){var d=n.altclass,c=this.grid.fbRows;a(this.rows).each(function(e){var t=a(this);c&&(t=t.add(c[this.rowIndex])),t[0===e%2?"addClass":"removeClass"](d)})}C.call(this,"afterDelRow",t)}),l},setRowData:function(t,i,o){var l=!0;return this.each(function(){var s,d,c=this,u=c.p,h=typeof o,p={};if(!c.grid)return!1;if(d=B.getGridRowById.call(a(c),t),!d)return!1;if(i)try{var f,m=e(u.idPrefix,t),v=u._index[m],b=null!=v?u.data[v]:void 0;if(a(u.colModel).each(function(e){var o,l=this.name;o=n(i,l),void 0!==o&&("local"===u.datatype&&null!=b&&(s=g.call(c,o,this,b[l],m,b,e),a.isFunction(this.saveLocally)?this.saveLocally.call(c,{newValue:s,newItem:p,oldItem:b,id:m,cm:this,cmName:l,iCol:e}):p[l]=s),s=c.formatter(t,o,e,i,"edit"),o=this.title?{title:r(s)}:{},e=a(d.cells[e]),!0===u.treeGrid&&l===u.ExpandColumn&&(e=e.children("span.cell-wrapperleaf,span.cell-wrapper").first()),e.html(s).attr(o))}),"local"===u.datatype){if(u.treeGrid)for(f in u.treeReader)u.treeReader.hasOwnProperty(f)&&delete p[u.treeReader[f]];void 0!==b&&(u.data[v]=a.extend(!0,b,p)),p=null}C.call(c,"afterSetRow",{rowid:t,inputData:i,iData:v,iRow:d.rowIndex,tr:d,localData:p,cssProp:o})}catch(w){l=!1}l&&("string"===h?a(d).addClass(o):null!==o&&"object"===h&&a(d).css(o),a(c).triggerHandler("jqGridAfterGridComplete"))}),l},addRowData:function(e,i,r,o){0>a.inArray(r,"first last before after afterSelected beforeSelected".split(" "))&&(r="last");\nvar s,d,c,u,h,p,f,m,v,b,w,y=!1;return i&&(a.isArray(i)?(p=!0,f=e):(i=[i],p=!1),this.each(function(){var x=this.p,j=i.length,q=a(this),S=this.rows,D=0,R=B.getGridRowById,_=x.colModel,F={},G=x.additionalProperties;for(p||(void 0!==e?e=String(e):(e=l(),!1!==x.keyName&&(f=x.keyName,void 0!==i[0][f]&&(e=i[0][f])))),m=x.altclass;j>D;){if(v=i[D],d=[],p)try{e=v[f],void 0===e&&(e=l())}catch(k){e=l()}for(w=e,u=0;u<_.length;u++)b=_[u],s=b.name,"rn"!==s&&"cb"!==s&&"subgrid"!==s&&(h=g.call(this,v[s],b,void 0,w,{},u),a.isFunction(b.saveLocally)?b.saveLocally.call(this,{newValue:h,newItem:F,oldItem:{},id:w,cm:b,cmName:s,iCol:u}):void 0!==h&&(F[s]=h));for(u=0;u<G.length;u++)h=n(v,G[u]),void 0!==h&&(F[G[u]]=h);if("local"===x.datatype&&(F[x.localReader.id]=w,x._index[w]=x.data.length,x.data.push(F)),d=t.parseDataToHtml.call(this,1,[e],[v]),d=d.join(""),0===S.length)a("table:first",this.grid.bDiv).append(d);else switch(("afterSelected"===r||"beforeSelected"===r)&&(void 0===o&&null!==x.selrow?(o=x.selrow,r="afterSelected"===r?"after":"before"):r="afterSelected"===r?"last":"first"),r){case"last":a(S[S.length-1]).after(d),c=S.length-1;break;case"first":a(S[0]).after(d),c=1;break;case"after":(c=R.call(q,o))&&(a(S[c.rowIndex+1]).hasClass("ui-subgrid")?(a(S[c.rowIndex+1]).after(d),c=c.rowIndex+2):(a(c).after(d),c=c.rowIndex+1));break;case"before":(c=R.call(q,o))&&(a(c).before(d),c=c.rowIndex-1)}!0===x.subGrid&&B.addSubGrid.call(q,x.iColByName.subgrid,c),x.records++,x.reccount++,0===x.lastpage&&(x.lastpage=1),C.call(this,"afterAddRow",{rowid:e,inputData:i,position:r,srcRowid:o,iRow:c,localData:F,iData:x.data.length-1}),D++}!0!==x.altRows||p||("last"===r?0===(S.length-1)%2&&a(S[S.length-1]).addClass(m):a(S).each(function(e){1===e%2?a(this).addClass(m):a(this).removeClass(m)})),this.rebuildRowIndexes(),this.updatepager(!0,!0),y=!0})),y},footerData:function(e,t,i){function o(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var l,n,s=!1,d={};return null==e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var c,u=this,h=u.p;return!u.grid||!h.footerrow||"set"===e&&o(t)?!1:(s=!0,void a(h.colModel).each(function(o){l=this.name,"set"===e?void 0!==t[l]&&(c=i?u.formatter("",t[l],o,t,"edit"):t[l],n=this.title?{title:r(c)}:{},a("tr.footrow td:eq("+o+")",u.grid.sDiv).html(c).attr(n),s=!0):"get"===e&&(d[l]=a("tr.footrow td:eq("+o+")",u.grid.sDiv).html())}))}),"get"===e?d:s},showHideCol:function(e,i){return this.each(function(){var r,o=this,l=a(o),n=o.grid,s=!1,d=o.p,c=t.cell_width?0:d.cellLayout;if(n){"string"==typeof e&&(e=[e]),i="none"!==i?"":"none";var u=""===i?!0:!1,h=d.groupHeader;if((h=h&&("object"==typeof h||a.isFunction(h)))&&B.destroyGroupHeader.call(l,!1),a(d.colModel).each(function(t){if(-1!==a.inArray(this.name,e)&&this.hidden===u){if(!0===d.frozenColumns&&!0===this.frozen)return!0;a("tr[role=row]",n.hDiv).each(function(){a(this.cells[t]).css("display",i)}),a(o.rows).each(function(){var e=this.cells[t];(!a(this).hasClass("jqgroup")||null!=e&&1===e.colSpan)&&a(e).css("display",i)}),d.footerrow&&a("tr.footrow td:eq("+t+")",n.sDiv).css("display",i),r=parseInt(this.width,10),d.tblwidth="none"===i?d.tblwidth-(r+c):d.tblwidth+(r+c),this.hidden=!u,s=!0,C.call(o,"onShowHideCol",u,this.name,t)}}),!0===s&&B.setGridWidth.call(l,(d.autowidth||void 0!==d.widthOrg&&"auto"!==d.widthOrg&&"100%"!==d.widthOrg?d.width:d.tblwidth)+parseInt(d.scrollOffset,10)),h)if(null!=d.pivotOptions&&null!=d.pivotOptions.colHeaders&&1<d.pivotOptions.colHeaders.length)for(var p=d.pivotOptions.colHeaders,h=0;h<p.length;h++)p[h]&&p[h].groupHeaders.length&&B.setGroupHeaders.call(l,p[h]);else B.setGroupHeaders.call(l,d.groupHeader)}})},hideCol:function(e){return this.each(function(){B.showHideCol.call(a(this),e,"none")})},showCol:function(e){return this.each(function(){B.showHideCol.call(a(this),e,"")})},remapColumns:function(e,t,i){function r(t){var i=t.length?c(t):a.extend({},t);a.each(e,function(e){t[e]=i[this]})}function o(t,i){(i?t.children(i):t.children()).each(function(){var t=this,i=c(t.cells);a.each(e,function(e){var r=i[this],a=t.cells[e];r.cellIndex!==e&&r.parentNode.insertBefore(r,a)})})}var l,n=this[0],s=n.p,d=n.grid,c=a.makeArray;if(null!=d&&null!=s){for(r(s.colModel),r(s.colNames),r(d.headers),o(a(d.hDiv).find(">div>.ui-jqgrid-htable>thead"),i&&":not(.ui-jqgrid-labels)"),t&&o(a(n.tBodies[0]),"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot"),s.footerrow&&o(a(d.sDiv).find(">div>.ui-jqgrid-ftable>tbody").first()),s.remapColumns&&(s.remapColumns.length?r(s.remapColumns):s.remapColumns=c(e)),s.lastsort=a.inArray(s.lastsort,e),s.iColByName={},d=0,l=s.colModel.length;l>d;d++)s.iColByName[s.colModel[d].name]=d;C.call(n,"onRemapColumns",e,t,i)}},remapColumnsByName:function(e,t,i){var r,o,l=this[0].p,n=[];for(e=e.slice(),r=a.inArray,l.subGrid&&0>r("subgrid",e)&&e.unshift("subgrid"),l.multiselect&&0>r("cb",e)&&e.unshift("cb"),l.rownumbers&&0>r("rn",e)&&e.unshift("rn"),r=0,o=e.length;o>r;r++)n.push(l.iColByName[e[r]]);return B.remapColumns.call(this,n,t,i),this},setGridWidth:function(e,i){return this.each(function(){var r,o,l,n=this.p,s=this.grid,d=0,u=0,h=!1,p=0,f=t.isCellClassHidden;if(s&&null!=n){this.fixScrollOffsetAndhBoxPadding();var g,m,v=n.colModel,b=n.scrollOffset,w=t.cell_width?0:n.cellLayout,y=s.headers,x=s.footers,C=s.bDiv,j=s.hDiv,q=s.sDiv,S=s.cols,D=a(j).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,R=function(e){s.width=n.width=e,a(n.gBox).css("width",e+"px"),a(n.gView).css("width",e+"px"),a(C).css("width",e+"px"),a(j).css("width",e+"px"),n.pager&&a(n.pager).css("width",e+"px"),n.toppager&&a(n.toppager).css("width",e+"px"),!0===n.toolbar[0]&&(a(s.uDiv).css("width",e+"px"),"both"===n.toolbar[1]&&a(s.ubDiv).css("width",e+"px")),n.footerrow&&a(q).css("width",e+"px")};if("boolean"!=typeof i&&(i=n.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),R(e),!1===i&&!0===n.forceFit&&(n.forceFit=!1),!0===i){if(a.each(v,function(){!1!==this.hidden||f(this.classes)||(r=this.widthOrg,d+=r+w,this.fixed?p+=this.width+w:u++)}),0===u)return;if(n.tblwidth=parseInt(d,10),l=e-w*u-p,!isNaN(n.height)&&(C.clientHeight<C.scrollHeight||1===this.rows.length)&&(h=!0,l-=b),m=l/(n.tblwidth-w*u-p),0>m)return;if(d=0,g=0<S.length,a.each(v,function(e){!1!==this.hidden||f(this.classes)||this.fixed||(this.width=r=Math.round(this.widthOrg*m),d+=r,y[e].width=r,D[e].style.width=r+"px",n.footerrow&&(x[e].style.width=r+"px"),g&&(S[e].style.width=r+"px"),o=e)}),!o)return;l=0,h?e-p-(d+w*u)!==b&&(l=e-p-(d+w*u)-b):1!==Math.abs(e-p-(d+w*u))&&(l=e-p-(d+w*u)),v=v[o],v.width+=l,n.tblwidth=parseInt(d+l+w*u+p,10),n.tblwidth>e&&(l=n.tblwidth-parseInt(e,10),n.tblwidth=e,v.width-=l),r=v.width,l=y[o],l.width=r,D[o].style.width=r+"px",g&&(S[o].style.width=r+"px"),n.footerrow&&(x[o].style.width=r+"px"),n.tblwidth+(h?b:0)<n.width&&R(n.tblwidth+(h?b:0)),C.offsetWidth>C.clientWidth&&(n.autowidth||void 0!==n.widthOrg&&"auto"!==n.widthOrg&&"100%"!==n.widthOrg||R(C.offsetWidth))}n.tblwidth&&(n.tblwidth=parseInt(n.tblwidth,10),e=n.tblwidth,a(this).css("width",e+"px"),c(14,j).css("width",e+"px"),j.scrollLeft=C.scrollLeft,n.footerrow&&c(27,q).css("width",e+"px"),l=Math.abs(e-n.width),n.shrinkToFit&&!i&&3>l&&l>0&&(e<n.width&&R(e),C.offsetWidth>C.clientWidth&&(n.autowidth||void 0!==n.widthOrg&&"auto"!==n.widthOrg&&"100%"!==n.widthOrg||R(C.offsetWidth)))),this.fixScrollOffsetAndhBoxPadding(),a(this).triggerHandler("jqGridResetFrozenHeights")}}})},setGridHeight:function(e){return this.each(function(){var t=this.grid,i=this.p;if(t){var r=a(t.bDiv);r.css({height:e+(isNaN(e)?"":"px")}),!0===i.frozenColumns&&a(i.idSel+"_frozen").parent().height(r.height()-16),i.height=e,i.scroll&&t.populateVisible.call(this),this.fixScrollOffsetAndhBoxPadding(),a(this).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(e){return this.each(function(){var t=this.grid.cDiv;this.p.caption=e,a("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",t).html(e),a(t).show(),a(t).nextAll("div").removeClass(B.getGuiStyles.call(this,"top")),a(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(e,t,i,r){return this.each(function(){var o,l=this.p;if(this.grid){if(isNaN(e)){if(o=l.iColByName[e],void 0===o)return}else o=parseInt(e,10);if(o>=0){var n=a("tr.ui-jqgrid-labels th:eq("+o+")",this.grid.hDiv);if(t){var s=a(".s-ico",n);a("[id^=jqgh_]",n).empty().html(t).append(s),l.colNames[o]=t}i&&("string"==typeof i?a(n).addClass(i):a(n).css(i)),"object"==typeof r&&a(n).attr(r)}}})},setCell:function(i,o,l,n,s,d){return this.each(function(){var c,h,p,f,m,v,b,w,y=this.p,x=-1,C=y.colModel,j={};if(this.grid&&(x=isNaN(o)?y.iColByName[o]:parseInt(o,10),x>=0&&(f=B.getGridRowById.call(a(this),i)))){if(m=t.getCell.call(this,f,x),""!==l||!0===d){if(h=C[x],"local"===y.datatype&&(w=e(y.idPrefix,i),c=y._index[w],void 0!==c&&(p=y.data[c])),null==p){for(c=0;c<f.cells.length;c++)if(c!==x&&(v=t.getDataFieldOfCell.call(this,f,c),0<v.length)){try{b=a.unformat.call(this,v,{rowId:i,colModel:C[c]},c)}catch(q){b=u(v[0].innerHTML)}j[C[c].name]=b}}else j=p;j[h.name]=l,C=this.formatter(i,l,x,j,"edit"),y=y.colModel[x].title?{title:r(C)}:{},m.html(C).attr(y),null!=p&&(C=g.call(this,l,h,p[h.name],w,p,x),a.isFunction(h.saveLocally)?h.saveLocally.call(this,{newValue:C,newItem:p,oldItem:p,id:w,cm:h,cmName:h.name,iCol:x}):p[h.name]=C)}(n||s)&&(m=t.getCell.call(this,f,x),n&&m["string"==typeof n?"addClass":"css"](n),"object"==typeof s&&m.attr(s))}})},getCell:function(e,i){var r=!1;return this.each(function(){var o,l,n,s=this.p;if(this.grid&&(o=isNaN(i)?s.iColByName[i]:parseInt(i,10),o>=0&&(l=B.getGridRowById.call(a(this),e)))){n=t.getDataFieldOfCell.call(this,l,o).first();try{r=a.unformat.call(this,n,{rowId:l.id,colModel:s.colModel[o]},o)}catch(d){r=u(n.html())}}}),r},getCol:function(e,i,r){var o,l,n,s,d=[],c=0;return i="boolean"!=typeof i?!1:i,void 0===r&&(r=!1),this.each(function(){var h,p,f=this.p;if(this.grid&&(h=isNaN(e)?f.iColByName[e]:parseInt(e,10),h>=0)){var g,m=this.rows,v=m.length,b=0,w=0;if(v&&v>0){for(;v>b;){if(g=m[b],a(g).hasClass("jqgrow")){p=t.getDataFieldOfCell.call(this,g,h).first();try{o=a.unformat.call(this,p,{rowId:g.id,colModel:f.colModel[h]},h)}catch(y){o=u(p.html())}r?(s=parseFloat(o),isNaN(s)||(c+=s,void 0===n&&(n=l=s),l=Math.min(l,s),n=Math.max(n,s),w++)):i?d.push({id:g.id,value:o}):d.push(o)}b++}if(r)switch(r.toLowerCase()){case"sum":d=c;break;case"avg":d=c/w;break;case"count":d=v-1;break;case"min":d=l;break;case"max":d=n}}}}),d},clearGridData:function(e){return this.each(function(){var t=this.p,i=this.rows,r=this.grid;r&&t&&i&&("boolean"!=typeof e&&(e=!1),a(this).unbind(".jqGridFormatter"),r.emptyRows.call(this,!1,!0),t.footerrow&&e&&a(".ui-jqgrid-ftable td",r.sDiv).html("&#160;"),t.selrow=null,d(t.selarrrow),d(t.savedRow),d(t.data),d(t.lastSelectedData),t._index={},t.rowIndexes={},t.records=0,t.page=1,t.lastpage=0,t.reccount=0,this.updatepager(!0,!1))})},getInd:function(e,t){var i=B.getGridRowById.call(a(this),e);return i?!0===t?i:i.rowIndex:!1},bindKeys:function(i){var r=a.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},i||{});return this.each(function(){var i=this,o=i.p,l=a(i);a("body").is("[role]")||a("body").attr("role","application"),o.scrollrows=r.scrollingRows,l.bind("keydown.jqGrid",function(n){var s=a(this).find("tr[tabindex=0]")[0],d=t.detectRowEditing.call(i,a(n.target).closest("tr.jqgrow").attr("id")),c=function(e){do if(s=s[e],null===s)return;while(a(s).is(":hidden")||!a(s).hasClass("jqgrow"));B.setSelection.call(l,s.id,!0),n.preventDefault()},u=function(e,t){var n=r["on"+e+(t||"")];l.triggerHandler("jqGridKey"+e,[o.selrow]),a.isFunction(n)&&n.call(i,o.selrow)},h=function(t){if(o.treeGrid){var i=o.data[o._index[e(o.idPrefix,s.id)]][o.treeReader.expanded_field];"Right"===t&&(i=!i),i&&a(s).find("div.treeclick").trigger("click")}u(t,"Key")};if(s&&null===d)switch(n.keyCode){case 38:c("previousSibling");break;case 40:c("nextSibling");break;case 37:h("Left");break;case 39:h("Right");break;case 13:u("Enter");break;case 32:u("Space")}})})},unbindKeys:function(){return this.each(function(){a(this).unbind("keydown.jqGrid")})},getLocalRow:function(t){var i,r=!1;return this.each(function(){void 0!==t&&(i=this.p._index[e(this.p.idPrefix,t)],i>=0&&(r=this.p.data[i]))}),r},progressBar:function(e){return e=a.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t="show"===e.method?!0:!1,i=f(this.p.id),r=a("#load_"+i);switch(""!==e.htmlcontent&&r.html(e.htmlcontent),e.loadtype){case"enable":r.toggle(t);break;case"block":a("#lui_"+i).toggle(t),r.toggle(t)}})},setColWidth:function(e,t,i,r){return this.each(function(){var o,l=a(this),n=this.grid,s=this.p;if("string"==typeof e){if(e=s.iColByName[e],void 0===e)return}else if("number"!=typeof e)return;o=n.headers[e],null!=o&&(o.newWidth=t,n.newWidth=s.tblwidth+t-o.width,n.resizeColumn(e,!s.frozenColumns,r),!1===i||r||(this.fixScrollOffsetAndhBoxPadding(),B.setGridWidth.call(l,n.newWidth+s.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var i=this;if(0===i.length)return-1;var r,o,l,i=i[0],n=i.rows,s=i.p,d=s.colModel[e],c=a(i.grid.headers[e].el),n=c.find(">div");l=parseFloat(c.css("padding-left")||0),r=parseFloat(c.css("padding-right")||0),o=n.find("span.s-ico");var u=n.find(">."+s.autoResizing.wrapperClassName),h=u.outerWidth(),p=parseFloat(u.css("width")||0),f=c=0,g=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:s.autoResizing.compact,m=s.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===u.length||d.hidden||t.isCellClassHidden(d.classes)||d.fixed)return-1;for((!g||o.is(":visible")||"none"!==o.css("display"))&&(f=s.autoResizing.widthOfVisiblePartOfSortIcon,"center"===n.css("text-align")&&(f+=f),"horizontal"===s.viewsortcols[1]&&(f+=f)),f+=h+l+(p===h?l+r:0)+parseFloat(n.css("margin-left")||0)+parseFloat(n.css("margin-right")||0),l=0,n=i.rows;l<n.length;l++)r=n[l],o=r.cells[e],i=a(r.cells[e]),null!=o&&(a(r).hasClass("jqgrow")||a(r).hasClass("jqgroup")&&1===o.colSpan)?(r=a(o.firstChild),r.hasClass(m)?f=Math.max(f,r.outerWidth()+c):s.treeGrid&&s.ExpandColumn===d.name&&(r=i.children(".cell-wrapper,.cell-wrapperleaf"),f=Math.max(f,r.outerWidth()+c+i.children(".tree-wrap").outerWidth()))):a(r).hasClass("jqgfirstrow")&&(c=(t.cell_width?parseFloat(i.css("padding-left")||0)+parseFloat(i.css("padding-right")||0):0)+parseFloat(i.css("border-right")||0)+parseFloat(i.css("border-left")||0));return f=Math.max(f,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:s.autoResizing.minColWidth),Math.min(f,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:s.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each(function(){var i,r=a(this),o=this.p,l=o.colModel[e],n=a(this.grid.headers[e].el);i=B.getAutoResizableWidth.call(r,e),null==l||0>i||(B.setColWidth.call(r,e,i,o.autoResizing.adjustGridWidth&&!o.autoResizing.fixWidthOnShrink&&!t,t),o.autoResizing.fixWidthOnShrink&&o.shrinkToFit&&!t&&(l.fixed=!0,i=l.widthOrg,l.widthOrg=l.width,B.setGridWidth.call(r,o.width,!0),l.widthOrg=i,l.fixed=!1),n.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,i=a(this),r=this.p,o=r.colModel,l=o.length,n=r.shrinkToFit,s=r.autoResizing.adjustGridWidth,d=r.autoResizing.fixWidthOnShrink,c=parseInt(r.widthOrg,10),u=this.grid,h=B.autoResizeColumn;for(r.shrinkToFit=!1,r.autoResizing.adjustGridWidth=!0,r.autoResizing.fixWidthOnShrink=!1,e=0;l>e;e++)t=o[e],t.autoResizable&&"actions"!==t.formatter&&h.call(i,e,!0);u.hDiv.scrollLeft=u.bDiv.scrollLeft,r.footerrow&&(u.sDiv.scrollLeft=u.bDiv.scrollLeft),this.fixScrollOffsetAndhBoxPadding(),isNaN(c)?s&&B.setGridWidth.call(i,u.newWidth+r.scrollOffset,!1):B.setGridWidth.call(i,c,!1),r.autoResizing.fixWidthOnShrink=d,r.autoResizing.adjustGridWidth=s,r.shrinkToFit=n})}})}(jQuery),function(e){var t=e.jgrid,i=function(){var i=e.makeArray(arguments);return i.unshift(""),i.unshift(""),i.unshift(this.p),t.feedback.apply(this,i)},r=function(e,i){return t.mergeCssClasses(t.getRes(t.guiStyles[this.p.guiStyle],"states."+e),i||"")},a=function(t,i){var r=this.grid.fbRows;return e((null!=r&&r[0].cells.length>i?r[t.rowIndex]:t).cells[i])};t.extend({editCell:function(o,l,n){return this.each(function(){var s,d,c,u,h=this,p=e(h),f=h.p;if(s=h.rows,h.grid&&!0===f.cellEdit&&null!=s&&null!=s[o]){o=parseInt(o,10),l=parseInt(l,10);var g=s[o],m=g.id,v=e(g),b=parseInt(f.iCol,10),w=parseInt(f.iRow,10),y=e(s[w]),x=f.savedRow;if(f.selrow=m,f.knv||p.jqGrid("GridNav"),0<x.length){if(!0===n&&o===w&&l===b)return;p.jqGrid("saveCell",x[0].id,x[0].ic)}else setTimeout(function(){e("#"+t.jqID(f.knv)).attr("tabindex","-1").focus()},1);if(u=f.colModel[l],s=u.name,"subgrid"!==s&&"cb"!==s&&"rn"!==s){c=a.call(h,g,l),g=u.editable,e.isFunction(g)&&(g=g.call(h,{rowid:m,iCol:l,iRow:o,name:s,cm:u,mode:"cell"}));var C=r.call(h,"select","edit-cell"),j=r.call(h,"hover","selected-row");if(!0!==g||!0!==n||c.hasClass("not-editable-cell"))b>=0&&w>=0&&(a.call(h,y[0],b).removeClass(C),y.removeClass(j)),c.addClass(C),v.addClass(j),d=c.html().replace(/\\&#160\\;/gi,""),i.call(h,"onSelectCell",m,s,d,o,l);else{b>=0&&w>=0&&(a.call(h,y[0],b).removeClass(C),y.removeClass(j)),c.addClass(C),v.addClass(j),u.edittype||(u.edittype="text"),v=u.edittype;try{d=e.unformat.call(h,c,{rowId:m,colModel:u},l)}catch(q){d="textarea"===v?c.text():c.html()}f.autoencode&&(d=t.htmlDecode(d)),x.push({id:o,ic:l,name:s,v:d}),("&nbsp;"===d||"&#160;"===d||1===d.length&&160===d.charCodeAt(0))&&(d=""),e.isFunction(f.formatCell)&&(b=f.formatCell.call(h,m,s,d,o,l),void 0!==b&&(d=b)),i.call(h,"beforeEditCell",m,s,d,o,l),u=e.extend({},u.editoptions||{},{id:o+"_"+s,name:s,rowId:m,mode:"cell"});var S=t.createEl.call(h,v,u,d,!0,e.extend({},t.ajaxOptions,f.ajaxSelectOptions||{})),v=c;(b=!0===f.treeGrid&&s===f.ExpandColumn)&&(v=c.children("span.cell-wrapperleaf,span.cell-wrapper")),v.html("").append(S).attr("tabindex","0"),b&&e(S).width(c.width()-c.children("div.tree-wrap").outerWidth()),t.bindEv.call(h,S,u),setTimeout(function(){e(S).focus()},1),e("input, select, textarea",c).bind("keydown",function(t){if(27===t.keyCode&&(0<e("input.hasDatepicker",c).length?e(".ui-datepicker").is(":hidden")?p.jqGrid("restoreCell",o,l):e("input.hasDatepicker",c).datepicker("hide"):p.jqGrid("restoreCell",o,l)),13===t.keyCode&&!t.shiftKey)return p.jqGrid("saveCell",o,l),!1;if(9===t.keyCode){if(h.grid.hDiv.loading)return!1;t.shiftKey?p.jqGrid("prevCell",o,l):p.jqGrid("nextCell",o,l)}t.stopPropagation()}),i.call(h,"afterEditCell",m,s,d,o,l),p.triggerHandler("jqGridAfterEditCell",[m,s,d,o,l])}f.iCol=l,f.iRow=o}}})},saveCell:function(r,o){return this.each(function(){var l=this,n=e(l),s=l.p,d=t.info_dialog,c=t.jqID;if(l.grid&&!0===s.cellEdit){var u=n.jqGrid("getGridRes","errors"),h=u.errcap,p=n.jqGrid("getGridRes","edit").bClose,f=s.savedRow,g=1<=f.length?0:null;if(null!==g){var m,v=l.rows[r],b=v.id,w=e(v),y=s.colModel[o],x=y.name,C=a.call(l,v,o);if(m=t.getEditedValue.call(l,C,y,!y.formatter),m!==f[g].v){g=n.triggerHandler("jqGridBeforeSaveCell",[b,x,m,r,o]),void 0!==g&&(m=g),e.isFunction(s.beforeSaveCell)&&(g=s.beforeSaveCell.call(l,b,x,m,r,o),void 0!==g&&(m=g));var j=t.checkValues.call(l,m,o),v=y.formatoptions||{};if(!0===j[0]){if(g=n.triggerHandler("jqGridBeforeSubmitCell",[b,x,m,r,o])||{},e.isFunction(s.beforeSubmitCell)&&((g=s.beforeSubmitCell.call(l,b,x,m,r,o))||(g={})),0<e("input.hasDatepicker",C).length&&e("input.hasDatepicker",C).datepicker("hide"),"date"===y.formatter&&!0!==v.sendFormatted&&(m=e.unformat.date.call(l,m,y)),"remote"===s.cellsubmit)if(s.cellurl){var q={};s.autoencode&&(m=t.htmlEncode(m)),q[x]=m;var u=s.prmNames,y=u.oper,S=l.grid.hDiv;q[u.id]=t.stripPref(s.idPrefix,b),q[y]=u.editoper,q=e.extend(g,q),n.jqGrid("progressBar",{method:"show",loadtype:s.loadui,htmlcontent:t.defaults.savetext||"Saving..."}),S.loading=!0,e.ajax(e.extend({url:s.cellurl,data:t.serializeFeedback.call(l,s.serializeCellData,"jqGridSerializeCellData",q),type:"POST",complete:function(t){if(n.jqGrid("progressBar",{method:"hide",loadtype:s.loadui}),S.loading=!1,(300>t.status||304===t.status)&&(0!==t.status||4!==t.readyState)){var a=n.triggerHandler("jqGridAfterSubmitCell",[l,t,q.id,x,m,r,o])||[!0,""];!0===a[0]&&e.isFunction(s.afterSubmitCell)&&(a=s.afterSubmitCell.call(l,t,q.id,x,m,r,o)),!0===a[0]?(n.jqGrid("setCell",b,o,m,!1,!1,!0),C.addClass("dirty-cell"),w.addClass("edited"),i.call(l,"afterSaveCell",b,x,m,r,o),f.splice(0,1)):(d.call(l,h,a[1],p),n.jqGrid("restoreCell",r,o))}},error:function(t,i,a){e("#lui_"+c(s.id)).hide(),S.loading=!1,n.triggerHandler("jqGridErrorCell",[t,i,a]),e.isFunction(s.errorCell)?s.errorCell.call(l,t,i,a):d.call(l,h,t.status+" : "+t.statusText+"<br/>"+i,p),n.jqGrid("restoreCell",r,o)}},t.ajaxOptions,s.ajaxCellOptions||{}))}else try{d.call(l,h,u.nourl,p),n.jqGrid("restoreCell",r,o)}catch(D){}"clientArray"===s.cellsubmit&&(n.jqGrid("setCell",b,o,m,!1,!1,!0),C.addClass("dirty-cell"),w.addClass("edited"),i.call(l,"afterSaveCell",b,x,m,r,o),f.splice(0,1))}else try{setTimeout(function(){d.call(l,h,m+" "+j[1],p)},100),n.jqGrid("restoreCell",r,o)}catch(R){}}else n.jqGrid("restoreCell",r,o)}setTimeout(function(){e("#"+c(s.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,r){return this.each(function(){var o,l,n=this.p,s=this.rows[t],d=s.id;if(this.grid&&!0===n.cellEdit){var c=n.savedRow;if(o=a.call(this,s,r),1<=c.length){if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker",o).datepicker("hide")}catch(u){}s=n.colModel[r],!0===n.treeGrid&&s.name===n.ExpandColumn?o.children("span.cell-wrapperleaf,span.cell-wrapper").empty():o.empty(),o.attr("tabindex","-1"),o=c[0].v,l=s.formatoptions||{},"date"===s.formatter&&!0!==l.sendFormatted&&(o=e.unformat.date.call(this,o,s)),e(this).jqGrid("setCell",d,r,o,!1,!1,!0),i.call(this,"afterRestoreCell",d,o,t,r),c.splice(0,1)}setTimeout(function(){e("#"+n.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,i){return this.each(function(){var r,a,o,l=e(this),n=this.p,s=!1,d=this.rows;if(this.grid&&!0===n.cellEdit&&null!=d&&null!=d[t]){for(r=i+1;r<n.colModel.length;r++)if(o=n.colModel[r],a=o.editable,e.isFunction(a)&&(a=a.call(this,{rowid:d[t].id,iCol:r,iRow:t,name:o.name,cm:o,mode:"cell"})),!0===a){s=r;break}!1!==s?l.jqGrid("editCell",t,s,!0):0<n.savedRow.length&&l.jqGrid("saveCell",t,i)}})},prevCell:function(t,i){return this.each(function(){var r,a,o,l=e(this),n=this.p,s=!1,d=this.rows;if(this.grid&&!0===n.cellEdit&&null!=d&&null!=d[t]){for(r=i-1;r>=0;r--)if(o=n.colModel[r],a=o.editable,e.isFunction(a)&&(a=a.call(this,{rowid:d[t].id,iCol:r,iRow:t,name:o.name,cm:o,mode:"cell"})),!0===a){s=r;break}!1!==s?l.jqGrid("editCell",t,s,!0):0<n.savedRow.length&&l.jqGrid("saveCell",t,i)}})},GridNav:function(){return this.each(function(){function t(e,t,i){if(e=o.rows[e],"v"===i.substr(0,1)){var r=d.clientHeight,a=d.scrollTop,l=e.offsetTop+e.clientHeight,n=e.offsetTop;"vd"===i&&l>=r&&(d.scrollTop+=e.clientHeight),"vu"===i&&a>n&&(d.scrollTop-=e.clientHeight)}"h"===i&&(i=d.scrollLeft,t=e.cells[t],e=t.offsetLeft,t.offsetLeft+t.clientWidth>=d.clientWidth+parseInt(i,10)?d.scrollLeft+=t.clientWidth:i>e&&(d.scrollLeft-=t.clientWidth))}function i(e,t){var i,r=0,a=n.colModel;if("lft"===t)for(r=e+1,i=e;i>=0;i--)if(!0!==a[i].hidden){r=i;break}if("rgt"===t)for(r=e-1,i=e;i<a.length;i++)if(!0!==a[i].hidden){r=i;break}return r}var r,a,o=this,l=e(o),n=o.p,s=o.grid;if(s&&!0===n.cellEdit){var d=s.bDiv;n.knv=n.id+"_kn";var c=e("<div style=\'position:fixed;top:0px;width:1px;height:1px;\' tabindex=\'0\'><div tabindex=\'-1\' style=\'width:1px;height:1px;\' id=\'"+n.knv+"\'></div></div>");e(c).insertBefore(s.cDiv),e("#"+n.knv).focus().keydown(function(e){var s=parseInt(n.iRow,10),d=parseInt(n.iCol,10);switch(a=e.keyCode,"rtl"===n.direction&&(37===a?a=39:39===a&&(a=37)),a){case 38:s-1>0&&(t(s-1,d,"vu"),l.jqGrid("editCell",s-1,d,!1));break;case 40:s+1<=o.rows.length-1&&(t(s+1,d,"vd"),l.jqGrid("editCell",s+1,d,!1));break;case 37:d-1>=0&&(r=i(d-1,"lft"),t(s,r,"h"),l.jqGrid("editCell",s,r,!1));break;case 39:d+1<=n.colModel.length-1&&(r=i(d+1,"rgt"),t(s,r,"h"),l.jqGrid("editCell",s,r,!1));break;case 13:d>=0&&s>=0&&l.jqGrid("editCell",s,d,!0);break;default:return!0}return!1})}})},getChangedCells:function(i){var r=[];return i||(i="all"),this.each(function(){var o=this,l=o.p,n=t.htmlDecode,s=o.rows;o.grid&&!0===l.cellEdit&&e(s).each(function(t){var d={};if(e(this).hasClass("edited")){var c=this;e(this.cells).each(function(r){var u=l.colModel[r],h=u.name,p=a.call(o,c,r);if("cb"!==h&&"subgrid"!==h&&"rn"!==h&&("dirty"!==i||p.hasClass("dirty-cell")))try{d[h]=e.unformat.call(o,p[0],{rowId:s[t].id,colModel:u},r)}catch(f){d[h]=n(p.html())}}),d.id=this.id,r.push(d)}})}),r}})}(jQuery),function(e){var t=e.jgrid,i=t.getMethod("getGridRes"),r=function(e,i){return t.mergeCssClasses(t.getRes(t.guiStyles[this.p.guiStyle],e),i||"")};t.jqModal=t.jqModal||{},e.extend(!0,t.jqModal,{toTop:!0}),e.extend(t,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(i,r){r=e.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},r||{});var a=r.gb&&"string"==typeof r.gb&&"#gbox_"===r.gb.substr(0,6)?e("#"+r.gb.substr(6))[0]:!1;if(r.onClose){var o=a?r.onClose.call(a,i):r.onClose(i);if("boolean"==typeof o&&!o)return}if(r.formprop&&a&&r.form){o=e(i)[0].style.height,-1<o.indexOf("px")&&(o=parseFloat(o));var l,n;"edit"===r.form?(l="#"+t.jqID("FrmGrid_"+r.gb.substr(6)),n="formProp"):"view"===r.form&&(l="#"+t.jqID("ViewGrid_"+r.gb.substr(6)),n="viewProp"),e(a).data(n,{top:parseFloat(e(i).css("top")),left:parseFloat(e(i).css("left")),width:e(i).width(),height:o,dataheight:e(l).height(),datawidth:e(l).width()})}if(e.fn.jqm&&!0===r.jqm)e(i).attr("aria-hidden","true").jqmHide();else{if(""!==r.gb)try{e(">.jqgrid-overlay",r.gb).filter(":first").hide()}catch(s){}e(i).hide().attr("aria-hidden","true")}r.removemodal&&e(i).remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;while(e);return[t,i]},createModal:function(i,a,o,l,n,s,d){var c=t.jqID,u=this.p;o=e.extend(!0,{resizingRightBottomIcon:"ui-icon ui-icon-gripsmall-diagonal-se"},t.jqModal||{},null!=u?u.jqModal||{}:{},o);var h=document.createElement("div"),p="#"+c(i.themodal),f="rtl"===e(o.gbox).attr("dir")?!0:!1,g=i.resizeAlso?"#"+c(i.resizeAlso):!1;d=e.extend({},d||{}),h.className=r.call(this,"dialog.window","ui-jqdialog"),h.id=i.themodal,h.dir=f?"rtl":"ltr";var m=document.createElement("div");m.className=r.call(this,"dialog.header","ui-jqdialog-titlebar "+(f?"ui-jqdialog-titlebar-rtl":"ui-jqdialog-titlebar-ltr")),m.id=i.modalhead,e(m).append("<span class=\'ui-jqdialog-title\'>"+o.caption+"</span>");var v=r.call(this,"states.hover"),b=e("<a class=\'ui-jqdialog-titlebar-close ui-corner-all\'></a>").hover(function(){b.addClass(v)},function(){b.removeClass(v)}).append("<span class=\'"+t.getIconRes(u.iconSet,"form.close")+"\'></span>");if(e(m).append(b),u=document.createElement("div"),e(u).addClass(r.call(this,"dialog.content","ui-jqdialog-content")).attr("id",i.modalcontent),e(u).append(a),h.appendChild(u),e(h).prepend(m),!0===s?e("body").append(h):"string"==typeof s?e(s).append(h):e(h).insertBefore(l),e(h).css(d),void 0===o.jqModal&&(o.jqModal=!0),a={},e.fn.jqm&&!0===o.jqModal?(0===o.left&&0===o.top&&o.overlay&&(s=[],s=t.findPos(n),o.left=s[0]+4,o.top=s[1]+4),a.top=o.top+"px",a.left=o.left):(0!==o.left||0!==o.top)&&(a.left=o.left,a.top=o.top+"px"),e("a.ui-jqdialog-titlebar-close",m).click(function(){var i=e(p).data("onClose")||o.onClose,r=e(p).data("gbox")||o.gbox;return t.hideModal(p,{gb:r,jqm:o.jqModal,onClose:i,removemodal:o.removemodal||!1,formprop:!o.recreateForm||!1,form:o.form||""}),!1}),0!==o.width&&o.width||(o.width=300),0!==o.height&&o.height||(o.height=200),o.zIndex||((l=e(l).parents("*[role=dialog]").filter(":first").css("z-index"))?(o.zIndex=parseInt(l,10)+2,o.toTop=!0):o.zIndex=950),a.left&&(a.left+="px"),e(h).css(e.extend({width:isNaN(o.width)?"auto":o.width+"px",height:isNaN(o.height)?"auto":o.height+"px",zIndex:o.zIndex,overflow:"hidden"},a)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":i.modalhead,"aria-hidden":"true"}),void 0===o.drag&&(o.drag=!0),void 0===o.resize&&(o.resize=!0),o.drag)if(e.fn.jqDrag)e(m).css("cursor","move"),e(h).jqDrag(m);else try{e(h).draggable({handle:e("#"+c(m.id))})}catch(w){}if(o.resize)if(e.fn.jqResize)e(h).append("<div class=\'jqResize ui-resizable-handle ui-resizable-se "+o.resizingRightBottomIcon+"\'></div>"),e(p).jqResize(".jqResize",g);else try{e(h).resizable({handles:"se, sw",alsoResize:g})}catch(y){}!0===o.closeOnEscape&&e(h).keydown(function(i){27===i.which&&(i=e(p).data("onClose")||o.onClose,t.hideModal(p,{gb:o.gbox,jqm:o.jqModal,onClose:i,removemodal:o.removemodal||!1,formprop:!o.recreateForm||!1,form:o.form||""}))})},viewModal:function(i,r){if(r=e.extend(!0,{overlay:30,modal:!1,overlayClass:"ui-widget-overlay",onShow:t.showModal,onHide:t.closeModal,gbox:"",jqm:!0,jqM:!0},t.jqModal||{},r||{}),e.fn.jqm&&!0===r.jqm)r.jqM?e(i).attr("aria-hidden","false").jqm(r).jqmShow():e(i).attr("aria-hidden","false").jqmShow();else{""!==r.gbox&&(e(">.jqgrid-overlay",r.gbox).filter(":first").show(),e(i).data("gbox",r.gbox)),e(i).show().attr("aria-hidden","false");try{e(":input:visible",i)[0].focus()}catch(a){}}},info_dialog:function(i,a,o,l){var n=this,s=n.p,d=e.extend(!0,{width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},t.jqModal||{},null!=s?s.jqModal||{}:{},{caption:"<b>"+i+"</b>"},l||{}),c=d.jqModal;e.fn.jqm&&!c&&(c=!1),i="";var u=r.call(n,"states.hover");if(0<d.buttons.length)for(l=0;l<d.buttons.length;l++)void 0===d.buttons[l].id&&(d.buttons[l].id="info_button_"+l),i+=t.builderFmButon.call(n,d.buttons[l].id,d.buttons[l].text);l=isNaN(d.dataheight)?d.dataheight:d.dataheight+"px",a="<div id=\'info_id\'>"+("<div id=\'infocnt\' style=\'margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+l+";"+("text-align:"+d.align+";")+"\'>"+a+"</div>"),(o||""!==i)&&(a+="<hr class=\'"+r.call(n,"dialog.hr")+"\' style=\'margin:1px\'/><div style=\'text-align:"+d.buttonalign+";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;\'>"+(o?t.builderFmButon.call(n,"closedialog",o):"")+i+"</div>"),a+="</div>";try{"false"===e("#info_dialog").attr("aria-hidden")&&t.hideModal("#info_dialog",{jqm:c}),e("#info_dialog").remove()}catch(h){}t.createModal.call(n,{themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",resizeAlso:"infocnt"},a,d,"","",!0),i&&e.each(d.buttons,function(i){e("#"+t.jqID(n.id),"#info_id").bind("click",function(){return d.buttons[i].onClick.call(e("#info_dialog")),!1})}),e("#closedialog","#info_id").click(function(){return t.hideModal("#info_dialog",{jqm:c,onClose:e("#info_dialog").data("onClose")||d.onClose,gb:e("#info_dialog").data("gbox")||d.gbox}),!1}),e(".fm-button","#info_dialog").hover(function(){e(this).addClass(u)},function(){e(this).removeClass(u)}),e.isFunction(d.beforeOpen)&&d.beforeOpen(),t.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:d.modal,jqm:c}),e.isFunction(d.afterOpen)&&d.afterOpen();try{e("#info_dialog").focus()}catch(p){}},bindEv:function(t,i){e.isFunction(i.dataInit)&&i.dataInit.call(this,t,i),i.dataEvents&&e.each(i.dataEvents,function(){void 0!==this.data?e(t).bind(this.type,this.data,this.fn):e(t).bind(this.type,this.fn)})},createEl:function(r,a,o,l,n){function s(i,r,a){var o="dataInit dataEvents dataUrl buildSelect sopt searchhidden defaultValue attr custom_element custom_value selectFilled rowId mode".split(" ");void 0!==a&&e.isArray(a)&&e.merge(o,a),e.each(r,function(t,r){-1===e.inArray(t,o)&&e(i).attr(t,r)}),r.hasOwnProperty("id")||e(i).attr("id",t.randId())}var d="",c=this,u=c.p,h=t.info_dialog,p=i.call(e(c),"errors.errcap"),f=i.call(e(c),"edit"),g=f.msg,f=f.bClose;switch(r){case"textarea":d=document.createElement("textarea"),\nl?a.cols||e(d).css({width:"100%","box-sizing":"border-box"}):a.cols||(a.cols=20),a.rows||(a.rows=2),("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o=""),d.value=o,s(d,a),e(d).attr({role:"textbox"});break;case"checkbox":if(d=document.createElement("input"),d.type="checkbox",a.value){var m=a.value.split(":");o===m[0]&&(d.checked=!0,d.defaultChecked=!0),d.value=m[0],e(d).data("offval",m[1])}else m=String(o).toLowerCase(),0>m.search(/(false|f|0|no|n|off|undefined)/i)&&""!==m?(d.checked=!0,d.defaultChecked=!0,d.value=o):d.value="on",e(d).data("offval","off");s(d,a,["value"]),e(d).attr({role:"checkbox","aria-checked":d.checked?"true":"false"});break;case"select":if(d=document.createElement("select"),r=[],l=u.iColByName[a.name],h=u.colModel[l],!0===a.multiple?(p=!0,d.multiple="multiple",e(d).attr("aria-multiselectable","true"),r=o.split(","),r=e.map(r,function(t){return e.trim(t)})):(p=!1,r[0]=e.trim(o)),void 0===a.size&&(a.size=p?3:1),void 0!==a.dataUrl){var m=null,v=a.postData||n.postData;try{m=a.rowId}catch(b){}u&&u.idPrefix&&(m=t.stripPref(u.idPrefix,m)),e.ajax(e.extend({url:e.isFunction(a.dataUrl)?a.dataUrl.call(c,m,o,String(a.name)):a.dataUrl,type:"GET",dataType:"html",data:e.isFunction(v)?v.call(c,m,o,String(a.name)):v,context:{elem:d,options:a,cm:h,iCol:l,ovm:r},success:function(i,r,a){var o=this.ovm,l=this.elem,n=this.cm,d=this.iCol,u=e.extend({},this.options);i=e.isFunction(u.buildSelect)?u.buildSelect.call(c,i,a,n,d):i,"string"==typeof i&&(i=e(e.trim(i)).html()),i&&(e(l).append(i),s(l,u,v?["postData"]:void 0),setTimeout(function(){var i;e("option",l).each(function(t){0===t&&l.multiple&&(this.selected=!1),-1<e.inArray(e.trim(e(this).val()),o)&&(this.selected="selected",i=!0)}),i||e("option",l).each(function(t){-1<e.inArray(e.trim(e(this).text()),o)&&(this.selected="selected")}),t.fullBoolFeedback.call(c,u.selectFilled,"jqGridSelectFilled",{elem:l,options:u,cm:n,cmName:n.name,iCol:d})},0))}},n||{}))}else if(a.value){"function"==typeof a.value&&(a.value=a.value());var w,y,x;n=[];var C,u=void 0===a.separator?":":a.separator;if(y=void 0===a.delimiter?";":a.delimiter,g=function(e,t){return t>0?e:void 0},"string"==typeof a.value)for(y=a.value.split(y),w=0;w<y.length;w++)f=y[w].split(u),2<f.length&&(f[1]=e.map(f,g).join(u)),n.push({value:f[0],innerHtml:f[1],selectValue:e.trim(f[0]),selectText:e.trim(f[1])});else if("object"==typeof a.value)for(w in u=a.value)u.hasOwnProperty(w)&&n.push({value:w,innerHtml:u[w],selectValue:e.trim(w),selectText:e.trim(u[w])});for(w=0;w<n.length;w++)C=n[w],x=document.createElement("option"),x.value=C.value,x.innerHTML=C.innerHtml,d.appendChild(x),p||C.selectValue!==e.trim(o)||(x.selected="selected",m=!0),p&&-1<e.inArray(C.selectValue,r)&&(x.selected="selected",m=!0);if(!m)for(w=0;w<C.length;w++)p||C.selectText!==e.trim(o)||(x.selected="selected"),p&&-1<e.inArray(C.selectText,r)&&(x.selected="selected");s(d,a,["value"]),t.fullBoolFeedback.call(c,a.selectFilled,"jqGridSelectFilled",{elem:d,options:a,cm:h,cmName:h.name,iCol:l})}break;case"text":case"password":case"button":m="button"===r?"button":"textbox",d=document.createElement("input"),d.type=r,d.value=o,s(d,a),"button"!==r&&(l?a.size||e(d).css({width:"100%","box-sizing":"border-box"}):a.size||(a.size=20)),e(d).attr("role",m);break;case"image":case"file":d=document.createElement("input"),d.type=r,s(d,a);break;case"custom":d=document.createElement("span");try{if(!e.isFunction(a.custom_element))throw"editoptions.custom_element is not a function";if(y=a.custom_element.call(c,o,a),!(y instanceof jQuery||t.isHTMLElement(y)||"string"==typeof y))throw"editoptions.custom_element returns value of a wrong type";y=e(y).addClass("customelement").attr({id:a.id,name:a.name}),e(d).empty().append(y)}catch(j){"e1"===j&&h.call(c,p,"function \'custom_element\' "+g.nodefined,f),"e2"===j?h.call(c,p,"function \'custom_element\' "+g.novalue,f):h.call(c,p,"string"==typeof j?j:j.message,f)}}return d},checkDate:function(e,t){var i,r={};if(e=e.toLowerCase(),i=-1!==e.indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),t=t.split(i),3!==t.length)return!1;var a,o,l=-1,n=i=-1;for(o=0;o<e.length;o++)a=isNaN(t[o])?0:parseInt(t[o],10),r[e[o]]=a,a=e[o],-1!==a.indexOf("y")&&(l=o),-1!==a.indexOf("m")&&(n=o),-1!==a.indexOf("d")&&(i=o);a="y"===e[l]||"yyyy"===e[l]?4:"yy"===e[l]?2:-1;var s;return o=[0,31,29,31,30,31,30,31,31,30,31,30,31],-1===l?!1:(s=r[e[l]].toString(),2===a&&1===s.length&&(a=1),s.length!==a||0===r[e[l]]&&"00"!==t[l]||-1===n?!1:(s=r[e[n]].toString(),1>s.length||1>r[e[n]]||12<r[e[n]]||-1===i?!1:(s=r[e[i]].toString(),!(a=1>s.length||1>r[e[i]]||31<r[e[i]])&&(a=2===r[e[n]])&&(l=r[e[l]],a=r[e[i]]>(0!==l%4||0===l%100&&0!==l%400?28:29)),a||r[e[i]]>o[r[e[n]]]?!1:!0)))},isEmpty:function(e){return e.match(/^\\s+$/)||""===e?!0:!1},checkTime:function(e){var i=/^(\\d{1,2}):(\\d{2})([apAP][Mm])?$/;if(!t.isEmpty(e)){if(!(e=e.match(i)))return!1;if(e[3]){if(1>e[1]||12<e[1])return!1}else if(23<e[1])return!1;if(59<e[2])return!1}return!0},checkValues:function(r,a,o,l){var n,s,d=this.p;s=d.colModel;var c=t.isEmpty,u=i.call(e(this),"edit.msg"),h=i.call(e(this),"formatter.date.masks");if(void 0===o){if("string"==typeof a&&(a=d.iColByName[a]),void 0===a||0>a)return[!0,"",""];l=s[a],o=l.editrules,null!=l.formoptions&&(n=l.formoptions.label)}else n=void 0===l?"_":l,l=s[a];if(o){if(n||(n=null!=d.colNames?d.colNames[a]:l.label),!0===o.required&&c(r))return[!1,n+": "+u.required,""];if(d=!1===o.required?!1:!0,!0===o.number&&(!1!==d||!c(r))&&isNaN(r))return[!1,n+": "+u.number,""];if(void 0!==o.minValue&&!isNaN(o.minValue)&&parseFloat(r)<parseFloat(o.minValue))return[!1,n+": "+u.minValue+" "+o.minValue,""];if(void 0!==o.maxValue&&!isNaN(o.maxValue)&&parseFloat(r)>parseFloat(o.maxValue))return[!1,n+": "+u.maxValue+" "+o.maxValue,""];var p;if(!(!0!==o.email||!1===d&&c(r)||(p=/^((([a-z]|\\d|[!#\\$%&\'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&\'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i,p.test(r))))return[!1,n+": "+u.email,""];if(!(!0!==o.integer||!1===d&&c(r)||!isNaN(r)&&0===r%1&&-1===r.indexOf(".")))return[!1,n+": "+u.integer,""];if(!(!0!==o.date||!1===d&&c(r)||(l.formatoptions&&l.formatoptions.newformat?(s=l.formatoptions.newformat,h.hasOwnProperty(s)&&(s=h[s])):s=s[a].datefmt||"Y-m-d",t.checkDate(s,r))))return[!1,n+": "+u.date+" - "+s,""];if(!0===o.time&&!(!1===d&&c(r)||t.checkTime(r)))return[!1,n+": "+u.date+" - hh:mm (am/pm)",""];if(!(!0!==o.url||!1===d&&c(r)||(p=/^(((https?)|(ftp)):\\/\\/([\\-\\w]+\\.)+\\w{2,3}(\\/[%\\-\\w]+(\\.\\w{2,})?)*(([\\w\\-\\.\\?\\\\\\/+@&#;`~=%!]*)(\\.\\w{2,})?)*\\/?)/i,p.test(r))))return[!1,n+": "+u.url,""];if(!0===o.custom&&(!1!==d||!c(r)))return e.isFunction(o.custom_func)?(r=o.custom_func.call(this,r,n,a),e.isArray(r)?r:[!1,u.customarray,""]):[!1,u.customfcheck,""]}return[!0,"",""]}})}(jQuery),function(e){var t=e.jgrid,i=t.getMethod("getGridRes"),r=t.jqID,a=function(e,i){return t.mergeCssClasses(t.getRes(t.guiStyles[this.p.guiStyle||t.defaults.guiStyle||"jQueryUI"],e),i||"")};t.extend({getColProp:function(e){var t=this[0];return null!=t&&t.grid&&(e=t.p.iColByName[e],void 0!==e)?t.p.colModel[e]:{}},setColProp:function(t,i){return this.each(function(){var r,a=this.p;this.grid&&null!=a&&i&&(r=a.iColByName[t],void 0!==r&&e.extend(!0,a.colModel[r],i))})},sortGrid:function(e,t,i){return this.each(function(){var r,a,o=this.grid,l=this.p,n=l.colModel,s=n.length,d=!1;if(o)for(e||(e=l.sortname),"boolean"!=typeof t&&(t=!1),a=0;s>a;a++)if(r=n[a],r.index===e||r.name===e){!0===l.frozenColumns&&!0===r.frozen&&(d=o.fhDiv.find("#"+l.id+"_"+e)),d&&0!==d.length||(d=o.headers[a].el),o=r.sortable,("boolean"!=typeof o||o)&&this.sortData("jqgh_"+l.id+"_"+e,a,t,i,d);break}})},clearBeforeUnload:function(){return this.each(function(){var i,r=this.p,a=this.grid,o=t.clearArray,l=Object.prototype.hasOwnProperty;e.isFunction(a.emptyRows)&&a.emptyRows.call(this,!0,!0),e(document).unbind("mouseup.jqGrid"+r.id),e(a.hDiv).unbind("mousemove"),e(this).unbind();var n,s=a.headers.length;for(n=0;s>n;n++)a.headers[n].el=null;for(i in a)a.hasOwnProperty(i)&&(a.propOrMethod=null);for(a="formatCol sortData updatepager refreshIndex setHeadCheckBox constructTr clearToolbar fixScrollOffsetAndhBoxPadding rebuildRowIndexes modalAlert toggleToolbar triggerToolbar formatter addXmlData addJSONData ftoolbar _inlinenav nav grid p".split(" "),s=a.length,n=0;s>n;n++)l.call(this,a[n])&&(this[a[n]]=null);this._index={},o(r.data),o(r.lastSelectedData),o(r.selarrrow),o(r.savedRow)})},GridDestroy:function(){return this.each(function(){var t=this.p;if(this.grid&&null!=t){t.pager&&e(t.pager).remove();try{e("#alertmod_"+t.idSel).remove(),e(this).jqGrid("clearBeforeUnload"),e(t.gBox).remove()}catch(i){}}})},GridUnload:function(){return this.each(function(){var t=e(this),i=this.p,r=e.fn.jqGrid;this.grid&&(t.removeClass(r.getGuiStyles.call(t,"grid","ui-jqgrid-btable")),i.pager&&e(i.pager).empty().removeClass(r.getGuiStyles.call(t,"pagerBottom","ui-jqgrid-pager")).removeAttr("style").removeAttr("dir"),t.jqGrid("clearBeforeUnload"),t.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),t.empty(),t.insertBefore(i.gBox).show(),e(i.pager).insertBefore(i.gBox).show(),e(i.gBox).remove())})},setGridState:function(i){return this.each(function(){var r=this.p,a=this.grid,o=a.cDiv,l=e(a.uDiv),n=e(a.ubDiv);if(a&&null!=r){var s=r.iconSet||t.defaults.iconSet||"jQueryUI",a=t.getIconRes(s,"gridMinimize.visible"),s=t.getIconRes(s,"gridMinimize.hidden");"hidden"===i?(e(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",r.gView).slideUp("fast"),r.pager&&e(r.pager).slideUp("fast"),r.toppager&&e(r.toppager).slideUp("fast"),!0===r.toolbar[0]&&("both"===r.toolbar[1]&&n.slideUp("fast"),l.slideUp("fast")),r.footerrow&&e(".ui-jqgrid-sdiv",r.gBox).slideUp("fast"),e(".ui-jqgrid-titlebar-close span",o).removeClass(a).addClass(s),r.gridstate="hidden"):"visible"===i&&(e(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",r.gView).slideDown("fast"),r.pager&&e(r.pager).slideDown("fast"),r.toppager&&e(r.toppager).slideDown("fast"),!0===r.toolbar[0]&&("both"===r.toolbar[1]&&n.slideDown("fast"),l.slideDown("fast")),r.footerrow&&e(".ui-jqgrid-sdiv",r.gBox).slideDown("fast"),e(".ui-jqgrid-titlebar-close span",o).removeClass(s).addClass(a),r.gridstate="visible")}})},filterToolbar:function(o){return this.each(function(){var l=this,n=l.grid,s=e(l),d=l.p,c=t.bindEv,u=t.info_dialog,h=t.htmlEncode;if(!this.ftoolbar){var p,f=e.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",applyLabelClasses:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},t.search,d.searching||{},o||{}),g=d.colModel,m=function(e){return i.call(s,e)},v=m("errors.errcap"),b=m("edit.bClose"),w=m("edit.msg"),y=a.call(l,"states.hover"),x=a.call(l,"states.select"),C=a.call(l,"filterToolbar.dataField"),j=function(){var t={},i=0,a={};e.each(g,function(){var o,s,c=this,u=c.index||c.name;o=c.searchoptions||{};var h=e("#gs_"+r(c.name),!0===c.frozen&&!0===d.frozenColumns?n.fhDiv:n.hDiv),p=function(e,t){var i=c.formatoptions||{};return void 0!==i[e]?i[e]:m("formatter."+(t||c.formatter)+"."+e)},g=function(e){var t=p("thousandsSeparator").replace(/([\\.\\*\\_\\\'\\(\\)\\{\\}\\+\\?\\\\])/g,"\\\\$1");return e.replace(new RegExp(t,"g"),"")};if(s=f.searchOperators?h.parent().prev().children("a").data("soper")||f.defaultSearch:o.sopt?o.sopt[0]:"select"===c.stype?"eq":f.defaultSearch,"custom"===c.stype&&e.isFunction(o.custom_value)&&0<h.length&&"SPAN"===h[0].nodeName.toUpperCase())o=o.custom_value.call(l,h.children(".customelement").filter(":first"),"get");else switch(o=e.trim(h.val()),c.formatter){case"integer":o=g(o).replace(p("decimalSeparator","number"),"."),""!==o&&(o=String(parseInt(o,10)));break;case"number":o=g(o).replace(p("decimalSeparator"),"."),""!==o&&(o=String(parseFloat(o)));break;case"currency":var h=p("prefix"),v=p("suffix");h&&h.length&&(o=o.substr(h.length)),v&&v.length&&(o=o.substr(0,o.length-v.length)),o=g(o).replace(p("decimalSeparator"),"."),""!==o&&(o=String(parseFloat(o)))}if(o||"nu"===s||"nn"===s)t[u]=o,a[u]=s,i++;else try{delete d.postData[u]}catch(b){}});var o=i>0?!0:!1;if(f.stringResult||f.searchOperators||"local"===d.datatype){var c=\'{"groupOp":"\'+f.groupOp+\'","rules":[\',u=0;e.each(t,function(e,t){u>0&&(c+=","),c+=\'{"field":"\'+e+\'",\',c+=\'"op":"\'+a[e]+\'",\',c+=\'"data":"\'+(t+"").replace(/\\\\/g,"\\\\\\\\").replace(/\\"/g,\'\\\\"\')+\'"}\',u++}),c+="]}",e.extend(d.postData,{filters:c}),e.each(["searchField","searchString","searchOper"],function(e,t){d.postData.hasOwnProperty(t)&&delete d.postData[t]})}else e.extend(d.postData,t);var h;d.searchurl&&(h=d.url,s.jqGrid("setGridParam",{url:d.searchurl}));var p="stop"===s.triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!p&&e.isFunction(f.beforeSearch)&&(p=f.beforeSearch.call(l)),p||s.jqGrid("setGridParam",{search:o}).trigger("reloadGrid",[e.extend({page:1},f.reloadGridSearchOptions||{})]),h&&s.jqGrid("setGridParam",{url:h}),s.triggerHandler("jqGridToolbarAfterSearch"),e.isFunction(f.afterSearch)&&f.afterSearch.call(l)},q=m("search.odata")||[],S=d.customSortOperations,D=function(i,r,a){e("#sopt_menu").remove(),r=parseInt(r,10),a=parseInt(a,10)+18;var o,l=0,n=[],c=e(i).data("soper"),l=e(i).data("colname");if(r=\'<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="z-index:9999;font-size:\'+(e(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+r+"px;top:"+a+\'px;">\',l=d.iColByName[l],void 0!==l){l=g[l],a=e.extend({},l.searchoptions);var u,p,m;for(a.sopt||(a.sopt=[],a.sopt[0]="select"===l.stype?"eq":f.defaultSearch),e.each(q,function(){n.push(this.oper)}),null!=S&&e.each(S,function(e){n.push(e)}),l=0;l<a.sopt.length;l++)p=a.sopt[l],o=e.inArray(p,n),-1!==o&&(o=q[o],void 0!==o?(m=f.operands[p],u=o.text):null!=S&&(u=S[p],m=u.operand,u=u.text),o=c===p?x:"",r+=\'<li class="ui-menu-item \'+o+\'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="\'+h(p)+\'" data-oper="\'+h(m)+\'"><table\'+(t.msie&&8>t.msiever()?\' cellspacing="0"\':"")+\'><tr><td style="width:25px">\'+h(m)+"</td><td>"+h(u)+"</td></tr></table></a></li>");r+="</ul>",e("body").append(r),e("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all"),e("#sopt_menu > li > a").hover(function(){e(this).addClass(y)},function(){e(this).removeClass(y)}).click(function(){var t=e(this).attr("value"),r=e(this).data("oper");s.triggerHandler("jqGridToolbarSelectOper",[t,r,i]),e("#sopt_menu").hide(),e(i).text(r).data("soper",t),!0===f.autosearch&&(r=e(i).parent().next().children()[0],(e(r).val()||"nu"===t||"nn"===t)&&j())})}},R=e("<tr></tr>",{"class":"ui-search-toolbar",role:"row"});e.each(g,function(i){var r,o;o="";var n,s,h=this.searchoptions,g=this.editoptions,y=e("<th></th>",{"class":a.call(l,"colHeaders","ui-th-column ui-th-"+d.direction+" "+(f.applyLabelClasses?this.labelClasses||"":""))}),x=e("<div style=\'position:relative;height:auto;\'></div>"),D=e("<table class=\'ui-search-table\'"+(t.msie&&8>t.msiever()?" cellspacing=\'0\'":"")+"><tr><td class=\'ui-search-oper\'></td><td class=\'ui-search-input\'></td><td class=\'ui-search-clear\' style=\'width:1px\'></td></tr></table>");if(!0===this.hidden&&e(y).css("display","none"),this.search=!1===this.search?!1:!0,void 0===this.stype&&(this.stype="text"),r=e.extend({mode:"filter"},h||{}),this.search){if(f.searchOperators){for(o=r.sopt?r.sopt[0]:"select"===this.stype?"eq":f.defaultSearch,s=0;s<q.length;s++)if(q[s].oper===o){n=f.operands[o]||"";break}if(void 0===n&&null!=S)for(var _ in S)if(S.hasOwnProperty(_)&&_===o){n=S[_].operand;break}void 0===n&&(n="="),o="<a title=\'"+(null!=r.searchtitle?r.searchtitle:m("search.operandTitle"))+"\' style=\'padding-right: 0.5em;\' data-soper=\'"+o+"\' class=\'soptclass\' data-colname=\'"+this.name+"\'>"+n+"</a>"}switch(e("td",D).filter(":first").data("colindex",i).append(o),null!=r.sopt&&1!==r.sopt.length||e("td.ui-search-oper",D).hide(),void 0===r.clearSearch&&(r.clearSearch="text"===this.stype?!0:!1),r.clearSearch?(o=m("search.resetTitle")||"Clear Search Value",e("td",D).eq(2).append("<a title=\'"+o+"\' style=\'padding-right: 0.2em;padding-left: 0.3em;\' class=\'clearsearchclass\'>"+f.resetIcon+"</a>")):e("td",D).eq(2).hide(),this.stype){case"select":if(o=this.surl||r.dataUrl)e(x).append(D),e.ajax(e.extend({url:o,context:{stbl:D,options:r,cm:this,iCol:i},dataType:"html",success:function(e,i,r){i=this.cm;var a=this.iCol,o=this.options,n=this.stbl.find(">tbody>tr>td.ui-search-input");void 0!==o.buildSelect?(e=o.buildSelect.call(l,e,r,i,a))&&n.append(e):n.append(e),e=n.children("select"),void 0!==o.defaultValue&&e.val(o.defaultValue),e.attr({name:i.index||i.name,id:"gs_"+i.name}),o.attr&&e.attr(o.attr),e.addClass(C),e.css({width:"100%"}),c.call(l,e[0],o),t.fullBoolFeedback.call(l,o.selectFilled,"jqGridSelectFilled",{elem:e[0],options:o,cm:i,cmName:i.name,iCol:a,mode:"filter"}),!0===f.autosearch&&e.change(function(){return j(),!1})}},t.ajaxOptions,d.ajaxSelectOptions||{}));else{var F,G,k;if(h?(F=void 0===h.value?"":h.value,G=void 0===h.separator?":":h.separator,k=void 0===h.delimiter?";":h.delimiter):g&&(F=void 0===g.value?"":g.value,G=void 0===g.separator?":":g.separator,k=void 0===g.delimiter?";":g.delimiter),F){var I=document.createElement("select");I.style.width="100%",e(I).attr({name:this.index||this.name,id:"gs_"+this.name});var O;if("string"==typeof F)for(o=F.split(k),O=0;O<o.length;O++)F=o[O].split(G),k=document.createElement("option"),k.value=F[0],k.innerHTML=F[1],I.appendChild(k);else if("object"==typeof F)for(O in F)F.hasOwnProperty(O)&&(k=document.createElement("option"),k.value=O,k.innerHTML=F[O],I.appendChild(k));void 0!==r.defaultValue&&e(I).val(r.defaultValue),r.attr&&e(I).attr(r.attr),e(I).addClass(C),e(x).append(D),c.call(l,I,r),e("td",D).eq(1).append(I),t.fullBoolFeedback.call(l,r.selectFilled,"jqGridSelectFilled",{elem:I,options:h||g||{},cm:this,cmName:this.name,iCol:i,mode:"filter"}),!0===f.autosearch&&e(I).change(function(){return j(),!1})}}break;case"text":i=void 0!==r.defaultValue?r.defaultValue:"",e("td",D).eq(1).append("<input type=\'text\' class=\'"+C+"\' style=\'width:100%;padding:0;\' name=\'"+(this.index||this.name)+"\' id=\'gs_"+this.name+"\' value=\'"+i+"\'/>"),e(x).append(D),r.attr&&e("input",x).attr(r.attr),c.call(l,e("input",x)[0],r),!0===f.autosearch&&(f.searchOnEnter?e("input",x).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(j(),!1):this}):e("input",x).keydown(function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:p&&clearTimeout(p),p=setTimeout(function(){j()},f.autosearchDelay)}}));break;case"custom":e("td",D).eq(1).append("<span style=\'width:95%;padding:0;\' class=\'"+C+"\' name=\'"+(this.index||this.name)+"\' id=\'gs_"+this.name+"\'/>"),e(x).append(D);try{if(!e.isFunction(r.custom_element))throw"e1";if(!(I=r.custom_element.call(l,void 0!==r.defaultValue?r.defaultValue:"",r)))throw"e2";I=e(I).addClass("customelement"),e(x).find("span[name=\'"+(this.index||this.name)+"\']").append(I)}catch(N){"e1"===N&&u.call(l,v,"function \'custom_element\' "+w.nodefined,b),"e2"===N?u.call(l,v,"function \'custom_element\' "+w.novalue,b):u.call(l,v,"string"==typeof N?N:N.message,b)}}}e(y).append(x),e(R).append(y),f.searchOperators||e("td",D).eq(0).hide()}),e(n.hDiv).find(">div>.ui-jqgrid-htable>thead").append(R),f.searchOperators&&(e(".soptclass",R).click(function(t){var i=e(this).offset();D(this,i.left,i.top),t.stopPropagation()}),e("body").on("click",function(t){"soptclass"!==t.target.className&&e("#sopt_menu").hide()})),e(".clearsearchclass",R).click(function(){var t=e(this).parents("tr").filter(":first"),i=parseInt(e("td.ui-search-oper",t).data("colindex"),10),r=e.extend({},g[i].searchoptions||{}).defaultValue||"";"select"===g[i].stype?r?e("td.ui-search-input select",t).val(r):e("td.ui-search-input select",t)[0].selectedIndex=0:e("td.ui-search-input input",t).val(r),!0===f.autosearch&&j()}),l.ftoolbar=!0,l.triggerToolbar=j,l.clearToolbar=function(t){var i,a={},o=0;t="boolean"!=typeof t?!0:t,e.each(g,function(){var t,s,c=e("#gs_"+r(this.name),!0===this.frozen&&!0===d.frozenColumns?n.fhDiv:n.hDiv),u=this.searchoptions||{};switch(void 0!==u.defaultValue&&(t=u.defaultValue),i=this.index||this.name,this.stype){case"select":if(s=0<c.length?!c[0].multiple:!0,c.find("option").each(function(i){return this.selected=0===i&&s,e(this).val()===t?(this.selected=!0,!1):void 0}),void 0!==t)a[i]=t,o++;else try{delete d.postData[i]}catch(h){}break;case"text":if(c.val(t||""),void 0!==t)a[i]=t,o++;else try{delete d.postData[i]}catch(p){}break;case"custom":e.isFunction(u.custom_value)&&0<c.length&&"SPAN"===c[0].nodeName.toUpperCase()&&u.custom_value.call(l,c.children(".customelement").filter(":first"),"set",t||"")}});var c=o>0?!0:!1;if(d.resetsearch=!0,f.stringResult||f.searchOperators||"local"===d.datatype){var u=\'{"groupOp":"\'+f.groupOp+\'","rules":[\',h=0;e.each(a,function(e,t){h>0&&(u+=","),u+=\'{"field":"\'+e+\'",\',u+=\'"op":"eq",\',u+=\'"data":"\'+(t+"").replace(/\\\\/g,"\\\\\\\\").replace(/\\"/g,\'\\\\"\')+\'"}\',h++}),u+="]}",e.extend(d.postData,{filters:u}),e.each(["searchField","searchString","searchOper"],function(e,t){d.postData.hasOwnProperty(t)&&delete d.postData[t]})}else e.extend(d.postData,a);var p;d.searchurl&&(p=d.url,s.jqGrid("setGridParam",{url:d.searchurl}));var m="stop"===s.triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!m&&e.isFunction(f.beforeClear)&&(m=f.beforeClear.call(l)),m||t&&s.jqGrid("setGridParam",{search:c}).trigger("reloadGrid",[e.extend({page:1},f.reloadGridResetOptions||{})]),p&&s.jqGrid("setGridParam",{url:p}),s.triggerHandler("jqGridToolbarAfterClear"),e.isFunction(f.afterClear)&&f.afterClear()},l.toggleToolbar=function(){var t=e("tr.ui-search-toolbar",n.hDiv),i=!0===d.frozenColumns?e("tr.ui-search-toolbar",n.fhDiv):!1;"none"===t.css("display")?(t.show(),i&&i.show()):(t.hide(),i&&i.hide())}}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,e(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var i,r,a,o;i=this.grid;var l=this.p.colModel,n=e("table.ui-jqgrid-htable thead",i.hDiv);if(i){e(this).unbind(".setGroupHeaders");var s=e("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),d=i.headers;for(i=0,r=d.length;r>i;i++){a=l[i].hidden?"none":"",a=e(d[i].el).width(d[i].width).css("display",a);try{a.removeAttr("rowSpan")}catch(c){a.attr("rowSpan",1)}s.append(a),o=a.children("span.ui-jqgrid-resize"),0<o.length&&(o[0].style.height=""),a.children("div")[0].style.top=""}e(n).children("tr.ui-jqgrid-labels").remove(),e(n).prepend(s),!0===t&&e(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(i){return i=e.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},i||{}),this.each(function(){this.p.groupHeader=i;var r,o,l,n,s,d,c,u,h=0,p=this.p.colModel,f=p.length,g=this.grid.headers,m=e("table.ui-jqgrid-htable",this.grid.hDiv),v=t.isCellClassHidden,b=m.children("thead").children("tr.ui-jqgrid-labels"),w=b.last().addClass("jqg-second-row-header");l=m.children("thead");var y=m.find(".jqg-first-row-header");void 0===y[0]?y=e("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):y.empty();var x=function(e,t){var i,r=t.length;for(i=0;r>i;i++)if(t[i].startColumnName===e)return i;return-1};for(e(this).prepend(l),l=e("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),r=0;f>r;r++)if(s=g[r].el,d=e(s),o=p[r],n={height:"0",width:g[r].width+"px",display:o.hidden?"none":""},e("<th>",{role:"gridcell"}).css(n).addClass("ui-first-th-"+this.p.direction+(i.applyLabelClasses?" "+(o.labelClasses||""):"")).appendTo(y),s.style.width="",n=a.call(this,"colHeaders","ui-th-column-header ui-th-"+this.p.direction+" "+(i.applyLabelClasses?o.labelClasses||"":"")),c=x(o.name,i.groupHeaders),c>=0){for(c=i.groupHeaders[c],h=c.numberOfColumns,u=c.titleText,c=o=0;h>c&&f>r+c;c++)p[r+c].hidden||v(p[r+c].classes)||e(g[r+c].el).is(":hidden")||o++;n=e("<th>").addClass(n).css({height:"22px","border-top":"0 none"}).html(u),o>0&&n.attr("colspan",String(o)),this.p.headertitles&&n.attr("title",n.text()),0===o&&n.hide(),d.before(n),l.append(s),--h}else 0===h?i.useColSpanStyle?d.attr("rowspan",b.length+1):(e("<th>").addClass(n).css({display:o.hidden?"none":"","border-top":"0 none"}).insertBefore(d),l.append(s)):(l.append(s),h--);p=e(this).children("thead"),p.prepend(y),l.insertAfter(w),m.append(p),i.useColSpanStyle&&(m.find("span.ui-jqgrid-resize").each(function(){var t=e(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),m.find(".ui-th-column>div").each(function(){var t=e(this),i=t.parent();i.is(":visible")&&i.is(":has(span.ui-jqgrid-resize)")&&!t.hasClass("ui-jqgrid-rotate")&&!t.hasClass("ui-jqgrid-rotateOldIE")&&t.css("top",(i.height()-t.outerHeight(!0))/2+"px")})),e(this).triggerHandler("jqGridAfterSetGroupHeaders")})},setFrozenColumns:function(){return this.each(function(){var t=this,i=e(t),o=t.p,l=t.grid;if(l&&null!=o&&!0!==o.frozenColumns){var n,s=o.colModel,d=s.length,c=-1,u=!1,h=[],p=r(o.id),f=a.call(t,"states.hover"),g=a.call(t,"states.disabled");if(!0!==o.subGrid&&!0!==o.treeGrid&&!o.scroll){for(n=0;d>n&&!0===s[n].frozen;n++)u=!0,c=n,h.push("#jqgh_"+p+"_"+r(s[n].name));if(o.sortable&&(s=e(l.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),s.sortable("destroy"),i.jqGrid("setGridParam",{sortable:{options:{items:0<h.length?">th:not(:has("+h.join(",")+"),:hidden)":">th:not(:hidden)"}}}),i.jqGrid("sortableColumns",s)),c>=0&&u){if(u=o.caption?e(l.cDiv).outerHeight():0,h=e(".ui-jqgrid-htable",o.gView).height(),o.toppager&&(u+=e(l.topDiv).outerHeight()),!0===o.toolbar[0]&&"bottom"!==o.toolbar[1]&&(u+=e(l.uDiv).outerHeight()),l.fhDiv=e(\'<div style="position:absolute;overflow:hidden;" + (p.direction === "rtl" ? "right:0;" : "left:0;") + "top:\'+u+"px;height:"+h+\'px;" class="\'+a.call(t,"hDiv","frozen-div ui-jqgrid-hdiv")+\'"></div>\'),l.fbDiv=e(\'<div style="position:absolute;overflow:hidden;" + (p.direction === "rtl" ? "right:0;" : "left:0;") + "top:\'+(parseInt(u,10)+parseInt(h,10)+1)+\'px;overflow:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>\'),e(o.gView).append(l.fhDiv),s=e(".ui-jqgrid-htable",o.gView).clone(!0),o.groupHeader){e("tr.jqg-first-row-header",s).each(function(){e("th:gt("+c+")",this).remove()}),e("tr.jqg-third-row-header",s).each(function(){e(this).children("th[id]").each(function(){var i=e(this).attr("id");i&&i.substr(0,t.id.length+1)===t.id+"_"&&(i=i.substr(t.id.length+1),o.iColByName[i]>c&&e(this).remove())})});var m,v,b=-1,w=-1;e("tr.jqg-second-row-header th",s).each(function(){return m=parseInt(e(this).attr("colspan")||1,10),v=parseInt(e(this).attr("rowspan")||1,10),v>1?(b++,w++):m&&(b+=m,w++),b===c?!1:void 0}),b!==c&&(w=c),e("tr.jqg-second-row-header",s).each(function(){e("th:gt("+w+")",this).remove()})}else e("tr",s).each(function(){e("th:gt("+c+")",this).remove()});e(s).width(1),e(l.fhDiv).append(s).mousemove(function(e){return l.resizing?(l.dragMove(e),!1):void 0}).scroll(function(){this.scrollLeft=0}),o.footerrow&&(s=e(".ui-jqgrid-bdiv",o.gView).height(),l.fsDiv=e(\'<div style="position:absolute;" + (p.direction === "rtl" ? "right:0;" : "left:0;") + "top:\'+(parseInt(u,10)+parseInt(h,10)+parseInt(s,10)+1)+\'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>\'),e(o.gView).append(l.fsDiv),u=e(".ui-jqgrid-ftable",o.gView).clone(!0),e("tr",u).each(function(){e("td:gt("+c+")",this).remove()}),e(u).width(1),e(l.fsDiv).append(u)),i.bind("jqGridSortCol.setFrozenColumns",function(t,i,r){t=e("tr.ui-jqgrid-labels:last th:eq("+o.lastsort+")",l.fhDiv),i=e("tr.ui-jqgrid-labels:last th:eq("+r+")",l.fhDiv),e("span.ui-grid-ico-sort",t).addClass(g),e(t).attr("aria-selected","false"),e("span.ui-icon-"+o.sortorder,i).removeClass(g),e(i).attr("aria-selected","true"),o.viewsortcols[0]||o.lastsort===r||(e("span.s-ico",t).hide(),e("span.s-ico",i).show())}),e(o.gView).append(l.fbDiv),e(l.bDiv).scroll(function(){e(l.fbDiv).scrollTop(e(this).scrollTop())}),!0===o.hoverrows&&e(o.idSel).unbind("mouseover").unbind("mouseout");var y=function(e,t){var i=e.height();1<=Math.abs(i-t)&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))},x=function(e,t){var i=e.width();1<=Math.abs(i-t)&&(e.width(t),i=e.width(),1<=Math.abs(t-i)&&e.width(t+Math.round(t-i)))},C=function(t,i){var r,a,l,s,d,u,h,p,f,g,m=e(i).position().top;if(null!=t&&0<t.length){for(t.css("rtl"===o.direction?{top:m,right:0}:{top:m,left:0}),l=t.children("table").children("tbody,thead").children("tr"),s=e(i).children("div").children("table").children("tbody,thead").children("tr"),a=Math.min(l.length,s.length),f=a>0?e(l[0]).position().top:0,g=a>0?e(s[0]).position().top:0,r=0;a>r;r++){if(d=e(s[r]),m=d.position().top,u=e(l[r]),h=u.position().top,p=d.height(),null!=o.groupHeader&&o.groupHeader.useColSpanStyle&&0===p)for(n=p=0;c>n;n++)"TH"===d[0].cells[n].nodeName.toUpperCase()&&(p=Math.max(p,e(d[0].cells[n]).height()));d=p+(m-g)+(f-h),y(u,d)}y(t,i.clientHeight)}};i.bind("jqGridAfterGridComplete.setFrozenColumns",function(){e(o.idSel+"_frozen").remove(),e(l.fbDiv).height(l.hDiv.clientHeight);var t=e(this).clone(!0),r=t[0].rows,a=i[0].rows;if(e(r).filter("tr[role=row]").each(function(){e(this.cells).filter("td[role=gridcell]:gt("+c+")").remove()}),l.fbRows=r,t.width(1).attr("id",o.id+"_frozen"),t.appendTo(l.fbDiv),!0===o.hoverrows){var n=function(t,i,r){e(t)[i](f),e(r[t.rowIndex])[i](f)};e(r).filter(".jqgrow").hover(function(){n(this,"addClass",a)},function(){n(this,"removeClass",a)}),e(a).filter(".jqgrow").hover(function(){n(this,"addClass",r)},function(){n(this,"removeClass",r)})}C(l.fhDiv,l.hDiv),C(l.fbDiv,l.bDiv),l.sDiv&&C(l.fsDiv,l.sDiv)});var j=function(){e(l.fbDiv).scrollTop(e(l.bDiv).scrollTop()),C(l.fhDiv,l.hDiv),C(l.fbDiv,l.bDiv),l.sDiv&&C(l.fsDiv,l.sDiv);var t=l.fhDiv[0].clientWidth;null!=l.fhDiv&&1<=l.fhDiv.length&&y(e(l.fhDiv),l.hDiv.clientHeight),null!=l.fbDiv&&0<l.fbDiv.length&&x(e(l.fbDiv),t),null!=l.fsDiv&&0<=l.fsDiv.length&&x(e(l.fsDiv),t)};e(o.gBox).bind("resizestop.setFrozenColumns",function(){setTimeout(function(){j()},50)}),i.bind("jqGridInlineEditRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridResetFrozenHeights.setFrozenColumns jqGridGroupingClickGroup.setFrozenColumns jqGridResizeStop.setFrozenColumns",j),l.hDiv.loading||i.triggerHandler("jqGridAfterGridComplete"),o.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){var t=e(this),i=this.grid,o=this.p,l=r(o.id);if(i&&!0===o.frozenColumns){if(e(i.fhDiv).remove(),e(i.fbDiv).remove(),i.fhDiv=null,i.fbDiv=null,i.fbRows=null,o.footerrow&&(e(i.fsDiv).remove(),i.fsDiv=null),t.unbind(".setFrozenColumns"),!0===o.hoverrows){var n,s=a.call(this,"states.hover");t.bind("mouseover",function(t){n=e(t.target).closest("tr.jqgrow"),\n"ui-subgrid"!==e(n).attr("class")&&e(n).addClass(s)}).bind("mouseout",function(t){n=e(t.target).closest("tr.jqgrow"),e(n).removeClass(s)})}o.frozenColumns=!1,o.sortable&&(i=e(i.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),i.sortable("destroy"),t.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+l+"_cb,#jqgh_"+l+"_rn,#jqgh_"+l+"_subgrid),:hidden)"}}}),t.jqGrid("sortableColumns",i))}})}})}(jQuery),function(e){var t=e.jgrid;e.fn.jqFilter=function(i){if("string"==typeof i){var r=e.fn.jqFilter[i];if(!r)throw"jqFilter - No such method: "+i;var a=e.makeArray(arguments).slice(1);return r.apply(this,a)}var o=e.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:"eq ne lt le gt ge nu nn in ni".split(" "),stropts:"eq ne bw bn ew en cn nc nu nn in ni".split(" "),strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},t.filter,i||{});return this.each(function(){if(!this.filter){this.p=o,(null===o.filter||void 0===o.filter)&&(o.filter={groupOp:o.groupOps[0].op,rules:[],groups:[]});var i,r,a=o.columns.length,l=/msie/i.test(navigator.userAgent)&&!window.opera,n=function(){return e("#"+t.jqID(o.id))[0]||null},s=t.getRes(t.guiStyles[n().p.guiStyle],"states.error"),d=t.getRes(t.guiStyles[n().p.guiStyle],"dialog.content");if(o.initFilter=e.extend(!0,{},o.filter),a){for(i=0;a>i;i++)r=o.columns[i],r.stype?r.inputtype=r.stype:r.inputtype||(r.inputtype="text"),r.sorttype?r.searchtype=r.sorttype:r.searchtype||(r.searchtype="string"),void 0===r.hidden&&(r.hidden=!1),r.label||(r.label=r.name),r.index&&(r.name=r.index),r.hasOwnProperty("searchoptions")||(r.searchoptions={}),r.hasOwnProperty("searchrules")||(r.searchrules={});o.showQuery&&e(this).append("<table class=\'queryresult "+d+"\' style=\'display:block;max-width:440px;border:0px none;\' dir=\'"+o.direction+"\'><tbody><tr><td class=\'query\'></td></tr></tbody></table>");var c=function(i,r){var a=[!0,""],l=n();if(e.isFunction(r.searchrules))a=r.searchrules.call(l,i,r);else if(t&&t.checkValues)try{a=t.checkValues.call(l,i,-1,r.searchrules,r.label)}catch(s){}a&&a.length&&!1===a[0]&&(o.error=!a[0],o.errmsg=a[1])};this.onchange=function(){return o.error=!1,o.errmsg="",e.isFunction(o.onChange)?o.onChange.call(this,o):!1},this.reDraw=function(){e("table.group:first",this).remove();var t=this.createTableForGroup(o.filter,null);e(this).append(t),e.isFunction(o.afterRedraw)&&o.afterRedraw.call(this,o)},this.createTableForGroup=function(t,i){var r,a=this,l=e("<table class=\'group "+d+"\' style=\'border:0px none;\'><tbody></tbody></table>"),n="left";"rtl"===o.direction&&(n="right",l.attr("dir","rtl")),null===i&&l.append("<tr class=\'error\' style=\'display:none;\'><th colspan=\'5\' class=\'"+s+"\' align=\'"+n+"\'></th></tr>");var c=e("<tr></tr>");if(l.append(c),n=e("<th colspan=\'5\' align=\'"+n+"\'></th>"),c.append(n),!0===o.ruleButtons){var u=e("<select class=\'opsel\'></select>");n.append(u);var h,c="";for(r=0;r<o.groupOps.length;r++)h=t.groupOp===a.p.groupOps[r].op?" selected=\'selected\'":"",c+="<option value=\'"+a.p.groupOps[r].op+"\'"+h+">"+a.p.groupOps[r].text+"</option>";u.append(c).bind("change",function(){t.groupOp=e(u).val(),a.onchange()})}if(c="<span></span>",o.groupButton&&(c=e("<input type=\'button\' value=\'+ {}\' title=\'Add subgroup\' class=\'add-group\'/>"),c.bind("click",function(){return void 0===t.groups&&(t.groups=[]),t.groups.push({groupOp:o.groupOps[0].op,rules:[],groups:[]}),a.reDraw(),a.onchange(),!1})),n.append(c),!0===o.ruleButtons){var p,c=e("<input type=\'button\' value=\'+\' title=\'Add rule\' class=\'add-rule ui-add\'/>");c.bind("click",function(){var i,o,l;for(void 0===t.rules&&(t.rules=[]),r=0;r<a.p.columns.length;r++)if(i=void 0===a.p.columns[r].search?!0:a.p.columns[r].search,o=!0===a.p.columns[r].hidden,(l=!0===a.p.columns[r].searchoptions.searchhidden)&&i||i&&!o){p=a.p.columns[r];break}return i=p.searchoptions.sopt?p.searchoptions.sopt:a.p.sopt?a.p.sopt:-1!==e.inArray(p.searchtype,a.p.strarr)?a.p.stropts:a.p.numopts,t.rules.push({field:p.name,op:i[0],data:""}),a.reDraw(),!1}),n.append(c)}if(null!==i&&(c=e("<input type=\'button\' value=\'-\' title=\'Delete group\' class=\'delete-group\'/>"),n.append(c),c.bind("click",function(){for(r=0;r<i.groups.length;r++)if(i.groups[r]===t){i.groups.splice(r,1);break}return a.reDraw(),a.onchange(),!1})),void 0!==t.groups)for(r=0;r<t.groups.length;r++)n=e("<tr></tr>"),l.append(n),c=e("<td class=\'first\'></td>"),n.append(c),c=e("<td colspan=\'4\'></td>"),c.append(this.createTableForGroup(t.groups[r],t)),n.append(c);if(void 0===t.groupOp&&(t.groupOp=a.p.groupOps[0].op),void 0!==t.rules)for(r=0;r<t.rules.length;r++)l.append(this.createTableRowForRule(t.rules[r],t));return l},this.createTableRowForRule=function(i,r){var a,s,d,c,u=this,h=n(),p=e("<tr></tr>"),f="";p.append("<td class=\'first\'></td>");var g=e("<td class=\'columns\'></td>");p.append(g);var m,v=e("<select></select>"),b=[];g.append(v),v.bind("change",function(){i.field=e(v).val();var r,a,o=e(this).parents("tr:first");for(a=0;a<u.p.columns.length;a++)if(u.p.columns[a].name===i.field){r=u.p.columns[a];break}if(r){var n=e.extend({},r.searchoptions||{},{id:t.randId(),name:r.name,mode:"search"});l&&"text"===r.inputtype&&!n.size&&(n.size=10);var d=t.createEl.call(h,r.inputtype,n,"",!0,u.p.ajaxSelectOptions||{},!0);e(d).addClass("input-elm"),s=n.sopt?n.sopt:u.p.sopt?u.p.sopt:-1!==e.inArray(r.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,r="";var c,p,f=0;for(b=[],e.each(u.p.ops,function(){b.push(this.oper)}),u.p.cops&&e.each(u.p.cops,function(e){b.push(e)}),a=0;a<s.length;a++)p=s[a],m=e.inArray(s[a],b),-1!==m&&(c=u.p.ops[m],c=void 0!==c?c.text:u.p.cops[p].text,0===f&&(i.op=p),r+="<option value=\'"+p+"\'>"+c+"</option>",f++);e(".selectopts",o).empty().append(r),e(".selectopts",o)[0].selectedIndex=0,t.msie&&9>t.msiever()&&(a=parseInt(e("select.selectopts",o)[0].offsetWidth,10)+1,e(".selectopts",o).width(a),e(".selectopts",o).css("width","auto")),e(".data",o).empty().append(d),t.bindEv.call(h,d,n),e(".input-elm",o).bind("change",function(t){t=t.target,i.data="SPAN"===t.nodeName.toUpperCase()&&n&&e.isFunction(n.custom_value)?n.custom_value.call(h,e(t).children(".customelement:first"),"get"):t.value,u.onchange()}),setTimeout(function(){i.data=e(d).val(),u.onchange()},0)}});var w,y,g=0;for(a=0;a<u.p.columns.length;a++)c=void 0===u.p.columns[a].search?!0:u.p.columns[a].search,w=!0===u.p.columns[a].hidden,((y=!0===u.p.columns[a].searchoptions.searchhidden)&&c||c&&!w)&&(c="",i.field===u.p.columns[a].name&&(c=" selected=\'selected\'",g=a),f+="<option value=\'"+u.p.columns[a].name+"\'"+c+">"+u.p.columns[a].label+"</option>");v.append(f),f=e("<td class=\'operators\'></td>"),p.append(f),d=o.columns[g],l&&"text"===d.inputtype&&!d.searchoptions.size&&(d.searchoptions.size=10),g=t.createEl.call(h,d.inputtype,e.extend({},d.searchoptions||{},{id:t.randId(),name:d.name}),i.data,!0,u.p.ajaxSelectOptions||{},!0),("nu"===i.op||"nn"===i.op)&&(e(g).attr("readonly","true"),e(g).attr("disabled","true"));var x=e("<select class=\'selectopts\'></select>");for(f.append(x),x.bind("change",function(){i.op=e(x).val();var t=e(this).parents("tr:first"),t=e(".input-elm",t)[0];"nu"===i.op||"nn"===i.op?(i.data="","SELECT"!==t.tagName.toUpperCase()&&(t.value=""),t.setAttribute("readonly","true"),t.setAttribute("disabled","true")):("SELECT"===t.tagName.toUpperCase()&&(i.data=t.value),t.removeAttribute("readonly"),t.removeAttribute("disabled")),u.onchange()}),s=d.searchoptions.sopt?d.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==e.inArray(d.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,f="",e.each(u.p.ops,function(){b.push(this.oper)}),u.p.cops&&e.each(u.p.cops,function(e){b.push(e)}),a=0;a<s.length;a++)y=s[a],m=e.inArray(s[a],b),-1!==m&&(w=u.p.ops[m],c=i.op===y?" selected=\'selected\'":"",f+="<option value=\'"+y+"\'"+c+">"+(void 0!==w?w.text:u.p.cops[y].text)+"</option>");return x.append(f),f=e("<td class=\'data\'></td>"),p.append(f),f.append(g),t.bindEv.call(h,g,d.searchoptions),e(g).addClass("input-elm").bind("change",function(){i.data="custom"===d.inputtype?d.searchoptions.custom_value.call(h,e(this).children(".customelement:first"),"get"):e(this).val(),u.onchange()}),f=e("<td></td>"),p.append(f),!0===o.ruleButtons&&(g=e("<input type=\'button\' value=\'-\' title=\'Delete rule\' class=\'delete-rule ui-del\'/>"),f.append(g),g.bind("click",function(){for(a=0;a<r.rules.length;a++)if(r.rules[a]===i){r.rules.splice(a,1);break}return u.reDraw(),u.onchange(),!1})),p},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){1<i.length&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(r){alert(r)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)1<i.length&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(a){alert(a)}return i+=")","()"===i?"":i},this.getStringForRule=function(t){var i,r,a,l="",n="",s=t.data;for(i=0;i<o.ops.length;i++)if(o.ops[i].oper===t.op){l=o.operands.hasOwnProperty(t.op)?o.operands[t.op]:"",n=o.ops[i].oper;break}if(""===n&&null!=o.cops)for(a in o.cops)if(o.cops.hasOwnProperty(a)&&(n=a,l=o.cops[a].operand,e.isFunction(o.cops[a].buildQueryValue)))return o.cops[a].buildQueryValue.call(o,{cmName:t.field,searchValue:s,operand:l});for(i=0;i<o.columns.length;i++)if(o.columns[i].name===t.field){r=o.columns[i];break}return null==r?"":(("bw"===n||"bn"===n)&&(s+="%"),("ew"===n||"en"===n)&&(s="%"+s),("cn"===n||"nc"===n)&&(s="%"+s+"%"),("in"===n||"ni"===n)&&(s=" ("+s+")"),o.errorcheck&&c(t.data,r),-1!==e.inArray(r.searchtype,["int","integer","float","number","currency"])||"nn"===n||"nu"===n?t.field+" "+l+" "+s:t.field+" "+l+\' "\'+s+\'"\')},this.resetFilter=function(){o.filter=e.extend(!0,{},o.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){e("th."+s,this).html(""),e("tr.error",this).hide()},this.showError=function(){e("th."+s,this).html(o.errmsg),e("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(o.filter)},this.toString=function(){function e(i){var r,a="(";if(void 0!==i.groups)for(r=0;r<i.groups.length;r++)1<a.length&&(a="OR"===i.groupOp?a+" || ":a+" && "),a+=e(i.groups[r]);if(void 0!==i.rules)for(r=0;r<i.rules.length;r++){1<a.length&&(a="OR"===i.groupOp?a+" || ":a+" && ");var o=i.rules[r];if(t.p.errorcheck){for(var l=void 0,n=void 0,l=0;l<t.p.columns.length;l++)if(t.p.columns[l].name===o.field){n=t.p.columns[l];break}n&&c(o.data,n)}a+=o.op+"(item."+o.field+",\'"+o.data+"\')"}return a+=")","()"===a?"":a}var t=this;return e(o.filter)},this.reDraw(),o.showQuery&&this.onchange(),this.filter=!0}}})},e.extend(e.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=t.parse(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}})}(jQuery),function(e){var t=e.jgrid,i=t.feedback,r=t.fullBoolFeedback,a=t.jqID,o=t.hideModal,l=t.viewModal,n=t.createModal,s=t.info_dialog,d=t.mergeCssClasses,c=t.hasOneFromClasses,u=e.fn.jqGrid,h=t.builderFmButon,p=function(e,t){var i=e[0].style[t];return 0<=i.indexOf("px")?parseFloat(i):i},f=function(t,i,r){var a=r.w;i=e(i);var o,l,n;r.c.toTop?(o=this.closest(".ui-jqgrid").offset(),l=a.offset(),n=l.top-o.top,o=l.left-o.left):(n=p(a,"top"),o=p(a,"left")),this.data(t,{top:n,left:o,width:p(a,"width"),height:p(a,"height"),dataheight:p(i,"height")||"auto",datawidth:p(i,"width")||"auto"}),a.remove(),r.o&&r.o.remove()},g=function(e,t,i){!0===t[0]&&(i="<span class=\'"+d("fm-button-icon",i,t[2])+"\'></span>","right"===t[1]?e.addClass("fm-button-icon-right").append(i):e.addClass("fm-button-icon-left").prepend(i))},m=function(e,i){return t.mergeCssClasses(t.getRes(t.guiStyles[this.p.guiStyle],e),i||"")},v=function(e){return m.call(this,"states."+e)},b=function(e){return"&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0)};t.extend({searchGrid:function(s){return this.each(function(){function c(t){R("beforeShow",t)&&(e(j).data("onClose",w.onClose),l(j,{gbox:q,jqm:w.jqModal,overlay:w.overlay,modal:w.modal,overlayClass:w.overlayClass,toTop:w.toTop,onHide:function(e){f.call(g,"searchProp",y,e)}}),R("afterShow",t))}var p=this,g=e(p),b=p.p;if(p.grid&&null!=b){var w=e.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},u.getGridRes.call(g,"search"),t.search||{},b.searching||{},s||{}),y="fbox_"+b.id,x=w.commonIconClass,C={themodal:"searchmod"+y,modalhead:"searchhd"+y,modalcontent:"searchcnt"+y,resizeAlso:y},j="#"+a(C.themodal),q=b.gBox,S=b.gView,D=b.postData[w.sFilter],R=function(){var t=e.makeArray(arguments);return t.unshift("Search"),t.unshift("Filter"),t.unshift(w),i.apply(p,t)};if("string"==typeof D&&(D=t.parse(D)),!0===w.recreateFilter?e(j).remove():g.data("searchProp")&&e.extend(w,g.data("searchProp")),void 0!==e(j)[0])c(e("#fbox_"+b.idSel));else{var _=e("<div><div id=\'"+y+"\' class=\'searchFilter\' style=\'overflow:auto\'></div></div>").insertBefore(S);"rtl"===b.direction&&_.attr("dir","rtl");var F,G,k="",I="",O=!1,N=-1,T=e.extend([],b.colModel);G=h.call(p,y+"_search",w.Find,d(x,w.findDialogIcon),"right");var A=h.call(p,y+"_reset",w.Reset,d(x,w.resetDialogIcon),"left");w.showQuery&&(k=h.call(p,y+"_query","Query",d(x,w.queryDialogIcon),"left")+"&#160;"),w.columns.length?(T=w.columns,N=0,F=T[0].index||T[0].name):e.each(T,function(e,t){if(t.label||(t.label=b.colNames[e]),!O){var i=void 0===t.search?!0:t.search,r=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!r)&&(O=!0,F=t.index||t.name,N=e)}}),(!D&&F||!1===w.multipleSearch)&&(x="eq",N>=0&&T[N].searchoptions&&T[N].searchoptions.sopt?x=T[N].searchoptions.sopt[0]:w.sopt&&w.sopt.length&&(x=w.sopt[0]),D={groupOp:"AND",rules:[{field:F,op:x,data:""}]}),O=!1,w.tmplNames&&w.tmplNames.length&&(O=!0,I=w.tmplLabel,I+="<select class=\'ui-template\'>",I+="<option value=\'default\'>Default</option>",e.each(w.tmplNames,function(e,t){I+="<option value=\'"+e+"\'>"+t+"</option>"}),I+="</select>"),G="<table class=\'EditTable\' style=\'border:0px none;margin-top:5px\' id=\'"+y+"_2\'><tbody><tr><td colspan=\'2\'><hr class=\'"+m.call(p,"dialog.hr")+"\' style=\'margin:1px\'/></td></tr><tr><td class=\'EditButton EditButton-"+b.direction+"\'  style=\'float:"+("rtl"===b.direction?"right":"left")+";\'>"+A+I+"</td><td class=\'EditButton EditButton-"+b.direction+"\'>"+k+G+"</td></tr></tbody></table>",y=a(y),w.gbox="#gbox_"+y,w.height="auto",y="#"+y,e(y).jqFilter({columns:T,filter:w.loadDefaults?D:null,showQuery:w.showQuery,errorcheck:w.errorcheck,sopt:w.sopt,groupButton:w.multipleGroup,ruleButtons:w.multipleSearch,afterRedraw:w.afterRedraw,ops:w.odata,cops:b.customSortOperations,operands:w.operands,ajaxSelectOptions:b.ajaxSelectOptions,groupOps:w.groupOps,onChange:function(){this.p.showQuery&&e(".query",this).html(this.toUserFriendlyString()),r.call(p,w.afterChange,"jqGridFilterAfterChange",e(y),w)},direction:b.direction,id:b.id}),_.append(G),O&&w.tmplFilters&&w.tmplFilters.length&&e(".ui-template",_).bind("change",function(){var t=e(this).val();return"default"===t?e(y).jqFilter("addFilter",D):e(y).jqFilter("addFilter",w.tmplFilters[parseInt(t,10)]),!1}),!0===w.multipleGroup&&(w.multipleSearch=!0),R("onInitialize",e(y)),w.layer?n.call(p,C,_,w,S,e(q)[0],"#"+a(w.layer),{position:"relative"}):n.call(p,C,_,w,S,e(q)[0]),(w.searchOnEnter||w.closeOnEscape)&&e(j).keydown(function(t){var i=e(t.target);return!w.searchOnEnter||13!==t.which||i.hasClass("add-group")||i.hasClass("add-rule")||i.hasClass("delete-group")||i.hasClass("delete-rule")||i.hasClass("fm-button")&&i.is("[id$=_query]")?w.closeOnEscape&&27===t.which?(e("#"+a(C.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:(e(y+"_search").click(),!1)}),k&&e(y+"_query").bind("click",function(){return e(".queryresult",_).toggle(),!1}),void 0===w.stringResult&&(w.stringResult=w.multipleSearch),e(y+"_search").bind("click",function(){var t,i,a={},l=e(y);if(i=l.find(".input-elm"),i.filter(":focus")&&(i=i.filter(":focus")),i.change(),i=l.jqFilter("filterData"),w.errorcheck&&(l[0].hideError(),w.showQuery||l.jqFilter("toSQLString"),l[0].p.error))return l[0].showError(),!1;if(w.stringResult||"local"===b.datatype){try{t=xmlJsonClass.toJson(i,"","",!1)}catch(n){try{t=JSON.stringify(i)}catch(s){}}"string"==typeof t&&(a[w.sFilter]=t,e.each([w.sField,w.sValue,w.sOper],function(){a[this]=""}))}else w.multipleSearch?(a[w.sFilter]=i,e.each([w.sField,w.sValue,w.sOper],function(){a[this]=""})):(a[w.sField]=i.rules[0].field,a[w.sValue]=i.rules[0].data,a[w.sOper]=i.rules[0].op,a[w.sFilter]="");return b.search=!0,e.extend(b.postData,a),r.call(p,w.onSearch,"jqGridFilterSearch",b.filters)&&g.trigger("reloadGrid",[e.extend({page:1},w.reloadGridSearchOptions||{})]),w.closeAfterSearch&&o(j,{gb:q,jqm:w.jqModal,onClose:w.onClose,removemodal:w.removemodal}),!1}),e(y+"_reset").bind("click",function(){var t={},i=e(y);return b.search=!1,b.resetsearch=!0,!1===w.multipleSearch?t[w.sField]=t[w.sValue]=t[w.sOper]="":t[w.sFilter]="",i[0].resetFilter(),O&&e(".ui-template",_).val("default"),e.extend(b.postData,t),r.call(p,w.onReset,"jqGridFilterReset")&&g.trigger("reloadGrid",[e.extend({page:1},w.reloadGridResetOptions||{})]),w.closeAfterReset&&o(j,{gb:q,jqm:w.jqModal,onClose:w.onClose,removemodal:w.removemodal}),!1}),c(e(y));var M=v.call(p,"hover");e(".fm-button:not(."+v.call(p,"disabled").split(" ").join(".")+")",_).hover(function(){e(this).addClass(M)},function(){e(this).removeClass(M)})}}})},editGridRow:function(r,p){return this.each(function(){function w(){return e(V+" > tbody > tr > td .FormElement").each(function(){var i=e(".customelement",this),r=this.name;if(i.length){if(r=i.attr("name"),i=Q[r],void 0!==i&&(i=X[i],i=i.editoptions||{},e.isFunction(i.custom_value))){try{if(I[r]=i.custom_value.call(F,e("#"+a(r),V),"get"),void 0===I[r])throw"e1"}catch(o){"e1"===o?s.call(F,Z,"function \'custom_value\' "+E.msg.novalue,E.bClose):s.call(F,Z,o.message,E.bClose)}return!0}}else{switch(e(this)[0].type){case"checkbox":I[r]=e(this).is(":checked")?e(this).val():e(this).data("offval");break;case"select-one":I[r]=e("option:selected",this).val();break;case"select-multiple":I[r]=e(this).val(),I[r]=I[r]?I[r].join(","):"",e("option:selected",this).each(function(t,i){e(i).text()});break;case"password":case"text":case"textarea":case"button":I[r]=e(this).val();break;case"date":I[r]=e(this).val(),3===String(I[r]).split("-").length&&(i=Q[r],void 0!==i&&(i=X[i],i=i.formatoptions||{},i=i.newformat||A.call(G,"formatter.date.newformat"),I[r]=t.parseDate.call(G[0],"Y-m-d",I[r],i)))}k.autoencode&&(I[r]=t.htmlEncode(I[r]))}}),!0}function y(i,r,o){var l,n=0,s=[],d=!1,c="";for(l=1;o>=l;l++)c+="<td class=\'CaptionTD\'>&#160;</td><td class=\'DataTD\'>&#160;</td>";return"_empty"!==i&&(d=u.getInd.call(G,i)),e(X).each(function(l){var u,h,p,f,g,v=this.name;u=this.editable;var w=!1,y=!1;switch(g="_empty"===i?"addForm":"editForm",e.isFunction(u)&&(u=u.call(F,{rowid:i,iCol:l,iRow:d,cmName:v,cm:this,mode:g})),f=(this.editrules&&!0===this.editrules.edithidden?0:!0===this.hidden||"hidden"===u)?"style=\'display:none\'":"",String(u).toLowerCase()){case"hidden":u=!0;break;case"disabled":w=u=!0;break;case"readonly":y=u=!0}if("cb"!==v&&"subgrid"!==v&&!0===u&&"rn"!==v){if(!1===d)p="";else{u=e(F.rows[d].cells[l]);try{p=e.unformat.call(F,u,{rowId:i,colModel:this},l)}catch(x){p=this.edittype&&"textarea"===this.edittype?u.text():u.html()}b(p)&&(p="")}u=e.extend({},this.editoptions||{},{id:v,name:v,rowId:i,mode:g});var C=e.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),j=parseInt(C.rowpos,10)||n+1,q=parseInt(2*(parseInt(C.colpos,10)||1),10);if("_empty"===i&&u.defaultValue&&(p=e.isFunction(u.defaultValue)?u.defaultValue.call(F):u.defaultValue),this.edittype||(this.edittype="text"),k.autoencode&&(p=t.htmlDecode(p)),g=t.createEl.call(F,this.edittype,u,p,!1,e.extend({},t.ajaxOptions,k.ajaxSelectOptions||{})),(E.checkOnSubmit||E.checkOnUpdate)&&(E._savedData[v]=p),e(g).addClass("FormElement"),-1<e.inArray(this.edittype,["text","textarea","password","select"])&&e(g).addClass(m.call(F,"dialog.dataField")),h=e(r).find("tr[data-rowpos="+j+"]"),C.rowabove){var S=e("<tr><td class=\'contentinfo\' colspan=\'"+2*o+"\'>"+C.rowcontent+"</td></tr>");e(r).append(S),S[0].rp=j}0===h.length&&(h=e("<tr "+f+" data-rowpos=\'"+j+"\'></tr>").addClass("FormData").attr("id","tr_"+v),e(h).append(c),e(r).append(h),h[0].rp=j),f=e("td:eq("+(q-2)+")",h[0]),h=e("td:eq("+(q-1)+")",h[0]),f.html(void 0===C.label?k.colNames[l]:C.label||"&#160;"),h[b(h.html())?"html":"append"](C.elmprefix).append(g).append(C.elmsuffix),w?(f.addClass(ie),h.addClass(ie),e(g).prop("readonly",!0),e(g).prop("disabled",!0)):y&&e(g).prop("readonly",!0),"custom"===this.edittype&&e.isFunction(u.custom_value)&&u.custom_value.call(F,e("#"+a(v),z),"set",p),t.bindEv.call(F,g,u),s[n]=l,n++}}),n>0&&(l=e("<tr class=\'FormData\' style=\'display:none\'><td class=\'CaptionTD\'>&#160;</td><td colspan=\'"+(2*o-1)+"\' class=\'DataTD\'><input class=\'FormElement\' id=\'id_g\' type=\'text\' name=\'"+T+"_id\' value=\'"+i+"\'/></td></tr>"),l[0].rp=n+999,e(r).append(l),E.checkOnSubmit||E.checkOnUpdate)&&(E._savedData[T+"_id"]=i),s}function x(i,r){var o,l,n,d,c,h,p=0;(E.checkOnSubmit||E.checkOnUpdate)&&(E._savedData={},E._savedData[T+"_id"]=i);var f=k.colModel;if("_empty"===i)e(f).each(function(){o=this.name,d=e.extend({},this.editoptions||{}),(n=e("#"+a(o),r))&&n.length&&null!==n[0]&&(c="","custom"===this.edittype&&e.isFunction(d.custom_value)?d.custom_value.call(F,n,"set",c):d.defaultValue?(c=e.isFunction(d.defaultValue)?d.defaultValue.call(F):d.defaultValue,"checkbox"===n[0].type?(h=c.toLowerCase(),0>h.search(/(false|f|0|no|n|off|undefined)/i)&&""!==h?(n[0].checked=!0,n[0].defaultChecked=!0,n[0].value=c):(n[0].checked=!1,n[0].defaultChecked=!1)):n.val(c)):"checkbox"===n[0].type?(n[0].checked=!1,n[0].defaultChecked=!1,c=e(n).data("offval")):n[0].type&&"select"===n[0].type.substr(0,6)?n[0].selectedIndex=0:n.val(c),!0===E.checkOnSubmit||E.checkOnUpdate)&&(E._savedData[o]=c)}),e("#id_g",r).val(i);else{var g=u.getInd.call(G,i,!0);g&&(e(g.cells).filter("td[role=gridcell]").each(function(n){if(o=f[n].name,"cb"!==o&&"subgrid"!==o&&"rn"!==o&&!0===f[n].editable){try{l=e.unformat.call(F,e(this),{rowId:i,colModel:f[n]},n)}catch(d){l="textarea"===f[n].edittype?e(this).text():e(this).html()}switch(k.autoencode&&(l=t.htmlDecode(l)),(!0===E.checkOnSubmit||E.checkOnUpdate)&&(E._savedData[o]=l),o="#"+a(o),f[n].edittype){case"password":case"text":case"button":case"image":case"textarea":b(l)&&(l=""),e(o,r).val(l);break;case"select":var c=l.split(","),c=e.map(c,function(t){return e.trim(t)});e(o+" option",r).each(function(){var t=e(this),i=e.trim(t.val()),t=e.trim(t.text());f[n].editoptions.multiple||e.trim(l)!==t&&c[0]!==t&&c[0]!==i?f[n].editoptions.multiple&&(-1<e.inArray(t,c)||-1<e.inArray(i,c))?this.selected=!0:this.selected=!1:this.selected=!0});break;case"checkbox":l=String(l),f[n].editoptions&&f[n].editoptions.value?f[n].editoptions.value.split(":")[0]===l?e(o,r)[Y]({checked:!0,defaultChecked:!0}):e(o,r)[Y]({checked:!1,defaultChecked:!1}):(l=l.toLowerCase(),0>l.search(/(false|f|0|no|n|off|undefined)/i)&&""!==l?(e(o,r)[Y]("checked",!0),e(o,r)[Y]("defaultChecked",!0)):(e(o,r)[Y]("checked",!1),e(o,r)[Y]("defaultChecked",!1)));break;case"custom":try{if(!f[n].editoptions||!e.isFunction(f[n].editoptions.custom_value))throw"e1";f[n].editoptions.custom_value.call(F,e(o,r),"set",l)}catch(u){"e1"===u?s.call(F,Z,"function \'custom_value\' "+E.msg.nodefined,E.bClose):s.call(F,Z,u.message,E.bClose)}}p++}}),p>0&&e("#id_g",V).val(i))}}function C(){var t=E.url||k.editurl;e.each(X,function(i,r){var a=r.name,o=I[a];"date"!==r.formatter||null!=r.formatoptions&&!0===r.formatoptions.sendFormatted||(I[a]=e.unformat.date.call(F,o,r)),"clientArray"!==t&&r.editoptions&&!0===r.editoptions.NullIfEmpty&&I.hasOwnProperty(a)&&""===o&&(I[a]="null")})}function j(){var i,r,a,l,n,s=[!0,"",""],d={},c=k.prmNames,h=G.triggerHandler("jqGridAddEditBeforeCheckValues",[e(z),N]);h&&"object"==typeof h&&(I=h),e.isFunction(E.beforeCheckValues)&&(h=E.beforeCheckValues.call(F,I,e(z),N))&&"object"==typeof h&&(I=h);for(a in I)if(I.hasOwnProperty(a)&&(s=t.checkValues.call(F,I[a],a),!1===s[0]))break;if(C(),s[0]&&(d=G.triggerHandler("jqGridAddEditClickSubmit",[E,I,N]),void 0===d&&e.isFunction(E.onclickSubmit)&&(d=E.onclickSubmit.call(F,E,I,N)||{}),s=G.triggerHandler("jqGridAddEditBeforeSubmit",[I,e(z),N]),void 0===s&&(s=[!0,"",""]),s[0]&&e.isFunction(E.beforeSubmit)&&(s=E.beforeSubmit.call(F,I,e(z),N))),s[0]&&!E.processing){if(E.processing=!0,e("#sData",L).addClass(ae),a=E.url||k.editurl,r=c.oper,i="clientArray"===a&&!1!==k.keyName?k.keyName:c.id,I[r]="_empty"===e.trim(I[T+"_id"])?c.addoper:c.editoper,I[r]!==c.addoper?I[i]=I[T+"_id"]:void 0===I[i]&&(I[i]=I[T+"_id"]),delete I[T+"_id"],I=e.extend(I,E.editData,d),!0===k.treeGrid)for(n in I[r]===c.addoper&&(l=k.selrow,I["adjacency"===k.treeGridModel?k.treeReader.parent_id_field:"parent_id"]=l),k.treeReader)k.treeReader.hasOwnProperty(n)&&(d=k.treeReader[n],!I.hasOwnProperty(d)||I[r]===c.addoper&&"parent_id_field"===n||delete I[d]);I[i]=t.stripPref(k.idPrefix,I[i]),n=e.extend({url:a,type:E.mtype,data:t.serializeFeedback.call(F,e.isFunction(E.serializeEditData)?E.serializeEditData:k.serializeEditData,"jqGridAddEditSerializeEditData",I),complete:function(a,n){if(e("#sData",L).removeClass(ae),I[i]=k.idPrefix+e("#id_g",V).val(),300<=a.status&&304!==a.status||0===a.status&&4===a.readyState?(s[0]=!1,s[1]=G.triggerHandler("jqGridAddEditErrorTextFormat",[a,N]),e.isFunction(E.errorTextFormat)?s[1]=E.errorTextFormat.call(F,a,N):s[1]=n+" Status: \'"+a.statusText+"\'. Error code: "+a.status):(s=G.triggerHandler("jqGridAddEditAfterSubmit",[a,I,N]),void 0===s&&(s=[!0,"",""]),s[0]&&e.isFunction(E.afterSubmit)&&(s=E.afterSubmit.call(F,a,I,N))),!1===s[0])e("#FormError>td",V).html(s[1]),e("#FormError",V).show();else{k.autoencode&&e.each(I,function(e,i){I[e]=t.htmlDecode(i)});var d=[e.extend({},E.reloadGridOptions||{})];if(I[r]===c.addoper?(s[2]||(s[2]=t.randId()),null==I[i]||"_empty"===I[i]||I[r]===c.addoper?I[i]=s[2]:s[2]=I[i],E.reloadAfterSubmit?G.trigger("reloadGrid",d):!0===k.treeGrid?u.addChildNode.call(G,s[2],l,I):u.addRowData.call(G,s[2],I,E.addedrow),E.closeAfterAdd?(!0!==k.treeGrid&&M.call(G,s[2]),o(W,{gb:U,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form})):E.clearAfterAdd&&x("_empty",z)):(E.reloadAfterSubmit?(G.trigger("reloadGrid",d),E.closeAfterEdit||setTimeout(function(){M.call(G,I[i])},1e3)):!0===k.treeGrid?u.setTreeRow.call(G,I[i],I):u.setRowData.call(G,I[i],I),E.closeAfterEdit&&o(W,{gb:U,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form})),e.isFunction(E.afterComplete)){var h=a;setTimeout(function(){G.triggerHandler("jqGridAddEditAfterComplete",[h,I,e(z),N]),E.afterComplete.call(F,h,I,e(z),N),h=null},50)}if((E.checkOnSubmit||E.checkOnUpdate)&&(e(z).data("disabled",!1),"_empty"!==E._savedData[T+"_id"]))for(var p in E._savedData)E._savedData.hasOwnProperty(p)&&I[p]&&(E._savedData[p]=I[p])}E.processing=!1;try{e(":input:visible",z)[0].focus()}catch(f){}}},t.ajaxOptions,E.ajaxEditOptions),n.url||E.useDataProxy||(e.isFunction(k.dataProxy)?E.useDataProxy=!0:(s[0]=!1,s[1]+=" "+t.errors.nourl)),s[0]&&(E.useDataProxy?(d=k.dataProxy.call(F,n,"set_"+T),void 0===d&&(d=[!0,""]),!1===d[0]?(s[0]=!1,s[1]=d[1]||"Error deleting the selected row!"):(n.data.oper===c.addoper&&E.closeAfterAdd&&o(W,{gb:U,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form}),n.data.oper===c.editoper&&E.closeAfterEdit&&o(W,{gb:U,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form}))):"clientArray"===n.url?(E.reloadAfterSubmit=!1,I=n.data,n.complete({status:200,statusText:""},"")):e.ajax(n))}!1===s[0]&&(e("#FormError>td",V).html(s[1]),e("#FormError",V).show())}function q(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&String(e[i])!==String(t[i])){r=!0;break}return r}function S(){var t=!0;return e("#FormError",V).hide(),E.checkOnUpdate&&(I={},w(),O=q(I,E._savedData))&&(e(z).data("disabled",!0),e(".confirm",W).show(),t=!1),t}function D(){var i=t.detectRowEditing.call(F,r);if(null!=i)if("inlineEditing"===i.mode)u.restoreRow.call(G,r);else{var i=i.savedRow,a=F.rows[i.id];u.restoreCell.call(G,i.id,i.ic),e(a.cells[i.ic]).removeClass("edit-cell "+re),e(a).addClass(re).attr({"aria-selected":"true",tabindex:"0"})}}function R(t,i){var r=i[1].length-1;0===t?e("#pData",L).addClass(ie):void 0!==i[1][t-1]&&c(e("#"+a(i[1][t-1])),ie)?e("#pData",L).addClass(ie):e("#pData",L).removeClass(ie),t===r?e("#nData",L).addClass(ie):void 0!==i[1][t+1]&&c(e("#"+a(i[1][t+1])),ie)?e("#nData",L).addClass(ie):e("#nData",L).removeClass(ie)}function _(){var t=u.getDataIDs.call(G),i=e("#id_g",V).val();return[e.inArray(i,t),t]}var F=this,G=e(F),k=F.p;if(F.grid&&null!=k&&r){var I,O,N,T=k.id,A=u.getGridRes,M=u.setSelection,E=e.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:"ui-widget-overlay",removemodal:!0,form:"edit"},A.call(G,"edit"),t.edit,k.formEditing||{},p||{}),z="FrmGrid_"+T,P=z,B="TblGrid_"+T,V="#"+a(B),L=V+"_2",H={themodal:"editmod"+T,modalhead:"edithd"+T,modalcontent:"editcnt"+T,resizeAlso:z},W="#"+a(H.themodal),U=k.gBox,Y=k.propOrAttr,X=k.colModel,Q=k.iColByName,J=1,$=0,K=E.commonIconClass,Z=A.call(G,"errors.errcap"),ee=function(){var t=e.makeArray(arguments);return t.unshift(""),t.unshift("AddEdit"),t.unshift(E),i.apply(F,t)},te=v.call(F,"hover"),ie=v.call(F,"disabled"),re=v.call(F,"select"),ae=v.call(F,"active"),oe=v.call(F,"error"),z="#"+a(z);if("new"===r?(r="_empty",N="add",E.caption=E.addCaption):(E.caption=E.editCaption,N="edit"),!E.recreateForm){var le=G.data("formProp");le&&(le.top=Math.max(le.top,0),le.left=Math.max(le.left,0),e.extend(E,le))}le=!0,!E.checkOnUpdate||!0!==E.jqModal&&void 0!==E.jqModal||E.modal||(le=!1);var ne=isNaN(E.dataheight)?E.dataheight:E.dataheight+"px",se=isNaN(E.datawidth)?E.datawidth:E.datawidth+"px",P=e("<form name=\'FormPost\' id=\'"+P+"\' class=\'FormGrid\' onSubmit=\'return false;\' style=\'width:"+se+";overflow:auto;position:relative;height:"+ne+";\'></form>").data("disabled",!1),de=e("<table id=\'"+B+"\' class=\'EditTable\'"+(t.msie&&8>t.msiever()?" cellspacing=\'0\'":"")+"><tbody></tbody></table>");if(e(X).each(function(){var e=this.formoptions;J=Math.max(J,e?e.colpos||0:0),$=Math.max($,e?e.rowpos||0:0)}),\ne(P).append(de),oe=e("<tr id=\'FormError\' style=\'display:none\'><td class=\'"+oe+"\' colspan=\'"+2*J+"\'>&#160;</td></tr>"),oe[0].rp=0,e(de).append(oe),oe=e("<tr style=\'display:none\' class=\'tinfo\'><td class=\'topinfo\' colspan=\'"+2*J+"\'>"+(E.topinfo||"&#160;")+"</td></tr>"),oe[0].rp=0,e(de).append(oe),ee("beforeInitData",P,N)){D(),ne=(oe="rtl"===k.direction?!0:!1)?"nData":"pData",se=oe?"pData":"nData",y(r,de,J);var ne=h.call(F,ne,"",d(K,E.prevIcon),"","left"),se=h.call(F,se,"",d(K,E.nextIcon),"","right"),ce=h.call(F,"sData",E.bSubmit),ue=h.call(F,"cData",E.bCancel),B="<table"+(t.msie&&8>t.msiever()?" cellspacing=\'0\'":"")+" class=\'EditTable\' id=\'"+B+"_2\'><tbody><tr><td colspan=\'2\'><hr class=\'"+m.call(F,"dialog.hr")+"\' style=\'margin:1px\'/></td></tr><tr id=\'Act_Buttons\'><td class=\'navButton navButton-"+k.direction+"\'>"+(oe?se+ne:ne+se)+"</td><td class=\'EditButton EditButton-"+k.direction+"\'>"+ce+"&#160;"+ue+"</td></tr>",B=B+("<tr style=\'display:none\' class=\'binfo\'><td class=\'bottominfo\' colspan=\'2\'>"+(E.bottominfo||"&#160;")+"</td></tr>"),B=B+"</tbody></table>";if($>0){var he=[];e.each(e(de)[0].rows,function(e,t){he[e]=t}),he.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(he,function(t,i){e("tbody",de).append(i)})}E.gbox=U;var pe=!1;!0===E.closeOnEscape&&(E.closeOnEscape=!1,pe=!0),B=e("<div></div>").append(P).append(B),n.call(F,H,B,E,k.gView,e(U)[0]),E.topinfo&&e(".tinfo",V).show(),E.bottominfo&&e(".binfo",L).show(),B=B=null,e(W).keydown(function(t){var i,r,a=(t.target.tagName||"").toUpperCase();if(!0===e(z).data("disabled"))return!1;if(13===t.which&&"TEXTAREA"!==a){if(i=e(L).find(":focus"),r=i.attr("id"),0<i.length&&0<=e.inArray(r,["pData","nData","cData"]))return i.trigger("click"),!1;if(!0===E.savekey[0]&&13===E.savekey[1])return e("#sData",L).trigger("click"),!1}if(!0===E.savekey[0]&&t.which===E.savekey[1]&&"TEXTAREA"!==a)return e("#sData",L).trigger("click"),!1;if(27===t.which)return S()?(pe&&o(W,{gb:E.gbox,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form}),!1):!1;if(!0===E.navkeys[0]){if("_empty"===e("#id_g",V).val())return!0;if(t.which===E.navkeys[1])return e("#pData",L).trigger("click"),!1;if(t.which===E.navkeys[2])return e("#nData",L).trigger("click"),!1}}),E.checkOnUpdate&&(e("a.ui-jqdialog-titlebar-close span",W).removeClass("jqmClose"),e("a.ui-jqdialog-titlebar-close",W).unbind("click").click(function(){return S()?(o(W,{gb:U,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form}),!1):!1})),g(e("#sData",L),E.saveicon,K),g(e("#cData",L),E.closeicon,K),(E.checkOnSubmit||E.checkOnUpdate)&&(ce=h.call(F,"sNew",E.bYes),se=h.call(F,"nNew",E.bNo),ue=h.call(F,"cNew",E.bExit),H=E.zIndex||999,H++,e("<div class=\'"+E.overlayClass+" jqgrid-overlay confirm\' style=\'z-index:"+H+";display:none;\'>&#160;</div><div class=\'"+m.call(F,"dialog.content","confirm ui-jqconfirm")+"\' style=\'z-index:"+(H+1)+"\'>"+E.saveData+"<br/><br/>"+ce+se+ue+"</div>").insertAfter(z),e("#sNew",W).click(function(){return j(),e(z).data("disabled",!1),e(".confirm",W).hide(),!1}),e("#nNew",W).click(function(){return e(".confirm",W).hide(),e(z).data("disabled",!1),setTimeout(function(){e(":input:visible",z)[0].focus()},0),!1}),e("#cNew",W).click(function(){return e(".confirm",W).hide(),e(z).data("disabled",!1),o(W,{gb:U,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form}),!1})),ee("onInitializeForm",e(z),N),"_empty"!==r&&E.viewPagerButtons?e("#pData,#nData",L).show():e("#pData,#nData",L).hide(),ee("beforeShowForm",e(z),N),e(W).data("onClose",E.onClose),l(W,{gbox:U,jqm:E.jqModal,overlay:E.overlay,modal:E.modal,overlayClass:E.overlayClass,toTop:E.toTop,onHide:function(e){f.call(G,"formProp",z,e)}}),le||e("."+a(E.overlayClass)).click(function(){return S()?(o(W,{gb:U,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form}),!1):!1}),e(".fm-button",W).hover(function(){e(this).addClass(te)},function(){e(this).removeClass(te)}),e("#sData",L).click(function(){return I={},e("#FormError",V).hide(),w(),"_empty"===I[T+"_id"]?j():!0===E.checkOnSubmit&&(O=q(I,E._savedData))?(e(z).data("disabled",!0),e(".confirm",W).show()):j(),!1}),e("#cData",L).click(function(){return S()?(o(W,{gb:U,jqm:E.jqModal,onClose:E.onClose,removemodal:E.removemodal,formprop:!E.recreateForm,form:E.form}),!1):!1}),e("#nData",L).click(function(){if(!S())return!1;e("#FormError",V).hide();var t=_();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){if(!ee("onclickPgButtons","next",e(z),t[1][t[0]]))return!1;x(t[1][t[0]+1],z),M.call(G,t[1][t[0]+1]),ee("afterclickPgButtons","next",e(z),t[1][t[0]+1]),R(t[0]+1,t)}return!1}),e("#pData",L).click(function(){if(!S())return!1;e("#FormError",V).hide();var t=_();if(-1!==t[0]&&t[1][t[0]-1]){if(!ee("onclickPgButtons","prev",e(z),t[1][t[0]])||c(e("#"+a(t[1][t[0]-1])),ie))return!1;x(t[1][t[0]-1],z),M.call(G,t[1][t[0]-1]),ee("afterclickPgButtons","prev",e(z),t[1][t[0]-1]),R(t[0]-1,t)}return!1}),ee("afterShowForm",e(z),N),H=_(),R(H[0],H)}}})},viewGridRow:function(r,s){return this.each(function(){function p(){!0!==R.closeOnEscape&&!0!==R.navkeys[0]||setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+a(N.modalhead)).attr("tabindex","-1").focus()},0)}function w(i,r,a){var o,l,n,s,d,c,h=0,p=[],f=u.getInd.call(q,i);c=m.call(j,"dialog.viewData","DataTD form-view-data");var g,v,w,y=m.call(j,"dialog.viewLabel","CaptionTD form-view-label"),x="<td class=\'"+y+"\' width=\'"+R.labelswidth+"\'>&#160;</td><td class=\'"+c+" ui-helper-reset\'>&#160;</td>",C="",y="<td class=\'"+y+"\'></td><td class=\'"+c+"\'></td>",D=["integer","number","currency"],_=0,F=0;for(c=1;a>=c;c++)C+=1===c?x:y;return e(M).each(function(){(l=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)||"right"!==this.align||(this.formatter&&-1!==e.inArray(this.formatter,D)?_=Math.max(_,parseInt(this.width,10)):F=Math.max(F,parseInt(this.width,10)))}),g=0!==_?_:0!==F?F:0,e(M).each(function(i){if(o=this.name,v=!1,d=(l=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style=\'display:none\'":"",w="boolean"!=typeof this.viewable?!0:this.viewable,"cb"!==o&&"subgrid"!==o&&"rn"!==o&&w){s=!1===f?"":t.getDataFieldOfCell.call(j,j.rows[f],i).html(),v="right"===this.align&&0!==g?!0:!1;var c=e.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),u=parseInt(c.rowpos,10)||h+1,m=parseInt(2*(parseInt(c.colpos,10)||1),10);if(c.rowabove){var y=e("<tr><td class=\'contentinfo\' colspan=\'"+2*a+"\'>"+c.rowcontent+"</td></tr>");e(r).append(y),y[0].rp=u}n=e(r).find("tr[data-rowpos="+u+"]"),0===n.length&&(n=e("<tr "+d+" data-rowpos=\'"+u+"\'></tr>").addClass("FormData").attr("id","trv_"+o),e(n).append(C),e(r).append(n),n[0].rp=u),c=void 0===c.label?S.colNames[i]:c.label,u=e("td:eq("+(m-1)+")",n[0]),e("td:eq("+(m-2)+")",n[0]).html("<b>"+(c||"&nbsp;")+"</b>"),u[b(u.html())?"html":"append"]("<span>"+(s||"&nbsp;")+"</span>").attr("id","v_"+o),v&&e("td:eq("+(m-1)+") span",n[0]).css({"text-align":"right",width:g+"px"}),p[h]=i,h++}}),h>0&&(i=e("<tr class=\'FormData\' style=\'display:none\'><td class=\'CaptionTD\'>&#160;</td><td colspan=\'"+(2*a-1)+"\' class=\'DataTD\'><input class=\'FormElement\' id=\'id_g\' type=\'text\' name=\'id\' value=\'"+i+"\'/></td></tr>"),i[0].rp=h+99,e(r).append(i)),p}function y(i){var r,o,l,n=0,s=u.getInd.call(q,i,!0);s&&(e("td",s).each(function(i){l=M[i],r=l.name,o=l.editrules&&!0===l.editrules.edithidden?!1:!0===l.hidden?!0:!1,"cb"!==r&&"subgrid"!==r&&"rn"!==r&&(r=a("v_"+r),e("#"+r+" span",F).html(t.getDataFieldOfCell.call(j,s,i).html()),o&&e("#"+r,F).parents("tr:first").hide(),n++)}),n>0&&e("#id_g",F).val(i))}function x(t,i){var r=i[1].length-1;0===t?e("#pData",G).addClass(V):void 0!==i[1][t-1]&&c(e("#"+a(i[1][t-1])),V)?e("#pData",G).addClass(V):e("#pData",G).removeClass(V),t===r?e("#nData",G).addClass(V):void 0!==i[1][t+1]&&c(e("#"+a(i[1][t+1])),V)?e("#nData",G).addClass(V):e("#nData",G).removeClass(V)}function C(){var t=u.getDataIDs.call(q),i=e("#id_g",F).val();return[e.inArray(i,t),t]}var j=this,q=e(j),S=j.p;if(j.grid&&null!=S&&r){var D=S.id,R=e.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"30%",navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},u.getGridRes.call(q,"view"),t.view||{},S.formViewing||{},s||{}),_="#ViewGrid_"+a(D),F="#ViewTbl_"+a(D),G=F+"_2",k="ViewGrid_"+D,I="ViewTbl_"+D,O=R.commonIconClass,N={themodal:"viewmod"+D,modalhead:"viewhd"+D,modalcontent:"viewcnt"+D,resizeAlso:k},T="#"+a(N.themodal),A=S.gBox,M=S.colModel,E=1,z=0,P=function(){var t=e.makeArray(arguments);return t.unshift(""),t.unshift("View"),t.unshift(R),i.apply(j,t)},B=v.call(j,"hover"),V=v.call(j,"disabled");R.recreateForm||q.data("viewProp")&&e.extend(R,q.data("viewProp"));var D=isNaN(R.dataheight)?R.dataheight:R.dataheight+"px",L=isNaN(R.datawidth)?R.datawidth:R.datawidth+"px",k=e("<form name=\'FormPost\' id=\'"+k+"\' class=\'FormGrid\' style=\'width:"+L+";overflow:auto;position:relative;height:"+D+";\'></form>"),H=e("<table id=\'"+I+"\' class=\'EditTable\' cellspacing=\'1\' cellpadding=\'2\' border=\'0\' style=\'table-layout:fixed\'><tbody></tbody></table>");if(e(M).each(function(){var e=this.formoptions;E=Math.max(E,e?e.colpos||0:0),z=Math.max(z,e?e.rowpos||0:0)}),k.append(H),P("beforeInitData",k)){w(r,H,E);var W=(D="rtl"===S.direction?!0:!1)?"pData":"nData",L=h.call(j,D?"nData":"pData","",d(O,R.prevIcon),"","left"),W=h.call(j,W,"",d(O,R.nextIcon),"","right"),U=h.call(j,"cData",R.bClose);if(z>0){var Y=[];e.each(e(H)[0].rows,function(e,t){Y[e]=t}),Y.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(Y,function(t,i){e("tbody",H).append(i)})}R.gbox=A,I=e("<div></div>").append(k).append("<table border=\'0\' class=\'EditTable\' id=\'"+I+"_2\'><tbody><tr id=\'Act_Buttons\'><td class=\'navButton navButton-"+S.direction+"\' width=\'"+(R.labelswidth||"auto")+"\'>"+(D?W+L:L+W)+"</td><td class=\'EditButton EditButton-"+S.direction+"\'>"+U+"</td></tr></tbody></table>"),n.call(j,N,I,R,S.gView,e(S.gView)[0]),R.viewPagerButtons||e("#pData, #nData",G).hide(),I=null,e(T).keydown(function(t){var i,r;if(!0===e(_).data("disabled"))return!1;if(13===t.which&&(i=e(G).find(":focus"),r=i.attr("id"),0<i.length&&0<=e.inArray(r,["pData","nData","cData"])))return i.trigger("click"),!1;if(27===t.which)return R.closeOnEscape&&o(T,{gb:A,jqm:R.jqModal,onClose:R.onClose,removemodal:R.removemodal,formprop:!R.recreateForm,form:R.form}),!1;if(!0===R.navkeys[0]){if(t.which===R.navkeys[1])return e("#pData",G).trigger("click"),!1;if(t.which===R.navkeys[2])return e("#nData",G).trigger("click"),!1}}),g(e("#cData",G),R.closeicon,O),P("beforeShowForm",e(_)),l(T,{gbox:A,jqm:R.jqModal,overlay:R.overlay,toTop:R.toTop,modal:R.modal,onHide:function(e){f.call(q,"viewProp",_,e)}}),e(".fm-button:not(."+V.split(" ").join(".")+")",G).hover(function(){e(this).addClass(B)},function(){e(this).removeClass(B)}),p(),e("#cData",G).click(function(){return o(T,{gb:A,jqm:R.jqModal,onClose:R.onClose,removemodal:R.removemodal,formprop:!R.recreateForm,form:R.form}),!1}),e("#nData",G).click(function(){e("#FormError",F).hide();var t=C();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){if(!P("onclickPgButtons","next",e(_),t[1][t[0]]))return!1;y(t[1][t[0]+1]),u.setSelection.call(q,t[1][t[0]+1]),P("afterclickPgButtons","next",e(_),t[1][t[0]+1]),x(t[0]+1,t)}return p(),!1}),e("#pData",G).click(function(){e("#FormError",F).hide();var t=C();if(-1!==t[0]&&t[1][t[0]-1]){if(!P("onclickPgButtons","prev",e(_),t[1][t[0]]))return!1;y(t[1][t[0]-1]),u.setSelection.call(q,t[1][t[0]-1]),P("afterclickPgButtons","prev",e(_),t[1][t[0]-1]),x(t[0]-1,t)}return p(),!1}),O=C(),x(O[0],O)}}})},delGridRow:function(r,s){return this.each(function(){var d=this,c=d.p,p=e(d);if(d.grid&&null!=c&&r){var f,b,w,y,x=c.id,C=e.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},u.getGridRes.call(p,"del"),t.del||{},c.formDeleting||{},s||{}),j="DelTbl_"+x,q="#DelTbl_"+a(x),S={themodal:"delmod"+x,modalhead:"delhd"+x,modalcontent:"delcnt"+x,resizeAlso:j},D="#"+a(S.themodal),R=c.gBox,_=C.commonIconClass,F=function(){var t=e.makeArray(arguments);return t.unshift(""),t.unshift("Delete"),t.unshift(C),i.apply(d,t)},G=v.call(d,"hover"),k=v.call(d,"active"),I=v.call(d,"error");if(e.isArray(r)||(r=[String(r)]),void 0!==e(D)[0]){if(!F("beforeInitData",e(q)))return;e("#DelData>td",q).text(r.join()).data("rowids",r),e("#DelError",q).hide(),!0===C.processing&&(C.processing=!1,e("#dData",q).removeClass(k)),F("beforeShowForm",e(q)),l(D,{gbox:R,jqm:C.jqModal,jqM:!1,overlay:C.overlay,toTop:C.toTop,modal:C.modal})}else{var O=isNaN(C.dataheight)?C.dataheight:C.dataheight+"px",N=isNaN(C.datawidth)?C.datawidth:C.datawidth+"px",O="<div id=\'"+j+"\' class=\'formdata\' style=\'width:"+N+";overflow:auto;position:relative;height:"+O+";\'><table class=\'DelTable\'><tbody>",O=O+("<tr id=\'DelError\' style=\'display:none\'><td class=\'"+I+"\'></td></tr>"),O=O+("<tr id=\'DelData\' style=\'display:none\'><td >"+r.join()+"</td></tr>"),O=O+(\'<tr><td class="delmsg" style="white-space:pre;">\'+C.msg+"</td></tr><tr><td >&#160;</td></tr>"),O=O+"</tbody></table></div>",I=h.call(d,"dData",C.bSubmit),N=h.call(d,"eData",C.bCancel),O=O+("<table"+(t.msie&&8>t.msiever()?" cellspacing=\'0\'":"")+" class=\'EditTable\' id=\'"+j+"_2\'><tbody><tr><td><hr class=\'"+m.call(d,"dialog.hr")+"\' style=\'margin:1px\'/></td></tr><tr><td class=\'DelButton EditButton EditButton-"+c.direction+"\'>"+I+"&#160;"+N+"</td></tr></tbody></table>");if(C.gbox=R,n.call(d,S,O,C,c.gView,e(c.gView)[0]),e("#DelData>td",q).data("rowids",r),!F("beforeInitData",e(O)))return;e(".fm-button",q+"_2").hover(function(){e(this).addClass(G)},function(){e(this).removeClass(G)}),g(e("#dData",q+"_2"),C.delicon,_),g(e("#eData",q+"_2"),C.cancelicon,_),e("#dData",q+"_2").click(function(){var i,r=[!0,""],a=e("#DelData>td",q),l=a.text(),n=a.data("rowids"),a={};if(e.isFunction(C.onclickSubmit)&&(a=C.onclickSubmit.call(d,C,l)||{}),e.isFunction(C.beforeSubmit)&&(r=C.beforeSubmit.call(d,l)),r[0]&&!C.processing){if(C.processing=!0,w=c.prmNames,f=e.extend({},C.delData,a),y=w.oper,f[y]=w.deloper,b=w.id,l=n.slice(),!l.length)return!1;for(i in l)l.hasOwnProperty(i)&&(l[i]=t.stripPref(c.idPrefix,l[i]));f[b]=l.join(),e(this).addClass(k),i=e.extend({url:C.url||c.editurl,type:C.mtype,data:e.isFunction(C.serializeDelData)?C.serializeDelData.call(d,f):f,complete:function(t,i){var a;if(e("#dData",q+"_2").removeClass(k),300<=t.status&&304!==t.status||0===t.status&&4===t.readyState?(r[0]=!1,e.isFunction(C.errorTextFormat)?r[1]=C.errorTextFormat.call(d,t):r[1]=i+" Status: \'"+t.statusText+"\'. Error code: "+t.status):e.isFunction(C.afterSubmit)&&(r=C.afterSubmit.call(d,t,f)),!1===r[0])e("#DelError>td",q).html(r[1]),e("#DelError",q).show();else{if(C.reloadAfterSubmit&&"local"!==c.datatype)p.trigger("reloadGrid",[e.extend({},C.reloadGridOptions||{})]);else if(!0===c.treeGrid)try{u.delTreeNode.call(p,n[0])}catch(s){}else for(n=n.slice(),a=0;a<n.length;a++)u.delRowData.call(p,n[a]);setTimeout(function(){F("afterComplete",t,l,e(q))},50)}C.processing=!1,r[0]&&o(D,{gb:R,jqm:C.jqModal,onClose:C.onClose,removemodal:C.removemodal})}},t.ajaxOptions,C.ajaxDelOptions),i.url||C.useDataProxy||(e.isFunction(c.dataProxy)?C.useDataProxy=!0:(r[0]=!1,r[1]+=" "+t.errors.nourl)),r[0]&&(C.useDataProxy?(i=c.dataProxy.call(d,i,"del_"+x),void 0===i&&(i=[!0,""]),!1===i[0]?(r[0]=!1,r[1]=i[1]||"Error deleting the selected row!"):o(D,{gb:R,jqm:C.jqModal,onClose:C.onClose,removemodal:C.removemodal})):"clientArray"===i.url?(f=i.data,i.complete({status:200,statusText:""},"")):e.ajax(i))}return!1===r[0]&&(e("#DelError>td",q).html(r[1]),e("#DelError",q).show()),!1}),e("#eData",q+"_2").click(function(){return o(D,{gb:R,jqm:C.jqModal,onClose:C.onClose,removemodal:C.removemodal}),!1}),F("beforeShowForm",e(q)),l(D,{gbox:R,jqm:C.jqModal,overlay:C.overlay,toTop:C.toTop,modal:C.modal})}F("afterShowForm",e(q)),!0===C.closeOnEscape&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+a(S.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(i,r,o,s,h,p,f){return"object"==typeof i&&(f=p,p=h,h=s,s=o,o=r,r=i,i=void 0),s=s||{},o=o||{},f=f||{},h=h||{},p=p||{},this.each(function(){var g=this,b=g.p,w=e(g);if(g.grid&&null!=b&&!(g.nav&&0<e(i).find(".navtable").length)){var y=b.id,x=e.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},u.getGridRes.call(w,"nav"),t.nav||{},b.navOptions||{},r||{});x.position=x.position||("rtl"===b.direction?"right":"left");var C,j,q=b.idSel,S=b.gBox,D=x.commonIconClass,R={themodal:"alertmod_"+y,modalhead:"alerthd_"+y,modalcontent:"alertcnt_"+y},_=function(){return function(){var t=document.documentElement,i=window,r=1024,o=768,s=w.closest(".ui-jqgrid").offset();void 0===e("#"+a(R.themodal))[0]&&(x.alerttop||x.alertleft||(void 0!==i.innerWidth?(r=i.innerWidth,o=i.innerHeight):null!=t&&void 0!==t.clientWidth&&0!==t.clientWidth&&(r=t.clientWidth,o=t.clientHeight),r=r/2-parseInt(x.alertwidth,10)/2-s.left,o=o/2-25-s.top),n.call(g,R,"<div>"+x.alerttext+"</div><span tabindex=\'0\'><span tabindex=\'-1\' id=\'"+y+"_jqg_alrt\'></span></span>",{gbox:S,jqModal:x.jqModal,drag:!0,resize:!0,caption:x.alertcap,top:null!=x.alerttop?x.alerttop:o,left:null!=x.alertleft?x.alertleft:r,width:x.alertwidth,height:x.alertheight,closeOnEscape:x.closeOnEscape,zIndex:x.alertzIndex,removemodal:x.removemodal},b.gView,e(S)[0],!1)),l("#"+a(R.themodal),{gbox:S,toTop:x.alertToTop,jqm:x.jqModal});var d=e("#"+a(R.modalhead)).find(".ui-jqdialog-titlebar-close");d.attr({tabindex:"0",href:"#",role:"button"}),setTimeout(function(){d.focus()},50)}}(),F=function(t){return 13===t.which&&(t=e(this).find(":focus"),0<t.length)?(t.trigger("click"),!1):void 0},G=v.call(g,"hover"),k=v.call(g,"disabled");if(g.grid){g.modalAlert=_,void 0===i&&(b.pager?(i=b.pager,b.toppager&&(x.cloneToTop=!0)):b.toppager&&(i=b.toppager));var I,O,N,T,A,M=1,E=["left","center","right"],z="<div class=\'ui-pg-button "+k+"\'><span class=\'ui-separator\'></span></div>",P=function(){c(this,k)||e(this).addClass(G)},B=function(){e(this).removeClass(G)},V=function(){return c(this,k)||(e.isFunction(x.addfunc)?x.addfunc.call(g):u.editGridRow.call(w,"new",s)),!1},L=function(t,i,r){if(!c(this,k)){var a=b.selrow;a?e.isFunction(t)?t.call(g,a):u[i].call(w,a,r):_()}return!1},H=function(){return L.call(this,x.editfunc,"editGridRow",o)},W=function(){return L.call(this,x.viewfunc,"viewGridRow",f)},U=function(){var t;return c(this,k)||(b.multiselect?(t=b.selarrrow,0===t.length&&(t=null)):t=b.selrow,t?e.isFunction(x.delfunc)?x.delfunc.call(g,t):u.delGridRow.call(w,t,h):_()),!1},Y=function(){return c(this,k)||(e.isFunction(x.searchfunc)?x.searchfunc.call(g,p):u.searchGrid.call(w,p)),!1},X=function(){if(!c(this,k)){e.isFunction(x.beforeRefresh)&&x.beforeRefresh.call(g),b.search=!1,b.resetsearch=!0;try{if("currentfilter"!==x.refreshstate){b.postData.filters="";try{e("#fbox_"+q).jqFilter("resetFilter")}catch(t){}e.isFunction(g.clearToolbar)&&g.clearToolbar(!1)}}catch(i){}switch(x.refreshstate){case"firstpage":w.trigger("reloadGrid",[e.extend({},x.reloadGridOptions||{},{page:1})]);break;case"current":case"currentfilter":w.trigger("reloadGrid",[e.extend({},x.reloadGridOptions||{},{current:!0})])}e.isFunction(x.afterRefresh)&&x.afterRefresh.call(g)}return!1},Q=function(t,i,r,a,o){var l=e("<div class=\'ui-pg-button ui-corner-all\' tabindex=\'0\' role=\'button\'></div>"),n=x[t+"icon"],s=e.trim(x[t+"text"]);return l.append("<div class=\'ui-pg-div\'><span class=\'"+(x.iconsOverText?d("ui-pg-button-icon-over-text",D,n):d(D,n))+"\'></span>"+(s?"<span class=\'ui-pg-button-text"+(x.iconsOverText?" ui-pg-button-icon-over-text":"")+"\'>"+s+"</span>":"")+"</div>"),e(a).append(l),l.attr({title:x[t+"title"]||"",id:i||t+"_"+o}).click(r).hover(P,B),l};for(x.cloneToTop&&b.toppager&&(M=2),I=0;M>I;I++){if(j=e("<div class=\'ui-pg-table navtable\' role=\'toolbar\' style=\'float:"+("rtl"===b.direction?"right":"left")+";table-layout:auto;\'></div>"),0===I?(O=i,N=y,O===b.toppager&&(N+="_top",M=1)):(O=b.toppager,N=y+"_top"),x.add&&Q("add",s.id,V,j,N),x.edit&&Q("edit",o.id,H,j,N),x.view&&Q("view",f.id,W,j,N),x.del&&Q("del",h.id,U,j,N),(x.add||x.edit||x.del||x.view)&&e(j).append(z),x.search&&(C=Q("search",p.id,Y,j,N),p.showOnLoad&&!0===p.showOnLoad&&e(C,j).click()),x.refresh&&Q("refresh","",X,j,N),C=e(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",e("body").append("<div id=\'testpg2\' class=\'"+m.call(g,"gBox","ui-jqgrid")+"\' style=\'font-size:"+C+";visibility:hidden;\' ></div>"),C=e(j).clone().appendTo("#testpg2").width(),e("#testpg2").remove(),e(O+"_"+x.position,O).append(j),x.hideEmptyPagerParts)for(N=0;N<E.length;N++)E[N]!==x.position&&(A=e(O+"_"+E[N],O),0===A.length||0===A[0].childNodes.length?A.hide():1===A[0].childNodes.length&&(T=A[0].firstChild,!e(T).is("table.ui-pg-table")||0!==T.rows&&0!==T.rows[0].cells.length||A.hide()));b._nvtd&&(C>b._nvtd[0]&&(e(O+"_"+x.position,O).width(C),b._nvtd[0]=C),b._nvtd[1]=C),g.nav=!0,j.bind("keydown.jqGrid",F)}w.triggerHandler("jqGridResetFrozenHeights")}}})},navButtonAdd:function(i,r){return"object"==typeof i&&(r=i,i=void 0),this.each(function(){var o=this,l=o.p;if(o.grid){var n=e.extend({caption:"newButton",title:"",onClickButton:null,position:"last",cursor:"pointer",iconsOverText:!1},u.getGridRes.call(e(o),"nav"),t.nav||{},l.navOptions||{},r||{}),s=v.call(o,"hover"),h=v.call(o,"disabled");if(void 0===i)if(l.pager){if(u.navButtonAdd.call(e(o),l.pager,n),!l.toppager)return;i=l.toppager}else l.toppager&&(i=l.toppager);"string"==typeof i&&0!==i.indexOf("#")&&(i="#"+a(i));var l=e(".navtable",i),p=n.commonIconClass;if(0<l.length&&!(n.id&&0<l.find("#"+a(n.id)).length)){var f=e("<div tabindex=\'0\' role=\'button\'></div>");"NONE"===n.buttonicon.toString().toUpperCase()?e(f).addClass("ui-pg-button ui-corner-all").append("<div class=\'ui-pg-div\'>"+(n.caption?"<span class=\'ui-pg-button-text"+(n.iconsOverText?" ui-pg-button-icon-over-text":"")+"\'>"+n.caption+"</span>":"")+"</div>"):e(f).addClass("ui-pg-button ui-corner-all").append("<div class=\'ui-pg-div\'><span class=\'"+(n.iconsOverText?d("ui-pg-button-icon-over-text",p,n.buttonicon):d(p,n.buttonicon))+"\'></span>"+(n.caption?"<span class=\'ui-pg-button-text"+(n.iconsOverText?" ui-pg-button-icon-over-text":"")+"\'>"+n.caption+"</span>":"")+"</div>"),n.id&&e(f).attr("id",n.id),"first"===n.position&&0<l.children("div.ui-pg-button").length?l.children("div.ui-pg-button").filter(":first").before(f):l.append(f),e(f,l).attr("title",n.title||"").click(function(t){return c(this,h)||e.isFunction(n.onClickButton)&&n.onClickButton.call(o,n,t),!1}).hover(function(){c(this,h)||e(this).addClass(s)},function(){e(this).removeClass(s)}),e(o).triggerHandler("jqGridResetFrozenHeights")}}})},navSeparatorAdd:function(t,i){return i=e.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+a(t));var r=e(".navtable",t)[0];if(0<r.length){var o="<div class=\'ui-pg-button "+v.call(this,"disabled")+"\'><span class=\'"+i.sepclass+"\'></span>"+i.sepcontent+"</div>";"first"===i.position?0===e(">div.ui-pg-button",r).length?r.append(o):e(">div.ui-pg-button",r).filter(":first").before(o):r.append(o)}}})},GridToForm:function(t,i){return this.each(function(){var r,o,l,n;if(this.grid){var s=u.getRowData.call(e(this),t),d=this.p.propOrAttr;if(s)for(r in s)if(s.hasOwnProperty(r))if(o=e("[name="+a(r)+"]",i),o.is("input:radio")||o.is("input:checkbox"))for(l=0;l<o.length;l++)n=e(o[l]),n[d]("checked",n.val()===String(s[r]));else o.val(s[r])}})},FormToGrid:function(t,i,r,a){return this.each(function(){if(this.grid){r||(r="set"),a||(a="first");var o=e(i).serializeArray(),l={};e.each(o,function(e,t){l[t.name]=t.value}),"add"===r?u.addRowData.call(e(this),t,l,a):"set"===r&&u.setRowData.call(e(this),t,l)}})}})}(jQuery),function(e){var t=e.jgrid,i=e.fn.jqGrid;t.extend({groupingSetup:function(){return this.each(function(){var r,a;a=this.p;var o,l,n=a.colModel,s=a.groupingView,d=function(){return""};if(null===s||"object"!=typeof s&&!e.isFunction(s))a.grouping=!1;else if(s.groupField.length){for(void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]),s.lastvalues=[],s._locgr||(s.groups=[]),s.counters=[],r=0;r<s.groupField.length;r++)s.groupOrder[r]||(s.groupOrder[r]="asc"),s.groupText[r]||(s.groupText[r]="{0}"),"boolean"!=typeof s.groupColumnShow[r]&&(s.groupColumnShow[r]=!0),"boolean"!=typeof s.groupSummary[r]&&(s.groupSummary[r]=!1),s.groupSummaryPos[r]||(s.groupSummaryPos[r]="footer"),o=n[a.iColByName[s.groupField[r]]],!0===s.groupColumnShow[r]?(s.visibiltyOnNextGrouping[r]=!0,null!=o&&!0===o.hidden&&i.showCol.call(e(this),s.groupField[r])):(s.visibiltyOnNextGrouping[r]=e("#"+t.jqID(a.id+"_"+s.groupField[r])).is(":visible"),null!=o&&!0!==o.hidden&&i.hideCol.call(e(this),s.groupField[r]));for(s.summary=[],s.hideFirstGroupCol&&(s.formatDisplayField[0]=function(e){return e}),r=0,a=n.length;a>r;r++)o=n[r],s.hideFirstGroupCol&&!o.hidden&&s.groupField[0]===o.name&&(o.formatter=d),o.summaryType&&(l={nm:o.name,st:o.summaryType,v:"",sr:o.summaryRound,srt:o.summaryRoundType||"round"},o.summaryDivider&&(l.sd=o.summaryDivider,l.vd=""),s.summary.push(l))}else a.grouping=!1})},groupingPrepare:function(t,r){return this.each(function(){var a,o,l,n,s=this,d=s.p.groupingView,c=d.groups,u=d.counters,h=d.lastvalues,p=d.isInTheSameGroup,f=d.groupField.length,g=0,m=i.groupingCalculations.handler,v=function(){e.isFunction(this.st)?this.v=this.st.call(s,this.v,this.nm,t):(this.v=m.call(e(s),this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=m.call(e(s),this.st,this.vd,this.sd,this.sr,this.srt,t)))};for(a=0;f>a;a++)o=d.groupField[a],l=d.displayField[a],n=t[o],l=null==l?null:t[l],null==l&&(l=n),void 0!==n&&(o={idx:a,dataIndex:o,value:n,displayValue:l,startRow:r,cnt:1,summary:[]},0===r?(c.push(o),h[a]=n,u[a]={cnt:1,pos:c.length-1,summary:e.extend(!0,[],d.summary)}):(l={cnt:1,pos:c.length,summary:e.extend(!0,[],d.summary)},"object"==typeof n||(e.isArray(p)&&e.isFunction(p[a])?p[a].call(s,h[a],n,a,d):h[a]===n)?1===g?(c.push(o),h[a]=n,u[a]=l):(u[a].cnt+=1,c[u[a].pos].cnt=u[a].cnt):(c.push(o),h[a]=n,g=1,u[a]=l)),e.each(u[a].summary,v),c[u[a].pos].summary=u[a].summary)}),this},groupingToggle:function(i){return this.each(function(){var r,a,o=this.p,l=t.jqID,n=o.groupingView,s=n.minusicon,d=n.plusicon,c=e("#"+l(i)),c=c.length?c[0].nextSibling:null,u=e("#"+l(i)+" span.tree-wrap-"+o.direction),h=!1,p=o.frozenColumns?o.id+"_frozen":!1,l=(l=p?e("#"+l(i),"#"+l(p)):!1)&&l.length?l[0].nextSibling:null;r=i.split("_");var f,g=parseInt(r[r.length-2],10),m=function(t){return t=e.map(t.split(" "),function(e){return e.substring(0,f.length+1)===f+"_"?parseInt(e.substring(f.length+1),10):void 0}),0<t.length?t[0]:void 0};if(r.splice(r.length-2,2),f=r.join("_"),u.hasClass(s)){for(;c;){if(e(c).hasClass("jqfoot")){if(r=parseInt(e(c).data("jqfootlevel"),10),(!n.showSummaryOnHide&&r===g||r>g)&&(e(c).hide(),p&&e(l).hide()),g>r)break}else{if(r=m(c.className),void 0!==r&&g>=r)break;e(c).hide(),p&&e(l).hide()}c=c.nextSibling,p&&(l=l.nextSibling)}u.removeClass(s).addClass(d),h=!0}else{for(a=void 0;c&&!(e(c).hasClass("jqfoot")&&(r=parseInt(e(c).data("jqfootlevel"),10),(r===g||n.showSummaryOnHide&&r===g+1)&&(e(c).show(),p&&e(l).show()),g>=r));){if(r=m(c.className),void 0===a&&(a=void 0===r),void 0!==r){if(g>=r)break;r===g+1&&(e(c).show().find(">td>span.tree-wrap-"+o.direction).removeClass(s).addClass(d),p&&e(l).show().find(">td>span.tree-wrap-"+o.direction).removeClass(s).addClass(d))}else a&&(e(c).show(),p&&e(l).show());c=c.nextSibling,p&&(l=l.nextSibling)}u.removeClass(d).addClass(s)}e(this).triggerHandler("jqGridGroupingClickGroup",[i,h]),e.isFunction(o.onClickGroup)&&o.onClickGroup.call(this,i,h)}),!1},groupingRender:function(i,r,a,o){function l(e,t,i){var r,a=!1;if(0===t)a=i[e];else if(r=i[e].idx,0===r)a=i[e];else for(;e>=0;e--)if(i[e].idx===r-t){a=i[e];break}return a}function n(i,a,o,n){var s=l(i,a,o),d=p.colModel,c=s.cnt;i="";var u,f,g;for(a=function(){var e;if(this.nm===d[u].name){g=d[u].summaryTpl||"{0}","string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v/=this.vd:this.v&&c>0&&(this.v/=c));try{this.groupCount=s.cnt,this.groupIndex=s.dataIndex,this.groupValue=s.value,e=h.formatter("",this.v,u,this)}catch(i){e=this.v}return f="<td "+h.formatCol(u,1,"")+">"+t.format(g,e)+"</td>",!1}},u=n;r>u;u++)f="<td "+h.formatCol(u,1,"")+">&#160;</td>",e.each(s.summary,a),i+=f;return i}var s,d,c,u="",h=this[0],p=h.p,f=0,g=p.groupingView,m=e.makeArray(g.groupSummary),v=[],b="",w=(g.groupCollapse?g.plusicon:g.minusicon)+" tree-wrap-"+p.direction,y=g.groupField.length;return e.each(p.colModel,function(e,t){var i;for(i=0;y>i;i++)if(g.groupField[i]===t.name){v[i]=e;break}}),m.reverse(),e.each(g.groups,function(l,x){if(g._locgr&&!(x.startRow+x.cnt>(a-1)*o&&x.startRow<a*o))return!0;f++,c=p.id+"ghead_"+x.idx,d=c+"_"+l,b="<span style=\'cursor:pointer;\' class=\'"+g.commonIconClass+" "+w+"\' onclick=\\"jQuery(\'#"+t.jqID(p.id).replace("\\\\","\\\\\\\\")+"\').jqGrid(\'groupingToggle\',\'"+d+"\');return false;\\"></span>";try{e.isArray(g.formatDisplayField)&&e.isFunction(g.formatDisplayField[x.idx])?(x.displayValue=g.formatDisplayField[x.idx].call(h,x.displayValue,x.value,p.colModel[v[x.idx]],x.idx,g),s=x.displayValue):s=h.formatter(d,x.displayValue,v[x.idx],x.value)}catch(C){s=x.displayValue}u+=\'<tr id="\'+d+\'"\'+(g.groupCollapse&&0<x.idx?\' style="display:none;" \':" ")+\'role="row" class="ui-widget-content jqgroup ui-row-\'+p.direction+" "+c+\'"><td style="padding-left:\'+12*x.idx+\'px;"\';var j,q,S,D=e.isFunction(g.groupText[x.idx])?g.groupText[x.idx].call(h,s,x.cnt,x.summary):t.template(g.groupText[x.idx],s,x.cnt,x.summary),R=1;if(q=0,S=y-1===x.idx,"string"!=typeof D&&"number"!=typeof D&&(D=s),"header"===g.groupSummaryPos[x.idx]?(R=1,"cb"!==p.colModel[0].name&&"cb"!==p.colModel[1].name||R++,"subgrid"!==p.colModel[0].name&&"subgrid"!==p.colModel[1].name||R++,u+=(R>1?" colspan=\'"+R+"\'":"")+">"+b+D+"</td>",u+=n(l,0,g.groups,!1===g.groupColumnShow[x.idx]?R-1:R)):u+=\' colspan="\'+(!1===g.groupColumnShow[x.idx]?r-1:r)+\'">\'+b+D+"</td>",u+="</tr>",S){for(D=g.groups[l+1],S=x.startRow,R=void 0!==D?D.startRow:g.groups[l].startRow+g.groups[l].cnt,g._locgr&&(q=(a-1)*o,q>x.startRow&&(S=q));R>S&&i[S-q];S++)u+=i[S-q].join("");if("header"!==g.groupSummaryPos[x.idx]){if(void 0!==D){for(j=0;j<g.groupField.length&&D.dataIndex!==g.groupField[j];j++);f=g.groupField.length-j}for(D=0;f>D;D++)m[D]&&(q="",g.groupCollapse&&!g.showSummaryOnHide&&(q=\' style="display:none;"\'),u+="<tr"+q+\' data-jqfootlevel="\'+(x.idx-D)+\'" role="row" class="ui-widget-content jqfoot ui-row-\'+p.direction+\'">\',u+=n(l,D,g.groups,0),u+="</tr>");f=j}}}),u},groupingGroupBy:function(r,a){return this.each(function(){var o,l,n=this.p,s=n.groupingView;for("string"==typeof r&&(r=[r]),n.grouping=!0,s._locgr=!1,void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]),o=0;o<s.groupField.length;o++)l=n.colModel[n.iColByName[s.groupField[o]]],!s.groupColumnShow[o]&&s.visibiltyOnNextGrouping[o]&&null!=l&&!0===l.hidden&&i.showCol.call(e(this),s.groupField[o]);for(o=0;o<r.length;o++)s.visibiltyOnNextGrouping[o]=e(n.idSel+"_"+t.jqID(r[o])).is(":visible");n.groupingView=e.extend(n.groupingView,a||{}),s.groupField=r,e(this).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){var r=this.p,a=this.tBodies[0],o=r.groupingView;if(void 0===t&&(t=!0),r.grouping=!1,!0===t){for(r=0;r<o.groupField.length;r++)!o.groupColumnShow[r]&&o.visibiltyOnNextGrouping[r]&&i.showCol.call(e(this),o.groupField);\ne("tr.jqgroup, tr.jqfoot",a).remove(),e("tr.jqgrow:hidden",a).show()}else e(this).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,r,a,o){var l={sum:function(){return parseFloat(t||0)+parseFloat(o[i]||0)},min:function(){return""===t?parseFloat(o[i]||0):Math.min(parseFloat(t),parseFloat(o[i]||0))},max:function(){return""===t?parseFloat(o[i]||0):Math.max(parseFloat(t),parseFloat(o[i]||0))},count:function(){return""===t&&(t=0),o.hasOwnProperty(i)?t+1:0},avg:function(){return l.sum()}};if(!l[e])throw"jqGrid Grouping No such method: "+e;return e=l[e](),null!=r&&("fixed"===a?e=e.toFixed(r):(r=Math.pow(10,r),e=Math.round(e*r)/r)),e}}})}(jQuery),function(e){e.jgrid.extend({jqGridImport:function(t){return t=e.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{}),this.each(function(){var i,r=this,a=function(t,i){var a,o,l=e(i.xmlGrid.config,t)[0],n=e(i.xmlGrid.data,t)[0];if(xmlJsonClass.xml2json&&e.jgrid.parse){l=xmlJsonClass.xml2json(l," "),l=e.jgrid.parse(l);for(o in l)l.hasOwnProperty(o)&&(a=l[o]);void 0!==a&&(n?(n=l.grid.datatype,l.grid.datatype="xmlstring",l.grid.datastr=t,e(r).jqGrid(a).jqGrid("setGridParam",{datatype:n})):e(r).jqGrid(a))}else alert("xml2json or parse are not present")},o=function(t,i){if(t&&"string"==typeof t){var a,o,l=!1;e.jgrid.useJSON&&(e.jgrid.useJSON=!1,l=!0),a=e.jgrid.parse(t),l&&(e.jgrid.useJSON=!0),l=a[i.jsonGrid.config],(a=a[i.jsonGrid.data])?(o=l.datatype,l.datatype="jsonstring",l.datastr=a,e(r).jqGrid(l).jqGrid("setGridParam",{datatype:o})):e(r).jqGrid(l)}};switch(t.imptype){case"xml":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(i){!(300>i.status||304===i.status)||0===i.status&&4===i.readyState||(a(i.responseXML,t),e(r).triggerHandler("jqGridImportComplete",[i,t]),e.isFunction(t.importComplete)&&t.importComplete(i))}},t.ajaxOptions));break;case"xmlstring":t.impstring&&"string"==typeof t.impstring&&(i=e.parseXML(t.impstring))&&(a(i,t),e(r).triggerHandler("jqGridImportComplete",[i,t]),e.isFunction(t.importComplete)&&t.importComplete(i),t.impstring=null);break;case"json":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(i){try{!(300>i.status||304===i.status)||0===i.status&&4===i.readyState||(o(i.responseText,t),e(r).triggerHandler("jqGridImportComplete",[i,t]),e.isFunction(t.importComplete)&&t.importComplete(i))}catch(a){}}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(o(t.impstring,t),e(r).triggerHandler("jqGridImportComplete",[t.impstring,t]),e.isFunction(t.importComplete)&&t.importComplete(t.impstring),t.impstring=null)}})},jqGridExport:function(t){t=e.extend({exptype:"xmlstring",root:"grid",ident:"	"},t||{});var i=null;return this.each(function(){if(this.grid){var r,a=e.extend(!0,{},e(this).jqGrid("getGridParam"));if(a.rownumbers&&(a.colNames.splice(0,1),a.colModel.splice(0,1)),a.multiselect&&(a.colNames.splice(0,1),a.colModel.splice(0,1)),a.subGrid&&(a.colNames.splice(0,1),a.colModel.splice(0,1)),a.knv=null,a.treeGrid)for(r in a.treeReader)a.treeReader.hasOwnProperty(r)&&(a.colNames.splice(a.colNames.length-1),a.colModel.splice(a.colModel.length-1));switch(t.exptype){case"xmlstring":i="<"+t.root+">"+xmlJsonClass.json2xml(a,t.ident)+"</"+t.root+">";break;case"jsonstring":i="{"+xmlJsonClass.toJson(a,t.root,t.ident,!1)+"}",void 0!==a.postData.filters&&(i=i.replace(/filters":"/,\'filters":\'),i=i.replace(/\\}\\]\\}"/,"}]}"))}}}),i},excelExport:function(t){return t=e.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){var i;this.grid&&"remote"===t.exptype&&(i=e.extend({},this.p.postData),i[t.oper]=t.tag,i=jQuery.param(i),i=-1!==t.url.indexOf("?")?t.url+"&"+i:t.url+"?"+i,window.location=i)})}})}(jQuery),function(e){var t=e.jgrid,i=t.fullBoolFeedback,r=t.hasOneFromClasses,a=t.enumEditableCells,o=t.info_dialog,l=function(i){var r=e.makeArray(arguments).slice(1);return r.unshift(""),r.unshift("Inline"),r.unshift(i),t.feedback.apply(this,r)},n=function(e){return t.getRes(t.guiStyles[this.p.guiStyle],"states."+e)};t.inlineEdit=t.inlineEdit||{},t.extend({editRow:function(r,o,s,d,c,u,h,p,f,g){var m={},v=e.makeArray(arguments).slice(1);return"object"===e.type(v[0])?m=v[0]:(void 0!==o&&(m.keys=o),e.isFunction(s)&&(m.oneditfunc=s),e.isFunction(d)&&(m.successfunc=d),void 0!==c&&(m.url=c),null!=u&&(m.extraparam=u),e.isFunction(h)&&(m.aftersavefunc=h),e.isFunction(p)&&(m.errorfunc=p),e.isFunction(f)&&(m.afterrestorefunc=f),e.isFunction(g)&&(m.beforeEditRow=g)),this.each(function(){var o=this,s=e(o),d=o.p,c=0,u=null,h={},p=d.colModel,f=d.prmNames;if(o.grid){var g=e.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeEditRow:null,mtype:"POST",focusField:!0},t.inlineEdit,d.inlineEditing||{},m),v=s.jqGrid("getInd",r,!0),b=g.focusField;if(!1!==v&&(g.extraparam[f.oper]===f.addoper||l.call(o,g,"beforeEditRow",g,r))&&"0"===(e(v).attr("editable")||"0")&&!e(v).hasClass("not-editable-row")){if(f=t.detectRowEditing.call(o,r),null!=f&&"cellEditing"===f.mode){var f=f.savedRow,w=o.rows[f.id],y=n.call(o,"select");s.jqGrid("restoreCell",f.id,f.ic),e(w.cells[f.ic]).removeClass("edit-cell "+y),e(w).addClass(y).attr({"aria-selected":"true",tabindex:"0"})}a.call(o,v,e(v).hasClass("jqgrid-new-row")?"add":"edit",function(i){var a,l=i.cm,n=e(i.dataElement),s=i.dataWidth,p=l.name,f=l.edittype,g=i.iCol,m=l.editoptions||{};try{a=e.unformat.call(this,i.td,{rowId:r,colModel:l},g)}catch(v){a="textarea"===f?n.text():n.html()}h[p]=a,n.html(""),l=e.extend({},m,{id:r+"_"+p,name:p,rowId:r,mode:i.mode}),("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))&&(a=""),a=t.createEl.call(o,f,l,a,!0,e.extend({},t.ajaxOptions,d.ajaxSelectOptions||{})),e(a).addClass("editable"),n.append(a),s&&e(a).width(i.dataWidth),t.bindEv.call(o,a,l),"select"===f&&!0===m.multiple&&void 0===m.dataUrl&&t.msie&&e(a).width(e(a).width()),null===u&&(u=g),c++}),c>0&&(h.id=r,d.savedRow.push(h),e(v).attr("editable","1"),b&&("number"==typeof b&&parseInt(b,10)<=p.length?u=b:"string"==typeof b&&(u=d.iColByName[b]),setTimeout(function(){var t=e(v.cells[u]).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)");0<t.length&&t.focus()},0)),!0===g.keys&&e(v).bind("keydown",function(e){return 27===e.keyCode?(s.jqGrid("restoreRow",r,g.afterrestorefunc),!1):13===e.keyCode?"TEXTAREA"===e.target.tagName?!0:(s.jqGrid("saveRow",r,g),!1):void 0}),i.call(o,g.oneditfunc,"jqGridInlineEditRow",r,g))}}})},saveRow:function(r,s,d,c,u,h,p,f){var g,m=e.makeArray(arguments).slice(1),v={},b=this[0],w=e(b),y=null!=b?b.p:null;if(b.grid&&null!=y){"object"===e.type(m[0])?v=m[0]:(e.isFunction(s)&&(v.successfunc=s),void 0!==d&&(v.url=d),void 0!==c&&(v.extraparam=c),e.isFunction(u)&&(v.aftersavefunc=u),e.isFunction(h)&&(v.errorfunc=h),e.isFunction(p)&&(v.afterrestorefunc=p),e.isFunction(f)&&(v.beforeSaveRow=f));var x,C,j,q=function(e){return w.jqGrid("getGridRes",e)},v=e.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeSaveRow:null,ajaxSaveOptions:{},serializeSaveData:null,mtype:"POST",saveui:"enable",savetext:q("defaults.savetext")||"Saving..."},t.inlineEdit,y.inlineEditing||{},v),S={},D={},m={};C=w.jqGrid("getInd",r,!0);var R=e(C);g=y.prmNames;var _,F=q("errors.errcap"),G=q("edit.bClose");if(!1!==C&&(g=v.extraparam[g.oper]===g.addoper?"add":"edit",l.call(b,v,"beforeSaveRow",v,r,g)&&(g=R.attr("editable"),v.url=v.url||y.editurl,_="clientArray"!==v.url,"1"===g)))if(a.call(b,C,R.hasClass("jqgrid-new-row")?"add":"edit",function(i){var r,a=i.cm,o=a.formatter,l=a.editoptions||{},n=a.formatoptions||{};return r=t.getEditedValue.call(b,e(i.dataElement),a,!o),j=t.checkValues.call(b,r,i.iCol),!1===j[0]?!1:(_&&y.autoencode&&(r=t.htmlEncode(r)),"date"===o&&!0!==n.sendFormatted&&(r=e.unformat.date.call(b,r,a)),_&&!0===l.NullIfEmpty&&""===r&&(r="null"),void(S[a.name]=r))}),!1===j[0])try{var k=w.jqGrid("getGridRowById",r),I=t.findPos(k);o.call(b,F,j[1],G,{left:I[0],top:I[1]+e(k).outerHeight()})}catch(O){alert(j[1])}else if(k=r,g=y.prmNames,I=!1===y.keyName?g.id:y.keyName,S&&(S[g.oper]=g.editoper,void 0===S[I]||""===S[I]?S[I]=r:C.id!==y.idPrefix+S[I]&&(C=t.stripPref(y.idPrefix,r),void 0!==y._index[C]&&(y._index[S[I]]=y._index[C],delete y._index[C]),r=y.idPrefix+S[I],R.attr("id",r),y.selrow===k&&(y.selrow=r),e.isArray(y.selarrrow)&&(C=e.inArray(k,y.selarrrow),C>=0&&(y.selarrrow[C]=r)),y.multiselect&&(C="jqg_"+y.id+"_"+r,R.find("input.cbox").attr("id",C).attr("name",C))),S=e.extend({},S,y.inlineData||{},v.extraparam)),_)w.jqGrid("progressBar",{method:"show",loadtype:v.saveui,htmlcontent:v.savetext}),m=e.extend({},S,m),m[I]=t.stripPref(y.idPrefix,m[I]),e.ajax(e.extend({url:v.url,data:t.serializeFeedback.call(b,e.isFunction(v.serializeSaveData)?v.serializeSaveData:y.serializeRowData,"jqGridInlineSerializeSaveData",m),type:v.mtype,complete:function(a,o){if(w.jqGrid("progressBar",{method:"hide",loadtype:v.saveui,htmlcontent:v.savetext}),(300>a.status||304===a.status)&&(0!==a.status||4!==a.readyState)){var l,n;if(n=w.triggerHandler("jqGridInlineSuccessSaveRow",[a,r,v]),e.isArray(n)||(n=[!0,S]),n[0]&&e.isFunction(v.successfunc)&&(n=v.successfunc.call(b,a)),e.isArray(n)?(l=n[0],S=n[1]||S):l=n,!0===l){for(y.autoencode&&e.each(S,function(e,i){S[e]=t.htmlDecode(i)}),S=e.extend({},S,D),w.jqGrid("setRowData",r,S),R.attr("editable","0"),l=0;l<y.savedRow.length;l++)if(String(y.savedRow[l].id)===String(r)){x=l;break}x>=0&&y.savedRow.splice(x,1),i.call(b,v.aftersavefunc,"jqGridInlineAfterSaveRow",r,a,S,v),R.removeClass("jqgrid-new-row").unbind("keydown")}else i.call(b,v.errorfunc,"jqGridInlineErrorSaveRow",r,a,o,null,v),!0===v.restoreAfterError&&w.jqGrid("restoreRow",r,v.afterrestorefunc)}},error:function(i,a,l){if(e("#lui_"+t.jqID(y.id)).hide(),w.triggerHandler("jqGridInlineErrorSaveRow",[r,i,a,l,v]),e.isFunction(v.errorfunc))v.errorfunc.call(b,r,i,a,l);else{i=i.responseText||i.statusText;try{o.call(b,F,\'<div class="\'+n.call(b,"error")+\'">\'+i+"</div>",G,{buttonalign:"right"})}catch(s){alert(i)}}!0===v.restoreAfterError&&w.jqGrid("restoreRow",r,v.afterrestorefunc)}},t.ajaxOptions,y.ajaxRowOptions,v.ajaxSaveOptions||{}));else{for(S=e.extend({},S,D),C=w.jqGrid("setRowData",r,S),R.attr("editable","0"),m=0;m<y.savedRow.length;m++)if(String(y.savedRow[m].id)===String(k)){x=m;break}x>=0&&y.savedRow.splice(x,1),i.call(b,v.aftersavefunc,"jqGridInlineAfterSaveRow",r,C,S,v),R.removeClass("jqgrid-new-row").unbind("keydown")}}},restoreRow:function(r,a){var o=e.makeArray(arguments).slice(1),n={};return"object"===e.type(o[0])?n=o[0]:e.isFunction(a)&&(n.afterrestorefunc=a),this.each(function(){var a,o=this,s=e(o),d=o.p,c=-1,u={};if(o.grid){var h=e.extend(!0,{},t.inlineEdit,d.inlineEditing||{},n),p=s.jqGrid("getInd",r,!0);if(!1!==p&&l.call(o,h,"beforeCancelRow",h,r)){for(a=0;a<d.savedRow.length;a++)if(String(d.savedRow[a].id)===String(r)){c=a;break}if(c>=0){if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker","#"+t.jqID(p.id)).datepicker("hide")}catch(f){}e.each(d.colModel,function(){var t=this.name;d.savedRow[c].hasOwnProperty(t)&&(u[t]=d.savedRow[c][t],!this.formatter||"date"!==this.formatter||null!=this.formatoptions&&!0===this.formatoptions.sendFormatted||(u[t]=e.unformat.date.call(o,u[t],this)))}),s.jqGrid("setRowData",r,u),e(p).attr("editable","0").unbind("keydown"),d.savedRow.splice(c,1),e("#"+t.jqID(r),o).hasClass("jqgrid-new-row")&&setTimeout(function(){s.jqGrid("delRowData",r),s.jqGrid("showAddEditButtons",!1)},0)}i.call(o,h.afterrestorefunc,"jqGridInlineAfterRestoreRow",r)}}})},addRow:function(i){return this.each(function(){if(this.grid){var r=this,a=e(r),o=r.p,n=e.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,beforeAddRow:null,addRowParams:{extraparam:{}}},t.inlineEdit,o.inlineEditing||{},i||{});l.call(r,n,"beforeAddRow",n.addRowParams)&&(n.rowID=e.isFunction(n.rowID)?n.rowID.call(r,n):null!=n.rowID?n.rowID:t.randId(),!0===n.useDefValues&&e(o.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var t=this.editoptions.defaultValue;n.initdata[this.name]=e.isFunction(t)?t.call(r):t}}),n.rowID=o.idPrefix+n.rowID,a.jqGrid("addRowData",n.rowID,n.initdata,n.position),e("#"+t.jqID(n.rowID),r).addClass("jqgrid-new-row"),n.useFormatter?e("#"+t.jqID(n.rowID)+" .ui-inline-edit",r).click():(o=o.prmNames,n.addRowParams.extraparam[o.oper]=o.addoper,a.jqGrid("editRow",n.rowID,n.addRowParams),a.jqGrid("setSelection",n.rowID)))}})},inlineNav:function(i,a){return"object"==typeof i&&(a=i,i=void 0),this.each(function(){var o=this,l=e(o),s=o.p;if(this.grid&&null!=s){var d,c=i===s.toppager?s.idSel+"_top":s.idSel,u=i===s.toppager?s.id+"_top":s.id,h=n.call(o,"disabled"),p=e.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",commonIconClass:"ui-icon",iconsOverText:!1,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},l.jqGrid("getGridRes","nav"),t.nav||{},s.navOptions||{},a||{});if(void 0===i)if(s.pager){if(l.jqGrid("inlineNav",s.pager,p),!s.toppager)return;i=s.toppager,c=s.idSel+"_top",u=s.id+"_top"}else s.toppager&&(i=s.toppager,c=s.idSel+"_top",u=s.id+"_top");if(void 0!==i&&(d=e(i),!(0>=d.length))){if(0>=d.find(".navtable").length&&l.jqGrid("navGrid",i,{add:!1,edit:!1,del:!1,search:!1,refresh:!1,view:!1}),s._inlinenav=!0,!0===p.addParams.useFormatter){d=s.colModel;var f,g;for(f=0;f<d.length;f++)if(d[f].formatter&&"actions"===d[f].formatter){d[f].formatoptions&&(g={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},d=e.extend(g,d[f].formatoptions),p.addParams.addRowParams={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:d.afterSave,errorfunc:d.onError,afterrestorefunc:d.afterRestore});break}}p.add&&l.jqGrid("navButtonAdd",i,{caption:p.addtext,title:p.addtitle,commonIconClass:p.commonIconClass,buttonicon:p.addicon,iconsOverText:p.iconsOverText,id:u+"_iladd",onClickButton:function(){r(this,h)||l.jqGrid("addRow",p.addParams)}}),p.edit&&l.jqGrid("navButtonAdd",i,{caption:p.edittext,title:p.edittitle,commonIconClass:p.commonIconClass,buttonicon:p.editicon,iconsOverText:p.iconsOverText,id:u+"_iledit",onClickButton:function(){if(!r(this,h)){var e=s.selrow;e?l.jqGrid("editRow",e,p.editParams):o.modalAlert()}}}),p.save&&(l.jqGrid("navButtonAdd",i,{caption:p.savetext||"",title:p.savetitle||"Save row",commonIconClass:p.commonIconClass,buttonicon:p.saveicon,iconsOverText:p.iconsOverText,id:u+"_ilsave",onClickButton:function(){if(!r(this,h)){var i=s.savedRow[0].id;if(i){var a=s.prmNames,n=a.oper,d=p.editParams;e("#"+t.jqID(i),o).hasClass("jqgrid-new-row")?(p.addParams.addRowParams.extraparam[n]=a.addoper,d=p.addParams.addRowParams):(p.editParams.extraparam||(p.editParams.extraparam={}),p.editParams.extraparam[n]=a.editoper),l.jqGrid("saveRow",i,d)}else o.modalAlert()}}}),e(c+"_ilsave").addClass(h)),p.cancel&&(l.jqGrid("navButtonAdd",i,{caption:p.canceltext||"",title:p.canceltitle||"Cancel row editing",commonIconClass:p.commonIconClass,buttonicon:p.cancelicon,iconsOverText:p.iconsOverText,id:u+"_ilcancel",onClickButton:function(){if(!r(this,h)){var i=s.savedRow[0].id,a=p.editParams;i?(e("#"+t.jqID(i),o).hasClass("jqgrid-new-row")&&(a=p.addParams.addRowParams),l.jqGrid("restoreRow",i,a)):o.modalAlert()}}}),e(c+"_ilcancel").addClass(h)),!0===p.restoreAfterSelect&&l.bind("jqGridSelectRow",function(e,t){if(0<s.savedRow.length&&!0===s._inlinenav){var i=s.savedRow[0].id;t!==i&&"number"!=typeof i&&l.jqGrid("restoreRow",i,p.editParams)}}),l.bind("jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow",function(){l.jqGrid("showAddEditButtons",!1)}),l.bind("jqGridInlineEditRow",function(e,t){l.jqGrid("showAddEditButtons",!0,t)})}}})},showAddEditButtons:function(t){return this.each(function(){if(this.grid){var i=this.p,r=i.idSel,a=n.call(this,"disabled"),o=r+"_ilsave,"+r+"_ilcancel"+(i.toppager?","+r+"_top_ilsave,"+r+"_top_ilcancel":""),i=r+"_iladd,"+r+"_iledit"+(i.toppager?","+r+"_top_iladd,"+r+"_top_iledit":"");e(t?i:o).addClass(a),e(t?o:i).removeClass(a)}})}})}(jQuery),function(e){var t=e.jgrid,i=null!=e.ui?e.ui.multiselect:null,r=t.jqID;if(t.msie&&8===t.msiever()&&(e.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),t._multiselect=!1,e.ui&&i){if(i.prototype._setSelected){var a=i.prototype._setSelected;i.prototype._setSelected=function(t,i){var r=this,o=a.call(r,t,i);if(i&&r.selectedList){var l=r.element;r.selectedList.find("li").each(function(){e(r).data("optionLink")&&e(r).data("optionLink").remove().appendTo(l)})}return o}}i.prototype.destroy&&(i.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===e.Widget?e.widget.prototype.destroy.apply(this,arguments):e.Widget.prototype.destroy.apply(this,arguments)}),t._multiselect=!0}t.extend({sortableColumns:function(t){return this.each(function(){function i(){o.disableClick=!0}var a=this,o=a.p,l=r(o.id),l={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+l+"_cb,#jqgh_"+l+"_rn,#jqgh_"+l+"_subgrid),:hidden)",placeholder:{element:function(t){return e(document.createElement(t[0].nodeName)).addClass(t[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(t,i){var r=e(">th",e(i.item).parent()),l=o.id+"_",n=[];r.each(function(){var t=e(">div",this).get(0).id.replace(/^jqgh_/,"").replace(l,""),t=o.iColByName[t];void 0!==t&&n.push(t)}),e(a).jqGrid("remapColumns",n,!0,!0),e.isFunction(o.sortable.update)&&o.sortable.update(n),setTimeout(function(){o.disableClick=!1},50)}};if(o.sortable.options?e.extend(l,o.sortable.options):e.isFunction(o.sortable)&&(o.sortable={update:o.sortable}),l.start){var n=l.start;l.start=function(e,t){i(),n.call(this,e,t)}}else l.start=i;o.sortable.exclude&&(l.items+=":not("+o.sortable.exclude+")"),l=t.sortable(l),l=l.data("sortable")||l.data("uiSortable")||l.data("ui-sortable"),null!=l&&(l.floating=!0)})},columnChooser:function(a){function o(t,i){t&&("string"==typeof t?e.fn[t]&&e.fn[t].apply(i,e.makeArray(arguments).slice(2)):e.isFunction(t)&&t.apply(i,e.makeArray(arguments).slice(2)))}var l,n,s,d,c=this,u=c[0].p,h={},p=[],f=u.colModel;s=f.length,d=u.colNames;var g=function(e){return i&&i.prototype&&e.data(i.prototype.widgetFullName||i.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")};if(!e("#colchooser_"+r(u.id)).length){if(l=e(\'<div id="colchooser_\'+u.id+\'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>\'),n=e("select",l),a=e.extend({width:400,height:240,classname:null,done:function(e){e&&null==u.groupHeader&&c.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(t){var i={};return i[t.bSubmit]=function(){t.apply_perm(),t.cleanup(!1)},i[t.bCancel]=function(){t.cleanup(!0)},e.extend(!0,{buttons:i,close:function(){t.cleanup(!0)},modal:t.modal||!1,resizable:t.resizable||!0,width:t.width+70,resize:function(){var e=g(n),t=e.container.closest(".ui-dialog-content");0<t.length&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},t.dialog_opts||{})},apply_perm:function(){var t=[];e("option",n).each(function(){e(this).is(":selected")?c.jqGrid("showCol",f[this.value].name):c.jqGrid("hideCol",f[this.value].name)}),e("option",n).filter(":selected").each(function(){t.push(parseInt(this.value,10))}),e.each(t,function(){delete h[f[parseInt(this,10)].name]}),e.each(h,function(){var e,i,r=parseInt(this,10),a=t,o=r;o>=0?(e=a.slice(),i=e.splice(o,Math.max(a.length-o,o)),o>a.length&&(o=a.length),e[o]=r,t=e.concat(i)):t=a}),a.done&&a.done.call(c,t),c.jqGrid("setGridWidth",u.autowidth||void 0!==u.widthOrg&&"auto"!==u.widthOrg&&"100%"!==u.widthOrg?u.width:u.tblwidth,u.shrinkToFit)},cleanup:function(e){o(a.dlog,l,"destroy"),o(a.msel,n,"destroy"),l.remove(),e&&a.done&&a.done.call(c)},msel_opts:{}},c.jqGrid("getGridRes","col"),t.col,a||{}),e.ui&&i&&i.defaults){if(!t._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");a.msel_opts=e.extend(i.defaults,a.msel_opts)}a.caption&&l.attr("title",a.caption),a.classname&&(l.addClass(a.classname),n.addClass(a.classname)),a.width&&(e(">div",l).css({width:a.width,margin:"0 auto"}),n.css("width",a.width)),a.height&&(e(">div",l).css("height",a.height),n.css("height",a.height-10)),n.empty();var m,v,b,w,y,x=u.groupHeader,C={};if(null!=x&&null!=x.groupHeaders)for(m=0,b=x.groupHeaders.length;b>m;m++)for(y=x.groupHeaders[m],v=0;v<y.numberOfColumns;v++)w=u.iColByName[y.startColumnName]+v,C[w]=e.isFunction(a.buildItemText)?a.buildItemText.call(c[0],{iCol:w,cm:f[w],cmName:f[w].name,colName:d[w],groupTitleText:y.titleText}):e.jgrid.stripHtml(y.titleText)+": "+e.jgrid.stripHtml(""===d[w]?f[w].name:d[w]);for(w=0;s>w;w++)void 0===C[w]&&(C[w]=e.isFunction(a.buildItemText)?a.buildItemText.call(c[0],{iCol:w,cm:f[w],cmName:f[w].name,colName:d[w],groupTitleText:null}):e.jgrid.stripHtml(d[w]));e.each(f,function(e){h[this.name]=e,this.hidedlg?this.hidden||p.push(e):n.append("<option value=\'"+e+"\'"+(u.headertitles||this.headerTitle?\' title="\'+t.stripHtml("string"==typeof this.headerTitle?this.headerTitle:C[e])+\'"\':"")+(this.hidden?"":" selected=\'selected\'")+">"+C[e]+"</option>")}),s=e.isFunction(a.dlog_opts)?a.dlog_opts.call(c,a):a.dlog_opts,o(a.dlog,l,s),s=e.isFunction(a.msel_opts)?a.msel_opts.call(c,a):a.msel_opts,o(a.msel,n,s),s=e("#colchooser_"+r(u.id)),s.css({margin:"auto"}),s.find(">div").css({width:"100%",height:"100%",margin:"auto"}),(s=g(n))&&(s.container.css({width:"100%",height:"100%",margin:"auto"}),s.selectedContainer.css({width:100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.availableContainer.css({width:100-100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.selectedList.css("height","auto"),s.availableList.css("height","auto"),d=Math.max(s.selectedList.height(),s.availableList.height()),d=Math.min(d,e(window).height()),s.selectedList.css("height",d),s.availableList.css("height",d))}},sortableRows:function(t){return this.each(function(){var i=this,r=i.grid,a=i.p;r&&!a.treeGrid&&e.fn.sortable&&(t=e.extend({cursor:"move",axis:"y",items:">.jqgrow"},t||{}),t.start&&e.isFunction(t.start)?(t._start_=t.start,delete t.start):t._start_=!1,t.update&&e.isFunction(t.update)?(t._update_=t.update,delete t.update):t._update_=!1,t.start=function(o,l){if(e(l.item).css("border-width","0"),e("td",l.item).each(function(e){this.style.width=r.cols[e].style.width}),a.subGrid){var n=e(l.item).attr("id");try{e(i).jqGrid("collapseSubGridRow",n)}catch(s){}}t._start_&&t._start_.apply(this,[o,l])},t.update=function(r,o){e(o.item).css("border-width",""),!0===a.rownumbers&&e("td.jqgrid-rownum",i.rows).each(function(t){e(this).html(t+1+(parseInt(a.page,10)-1)*parseInt(a.rowNum,10))}),t._update_&&t._update_.apply(this,[r,o])},e("tbody:first",i).sortable(t),e.isFunction(e.fn.disableSelection)&&e("tbody:first>.jqgrow",i).disableSelection())})},gridDnD:function(t){return this.each(function(){function i(){var t=e.data(l,"dnd");e("tr.jqgrow:not(.ui-draggable)",l).draggable(e.isFunction(t.drag)?t.drag.call(e(l),t):t.drag)}var a,o,l=this;if(l.grid&&!l.p.treeGrid&&e.fn.draggable&&e.fn.droppable)if(void 0===e("#jqgrid_dnd")[0]&&e("body").append("<table id=\'jqgrid_dnd\' class=\'ui-jqgrid-dnd\'></table>"),"string"==typeof t&&"updateDnD"===t&&!0===l.p.jqgdnd)i();else if(t=e.extend({drag:function(t){return e.extend({start:function(i,r){var a;if(l.p.subGrid){a=e(r.helper).attr("id");try{e(l).jqGrid("collapseSubGridRow",a)}catch(o){}}for(a=0;a<e.data(l,"dnd").connectWith.length;a++)0===e(e.data(l,"dnd").connectWith[a]).jqGrid("getGridParam","reccount")&&e(e.data(l,"dnd").connectWith[a]).jqGrid("addRowData","jqg_empty_row",{});r.helper.addClass("ui-state-highlight"),e("td",r.helper).each(function(e){this.style.width=l.grid.headers[e].width+"px"}),t.onstart&&e.isFunction(t.onstart)&&t.onstart.call(e(l),i,r)},stop:function(i,r){var a;for(r.helper.dropped&&!t.dragcopy&&(a=e(r.helper).attr("id"),void 0===a&&(a=e(this).attr("id")),e(l).jqGrid("delRowData",a)),a=0;a<e.data(l,"dnd").connectWith.length;a++)e(e.data(l,"dnd").connectWith[a]).jqGrid("delRowData","jqg_empty_row");t.onstop&&e.isFunction(t.onstop)&&t.onstop.call(e(l),i,r)}},t.drag_opts||{})},drop:function(t){return e.extend({accept:function(t){return e(t).hasClass("jqgrow")?(t=e(t).closest("table.ui-jqgrid-btable"),0<t.length&&void 0!==e.data(t[0],"dnd")?(t=e.data(t[0],"dnd").connectWith,-1!==e.inArray("#"+r(this.id),t)?!0:!1):!1):t},drop:function(i,a){if(e(a.draggable).hasClass("jqgrow")){var o=e(a.draggable).attr("id"),o=a.draggable.parent().parent().jqGrid("getRowData",o);if(!t.dropbyname){var n,s,d=0,c={},u=e("#"+r(this.id)).jqGrid("getGridParam","colModel");try{for(s in o)o.hasOwnProperty(s)&&(n=u[d].name,"cb"!==n&&"rn"!==n&&"subgrid"!==n&&o.hasOwnProperty(s)&&u[d]&&(c[n]=o[s]),d++);o=c}catch(h){}}if(a.helper.dropped=!0,t.beforedrop&&e.isFunction(t.beforedrop)&&(n=t.beforedrop.call(this,i,a,o,e("#"+r(l.p.id)),e(this)),void 0!==n&&null!==n&&"object"==typeof n&&(o=n)),a.helper.dropped){var p;t.autoid&&(e.isFunction(t.autoid)?p=t.autoid.call(this,o):(p=Math.ceil(1e3*Math.random()),p=t.autoidprefix+p)),e("#"+r(this.id)).jqGrid("addRowData",p,o,t.droppos),o[l.p.localReader.id]=p}t.ondrop&&e.isFunction(t.ondrop)&&t.ondrop.call(this,i,a,o)}}},t.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},t||{}),t.connectWith)for(t.connectWith=t.connectWith.split(","),t.connectWith=e.map(t.connectWith,function(t){return e.trim(t)}),e.data(l,"dnd",t),0===l.p.reccount||l.p.jqgdnd||i(),l.p.jqgdnd=!0,a=0;a<t.connectWith.length;a++)o=t.connectWith[a],e(o).droppable(e.isFunction(t.drop)?t.drop.call(e(l),t):t.drop)})},gridResize:function(t){return this.each(function(){var i,r=this,a=r.grid,o=r.p,l=o.gView+">.ui-jqgrid-bdiv",n=!1,s=o.height;if(a&&e.fn.resizable){if(t=e.extend({},t||{}),t.alsoResize?(t._alsoResize_=t.alsoResize,delete t.alsoResize):t._alsoResize_=!1,t.stop&&e.isFunction(t.stop)?(t._stop_=t.stop,delete t.stop):t._stop_=!1,t.stop=function(d,c){e(r).jqGrid("setGridWidth",c.size.width,t.shrinkToFit),e(o.gView+">.ui-jqgrid-titlebar").css("width",""),n?(e(i).each(function(){e(this).css("height","")}),"auto"!==s&&"100%"!==s||e(a.bDiv).css("height",s)):e(r).jqGrid("setGridParam",{height:e(l).height()}),r.fixScrollOffsetAndhBoxPadding&&r.fixScrollOffsetAndhBoxPadding(),t._stop_&&t._stop_.call(r,d,c)},i=l,"auto"!==s&&"100%"!==s||void 0!==t.handles||(t.handles="e,w"),t.handles){var d=e.map(String(t.handles).split(","),function(t){return e.trim(t)});2===d.length&&("e"===d[0]&&"w"===d[1]||"e"===d[1]&&"w"===d[1])&&(i=o.gView+">div:not(.frozen-div)",n=!0,o.pager&&(i+=","+o.pager))}t.alsoResize=t._alsoResize_?i+","+t._alsoResize_:i,delete t._alsoResize_,e(o.gBox).resizable(t)}})}})}(jQuery),function(e){function t(e,i,r){return this instanceof t?(this.aggregator=e,this.finilized=!1,this.context=i,void(this.pivotOptions=r)):new t(e)}function i(t,i,r,a,o){var l=a.length,n=function(e,t){var i=e,r=t;if(null==i&&(i=""),null==r&&(r=""),i=String(i),r=String(r),this.caseSensitive||(i=i.toUpperCase(),r=r.toUpperCase()),i===r){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(null===e)return-1;if(null===t)return 1}return r>i?-1:1},s=function(e,t){return e=Number(e),t=Number(t),e===t?0:t>e?-1:1},d=function(e,t){return e=Math.floor(Number(e)),t=Math.floor(Number(t)),e===t?0:t>e?-1:1};for(this.items=[],this.indexesOfSourceData=[],this.trimByCollect=t,this.caseSensitive=i,this.skipSort=r,this.fieldLength=l,this.fieldNames=Array(l),this.fieldSortDirection=Array(l),this.fieldCompare=Array(l),t=0;l>t;t++){switch(i=a[t],this.fieldNames[t]=i[o||"dataName"],i.sorttype){case"integer":case"int":this.fieldCompare[t]=d;break;case"number":case"currency":case"float":this.fieldCompare[t]=s;break;default:this.fieldCompare[t]=e.isFunction(i.compare)?i.compare:n}this.fieldSortDirection[t]="desc"===i.sortorder?-1:1}}t.prototype.calc=function(t,i,r,a,o){if(void 0!==t)switch(this.result=this.result||0,t=parseFloat(t),this.aggregator){case"sum":this.result+=t;break;case"count":this.result++;break;case"avg":this.finilized?(this.count=this.count||0,this.result=(this.result*this.count+t)/(this.count+1)):(this.result+=t,this.count=this.count||0),this.count++;break;case"min":this.result=Math.min(this.result,t);break;case"max":this.result=Math.max(this.result,t);break;default:e.isFunction(this.aggregator)&&(this.result=this.aggregator.call(this.context,{previousResult:this.result,value:t,fieldName:i,item:r,iItem:a,items:o}))}},t.prototype.getResult=function(e,t,i){(void 0!==this.result||i)&&(i&&void 0!==this.result&&(this.count=this.result=0),void 0===this.result||this.finilized||"avg"!==this.aggregator||(this.result/=this.count,this.finilized=!0),e[t]=this.result)},i.prototype.compareVectorsEx=function(e,t){var i,r,a=this.fieldLength;for(i=0;a>i;i++)if(r=this.fieldCompare[i](e[i],t[i]),0!==r)return{index:i,result:r};return{index:-1,result:0}},i.prototype.getIndexOfDifferences=function(e,t){return null===t||null===e?0:this.compareVectorsEx(e,t).index},i.prototype.compareVectors=function(e,t){var i=this.compareVectorsEx(e,t);return 0<(0<=i.index?this.fieldSortDirection[i.index]:1)?i.result:-i.result},i.prototype.getItem=function(e){return this.items[e]},i.prototype.getIndexLength=function(){return this.items.length},i.prototype.getIndexesOfSourceData=function(e){return this.indexesOfSourceData[e]},i.prototype.createDataIndex=function(t){var i,r,a,o,l,n,s=t.length,d=this.fieldLength,c=this.fieldNames,u=this.indexesOfSourceData,h=this.items;for(i=0;s>i;i++){for(l=t[i],r=Array(d),o=0;d>o;o++)a=l[c[o]],void 0!==a&&("string"==typeof a&&this.trimByCollect&&(a=e.trim(a)),r[o]=a);if(l=0,n=h.length-1,0>n)h.push(r),u.push([i]);else if(a=this.compareVectors(r,h[n]),0===a)u[n].push(i);else if(1===a||this.skipSort)h.push(r),u.push([i]);else if(a=this.compareVectors(h[0],r),1===a)h.unshift(r),u.unshift([i]);else if(0===a)u[0].push(i);else for(;;){if(2>n-l){h.splice(n,0,r),u.splice(n,0,[i]);break}if(o=Math.floor((l+n)/2),a=this.compareVectors(h[o],r),0===a){u[o].push(i);break}1===a?n=o:l=o}}};var r=e.jgrid;r.extend({pivotSetup:function(a,o){var l,n,s,d,c,u,h,p,f,g,m,v=this[0],b=e.isArray,w={},y={groupField:[],groupSummary:[],groupSummaryPos:[]},x={grouping:!0,groupingView:y},C=e.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:a},o||{}),j=a.length,q=C.xDimension,S=C.yDimension,D=C.aggregates,j=C.totalText||C.totals||C.rowTotals||C.totalHeader,R=b(q)?q.length:0;h=b(S)?S.length:0;var _,F,G,k,I,O,N,T,A,M,E,z=b(D)?D.length:0,P=h-(1===z?1:0),B=[],V=[],L=[],b=[],H=Array(z),W=Array(h);n=function(t,r,o){return t=new i(C.trimByCollect,C.caseSensitive,r,t),\ne.isFunction(o)&&(t.compareVectorsEx=o),t.createDataIndex(a),t};var U=function(t,i,a,o,l){var n,s;switch(t){case 1:n=S[o].totalText||"{0} {1} {2}",s="y"+l+"t"+o;break;case 2:n=C.totalText||"{0}",s="t";break;default:n=z>1?i.label||"{0}":E.getItem(l)[o],s="y"+l}return t=e.extend({},i,{name:s+(z>1?"a"+a:""),label:e.isFunction(n)?n.call(v,2===t?{aggregate:i,iAggregate:a,pivotOptions:C}:{yIndex:E.getItem(l),aggregate:i,iAggregate:a,yLevel:o,pivotOptions:C}):r.template.apply(v,2===t?[n,i.aggregator,i.member,a]:[n,i.aggregator,i.member,E.getItem(l)[o],o])}),delete t.member,delete t.aggregator,t};p=function(e,t,i){var r,a;for(r=0;z>r;r++)a=D[r],void 0===a.template&&void 0===a.formatter&&C.defaultFormatting&&(a.template="count"===a.aggregator?"integer":"number"),L.push(U(e,a,r,t,i))},_=function(t,i,a){var o,l,n,s;for(o=P-1;o>=i;o--)if(V[o]){for(l=0;o>=l;l++)A=B[l].groupHeaders,A[A.length-1].numberOfColumns+=z;for(d=S[o],n=d.totalHeader,s=d.headerOnTop,l=o+1;P-1>=l;l++)B[l].groupHeaders.push({titleText:s&&l===o+1||!s&&l===P-1?e.isFunction(n)?n.call(v,a,o):r.template.call(v,n||"",a[o],o):"",startColumnName:"y"+(t-1)+"t"+o+(1===z?"":"a0"),numberOfColumns:z})}};var Y=function(e){return e=new t("count"===D[e].aggregator?"sum":D[e].aggregator,v,o),e.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},e},X=function(){var e,t;for(e=P-1;e>=0;e--)if(V[e])for(null==W[e]&&(W[e]=Array(z)),t=0;z>t;t++)W[e][t]=Y(t)},Q=function(e,t,i,r){var a,o,l,n=E.getIndexOfDifferences(t,i);if(null!==i)for(n=Math.max(n,0),a=P-1;a>=n;a--)o="y"+e+"t"+a+(z>1?"a"+r:""),V[a]&&void 0===N[o]&&(l=W[a][r],l.getResult(N,o),N.pivotInfos[o]={colType:1,iA:r,a:D[r],level:a,iRows:l.groupInfo.iRows,rows:l.groupInfo.rows,ys:l.groupInfo.ys,iYs:l.groupInfo.iYs},t!==i&&(W[a][r]=Y(r)))},J=function(t,i,r,o,l,n,s){var d;if(t!==i)for(i=P-1;i>=0;i--)V[i]&&(d=W[i][o],d.calc(l[r.member],r.member,l,n,a),d=d.groupInfo,0>e.inArray(s,d.iYs)&&(d.iYs.push(s),d.ys.push(t)),0>e.inArray(n,d.iRows)&&(d.iRows.push(n),d.rows.push(l)))};if(0===R||0===z)throw"xDimension or aggregates options are not set!";for(M=n(q,C.skipSortByX,C.compareVectorsByX),E=n(S,C.skipSortByY,C.compareVectorsByY),o.xIndex=M,o.yIndex=E,n=0;R>n;n++)s=q[n],c={name:"x"+n,label:null!=s.label?e.isFunction(s.label)?s.label.call(v,s,n,C):s.label:s.dataName,frozen:C.frozenStaticCols},R-1>n&&(y.groupField.push(c.name),y.groupSummary.push(C.groupSummary),y.groupSummaryPos.push(C.groupSummaryPos)),c=e.extend(c,s),delete c.dataName,delete c.footerText,L.push(c);for(2>R&&(x.grouping=!1),x.sortname=L[R-1].name,y.hideFirstGroupCol=!0,n=0;h>n;n++)d=S[n],V.push(d.totals||d.rowTotals||d.totalText||d.totalHeader?!0:!1);for(T=E.getItem(0),p(0,h-1,0),y=E.getIndexLength(),c=1;y>c;c++){for(G=E.getItem(c),n=E.getIndexOfDifferences(G,T),s=P-1;s>=n;s--)V[s]&&p(1,s,c-1);T=G,p(0,h-1,c)}for(n=P-1;n>=0;n--)V[n]&&p(1,n,y-1);for(j&&p(2),T=E.getItem(0),s=0;P>s;s++)B.push({useColSpanStyle:C.useColSpanStyle,groupHeaders:[{titleText:T[s],startColumnName:1===z?"y0":"y0a0",numberOfColumns:z}]});for(c=1;y>c;c++){for(G=E.getItem(c),n=E.getIndexOfDifferences(G,T),_(c,n,T),s=P-1;s>=n;s--)B[s].groupHeaders.push({titleText:G[s],startColumnName:"y"+c+(1===z?"":"a0"),numberOfColumns:z});for(s=0;n>s;s++)A=B[s].groupHeaders,A[A.length-1].numberOfColumns+=z;T=G}if(_(y,0,T),j)for(n=0;P>n;n++)B[n].groupHeaders.push({titleText:P-1>n?"":C.totalHeader||"",startColumnName:"t"+(1===z?"":"a0"),numberOfColumns:z});for(_=M.getIndexLength(),h=0;_>h;h++){for(s=M.getItem(h),p={iX:h,x:s},N={pivotInfos:p},n=0;R>n;n++)N["x"+n]=s[n];if(F=M.getIndexesOfSourceData(h),j)for(s=0;z>s;s++)H[s]=Y(s);for(T=null,X(),c=0;y>c;c++){for(G=E.getItem(c),k=E.getIndexesOfSourceData(c),s=0;z>s;s++){for(null!==T&&Q(c-1,G,T,s),I=[],n=0;n<k.length;n++)u=k[n],0<=e.inArray(u,F)&&I.push(u);if(0<I.length){for(f=Array(I.length),O=D[s],g=new t(O.aggregator,v,o),u=0;u<I.length;u++)n=I[u],l=a[n],f[u]=l,g.calc(l[O.member],O.member,l,n,a),j&&(m=H[s],m.calc(l[O.member],O.member,l,n,a),m=m.groupInfo,0>e.inArray(n,m.iYs)&&(m.iYs.push(c),m.ys.push(G)),0>e.inArray(n,m.iRows)&&(m.iRows.push(n),m.rows.push(l))),J(G,T,O,s,l,n,c);l="y"+c+(1===z?"":"a"+s),g.getResult(N,l),p[l]={colType:0,iY:c,y:G,iA:s,a:O,iRows:I,rows:f}}}T=G}if(null!==T)for(s=0;z>s;s++)Q(y-1,T,T,s);if(j)for(s=0;z>s;s++)l="t"+(1===z?"":"a"+s),m=H[s],m.getResult(N,l),m=m.groupInfo,p[l]={colType:2,iA:s,a:D[s],iRows:m.iRows,rows:m.rows,iYs:m.iYs,ys:m.ys};b.push(N)}if(C.footerTotals||C.colTotals){for(j=b.length,n=0;R>n;n++)w["x"+n]=q[n].footerText||"";for(n=R;n<L.length;n++){for(l=L[n].name,g=new t(C.footerAggregator||"sum",v,o),u=0;j>u;u++)N=b[u],g.calc(N[l],l,N,u,b);g.getResult(w,l)}}return o.colHeaders=B,{colModel:L,options:o,rows:b,groupOptions:x,groupHeaders:B,summary:w}},jqPivot:function(t,i,a,o){return this.each(function(){function l(t){var o,l=d.pivotSetup.call(s,t,i),c=l.groupHeaders,u=l.summary,h=0;for(o in u)u.hasOwnProperty(o)&&h++;u=h>0?!0:!1,h=l.groupOptions.groupingView,o=r.from.call(n,l.rows);var p;if(i.skipSortByX)for(p=0;p<h.groupField.length;p++)o.orderBy(h.groupField[p],null!=a&&a.groupingView&&null!=a.groupingView.groupOrder&&"desc"===a.groupingView.groupOrder[p]?"d":"a","text","");if(i.data=t,d.call(s,e.extend(!0,{datastr:e.extend(o.select(),u?{userdata:l.summary}:{}),datatype:"jsonstring",footerrow:u,userDataOnFooter:u,colModel:l.colModel,pivotOptions:l.options,additionalProperties:["pivotInfos"],viewrecords:!0,sortname:i.xDimension[0].dataName},l.groupOptions,a||{})),c.length)for(p=0;p<c.length;p++)c[p]&&c[p].groupHeaders.length&&d.setGroupHeaders.call(s,c[p]);i.frozenStaticCols&&d.setFrozenColumns.call(s)}var n=this,s=e(n),d=e.fn.jqGrid;"string"==typeof t?e.ajax(e.extend({url:t,dataType:"json",success:function(e){l(r.getAccessor(e,o&&o.reader?o.reader:"rows"))}},o||{})):l(t)})}})}(jQuery),function(e){var t=e.jgrid,i=t.jqID,r=e.fn.jqGrid,a=function(){var i=e.makeArray(arguments);return i[0]="subGrid"+i[0].charAt(0).toUpperCase()+i[0].substring(1),i.unshift(""),i.unshift(""),i.unshift(this.p),t.feedback.apply(this,i)};t.extend({setSubGrid:function(){return this.each(function(){var i=this.p,r=i.subGridModel[0];if(i.subGridOptions=e.extend({expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},i.subGridOptions||{}),i.colNames.unshift(""),i.colModel.unshift({name:"subgrid",width:t.cell_width?i.subGridWidth+i.cellLayout:i.subGridWidth,labelClasses:"jqgh_subgrid",sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0,frozen:!0}),r)for(r.align=e.extend([],r.align||[]),i=0;i<r.name.length;i++)r.align[i]=r.align[i]||"left"})},addSubGridCell:function(e,i){var a=this[0],o=a.p.subGridOptions;return null==a||null==a.p||null==o?"":\'<td role="gridcell" class=\\\'\'+r.getGuiStyles.call(this,"subgrid.tdStart","ui-sgcollapsed sgcollapsed")+"\' "+a.formatCol(e,i)+"><a style=\'cursor:pointer;\'><span class=\'"+t.mergeCssClasses(o.commonIconClass,o.plusicon)+"\'></span></a></td>"},addSubGrid:function(o,l){return this.each(function(){var n,s=this,d=s.p,c=function(e,t){return r.getGuiStyles.call(s,"subgrid."+e,t||"")},u=c("thSubgrid","ui-th-subgrid ui-th-column ui-th-"+d.direction),h=c("rowSubTable","ui-subtblcell"),p=c("row","ui-subgrid ui-row-"+d.direction),f=c("tdWithIcon","subgrid-cell"),g=c("tdData","subgrid-data"),m=function(t,i,r){i=e("<td align=\'"+d.subGridModel[0].align[r]+"\'></td>").html(i),e(t).append(i)},v=function(r,a){var o,l,n,c,p=e("<table"+(t.msie&&8>t.msiever()?" cellspacing=\'0\'":"")+"><tbody></tbody></table>"),f=e("<tr></tr>");for(l=0;l<d.subGridModel[0].name.length;l++)o=e("<th class=\'"+u+"\'></th>"),e(o).html(d.subGridModel[0].name[l]),e(o).width(d.subGridModel[0].width[l]),e(f).append(o);return e(p).append(f),r&&(n=d.xmlReader.subgrid,e(n.root+" "+n.row,r).each(function(){if(f=e("<tr class=\'"+h+"\'></tr>"),!0===n.repeatitems)e(n.cell,this).each(function(t){m(f,e(this).text()||"&#160;",t)});else if(c=d.subGridModel[0].mapping||d.subGridModel[0].name)for(l=0;l<c.length;l++)m(f,e(c[l],this).text()||"&#160;",l);e(p).append(f)})),e("#"+i(d.id+"_"+a)).append(p),s.grid.hDiv.loading=!1,e("#load_"+i(d.id)).hide(),!1},b=function(r,a){var o,l,n,c,p,f,g=e("<table"+(t.msie&&8>t.msiever()?" cellspacing=\'0\'":"")+"><tbody></tbody></table>"),v=e("<tr></tr>");for(l=0;l<d.subGridModel[0].name.length;l++)o=e("<th class=\'"+u+"\'></th>"),e(o).html(d.subGridModel[0].name[l]),e(o).width(d.subGridModel[0].width[l]),e(v).append(o);if(e(g).append(v),r&&(c=d.jsonReader.subgrid,o=t.getAccessor(r,c.root),void 0!==o))for(l=0;l<o.length;l++){if(n=o[l],v=e("<tr class=\'"+h+"\'></tr>"),!0===c.repeatitems)for(c.cell&&(n=n[c.cell]),p=0;p<n.length;p++)m(v,n[p]||"&#160;",p);else if(f=d.subGridModel[0].mapping||d.subGridModel[0].name,f.length)for(p=0;p<f.length;p++)m(v,n[f[p]]||"&#160;",p);e(g).append(v)}return e("#"+i(d.id+"_"+a)).append(g),s.grid.hDiv.loading=!1,e("#load_"+i(d.id)).hide(),!1},w=function(r){var a,o,l=e(r).attr("id"),n={nd_:(new Date).getTime()};if(n[d.prmNames.subgridid]=l,!d.subGridModel[0])return!1;if(d.subGridModel[0].params)for(o=0;o<d.subGridModel[0].params.length;o++)a=d.iColByName[d.subGridModel[0].params[o]],void 0!==a&&(n[d.colModel[a].name]=e(r.cells[a]).text().replace(/\\&#160\\;/gi,""));if(!s.grid.hDiv.loading)switch(s.grid.hDiv.loading=!0,e("#load_"+i(d.id)).show(),d.subgridtype||(d.subgridtype=d.datatype),e.isFunction(d.subgridtype)?d.subgridtype.call(s,n):d.subgridtype=d.subgridtype.toLowerCase(),d.subgridtype){case"xml":case"json":e.ajax(e.extend({type:d.mtype,url:e.isFunction(d.subGridUrl)?d.subGridUrl.call(s,n):d.subGridUrl,dataType:d.subgridtype,data:t.serializeFeedback.call(s,d.serializeSubGridData,"jqGridSerializeSubGridData",n),complete:function(e){"xml"===d.subgridtype?v(e.responseXML,l):b(t.parse(e.responseText),l)}},t.ajaxOptions,d.ajaxSubgridOptions||{}))}return!1},c=function(){var i=e(this).parent("tr")[0],r=i.nextSibling,l=i.id,n=d.id+"_"+l,c=function(e){return t.mergeCssClasses(d.subGridOptions.commonIconClass,d.subGridOptions[e])},u=1;if(e.each(d.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||u++}),e(this).hasClass("sgcollapsed")){if(!0===d.subGridOptions.reloadOnExpand||!1===d.subGridOptions.reloadOnExpand&&!e(r).hasClass("ui-subgrid")){if(r=o>=1?"<td colspan=\'"+o+"\'>&#160;</td>":"",!a.call(s,"beforeExpand",n,l))return;e(i).after("<tr role=\'row\' class=\'"+p+"\'>"+r+"<td class=\'"+f+"\'><span class=\'"+c("openicon")+"\'></span></td><td colspan=\'"+parseInt(d.colNames.length-u,10)+"\' class=\'"+g+"\'><div id=\'"+n+"\' class=\'tablediv\'></div></td></tr>"),e(s).triggerHandler("jqGridSubGridRowExpanded",[n,l]),e.isFunction(d.subGridRowExpanded)?d.subGridRowExpanded.call(s,n,l):w(i)}else e(r).show();e(this).html("<a style=\'cursor:pointer;\'><span class=\'"+c("minusicon")+"\'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),d.subGridOptions.selectOnExpand&&e(s).jqGrid("setSelection",l)}else if(e(this).hasClass("sgexpanded")){if(!a.call(s,"beforeCollapse",n,l))return;!0===d.subGridOptions.reloadOnExpand?e(r).remove(".ui-subgrid"):e(r).hasClass("ui-subgrid")&&e(r).hide(),e(this).html("<a style=\'cursor:pointer;\'><span class=\'"+c("plusicon")+"\'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),d.subGridOptions.selectOnCollapse&&e(s).jqGrid("setSelection",l)}return!1},y=1;if(s.grid){for(n=s.rows.length,void 0!==l&&l>0&&(y=l,n=l+1);n>y;)e(s.rows[y]).hasClass("jqgrow")&&(d.scroll&&e(s.rows[y].cells[o]).unbind("click"),e(s.rows[y].cells[o]).bind("click",c)),y++;!0===d.subGridOptions.expandOnLoad&&e(s.rows).filter(".jqgrow").each(function(t,i){e(i.cells[0]).click()}),s.subGridXml=function(e,t){v(e,t)},s.subGridJson=function(e,t){b(e,t)}}})},expandSubGridRow:function(t){return this.each(function(){var i;(this.grid||t)&&!0===this.p.subGrid&&(i=e(this).jqGrid("getInd",t,!0),e(i).find(">td.sgcollapsed").trigger("click"))})},collapseSubGridRow:function(t){return this.each(function(){var i;(this.grid||t)&&!0===this.p.subGrid&&(i=e(this).jqGrid("getInd",t,!0),e(i).find(">td.sgexpanded").trigger("click"))})},toggleSubGridRow:function(t){return this.each(function(){var i;(this.grid||t)&&!0===this.p.subGrid&&(i=e(this).jqGrid("getInd",t,!0),e(i).find(">td.ui-sgcollapsed").trigger("click"))})}})}(jQuery),function(e){window.tableToGrid=function(t,i){e(t).each(function(){var t,r,a,o,l=e(this),n=[],s=[],d=[],c=[],u=[];if(!this.grid){for(l.width("99%"),t=l.width(),r=e("tr td:first-child input[type=checkbox]:first",l),a=e("tr td:first-child input[type=radio]:first",l),r=0<r.length,a=!r&&0<a.length,o=r||a,e("th",l).each(function(){0===n.length&&o?(n.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),s.push("__selection__")):(n.push({name:e(this).attr("id")||e.trim(e.jgrid.stripHtml(e(this).html())).split(" ").join("_"),index:e(this).attr("id")||e.trim(e.jgrid.stripHtml(e(this).html())).split(" ").join("_"),width:e(this).width()||150}),s.push(e(this).html()))}),e("tbody > tr",l).each(function(){var t={},i=0;e("td",e(this)).each(function(){if(0===i&&o){var r=e("input",e(this)),a=r.attr("value");c.push(a||d.length),r.is(":checked")&&u.push(a),t[n[i].name]=r.attr("value")}else t[n[i].name]=e(this).html();i++}),i>0&&d.push(t)}),l.empty(),l.jqGrid(e.extend({datatype:"local",width:t,colNames:s,colModel:n,multiselect:r},i||{})),t=0;t<d.length;t++)a=null,0<c.length&&(a=c[t])&&a.replace&&(a=encodeURIComponent(a).replace(/[.\\-%]/g,"_")),null===a&&(a=e.jgrid.randId()),l.jqGrid("addRowData",a,d[t]);for(t=0;t<u.length;t++)l.jqGrid("setSelection",u[t])}})}}(jQuery),function(e){var t=e.jgrid,i=t.getAccessor,r=t.stripPref,a=t.jqID,o=e.fn.jqGrid,l=function(){var i=e.makeArray(arguments);return i[0]="treeGrid"+i[0].charAt(0).toUpperCase()+i[0].substring(1),i.unshift(""),i.unshift(""),i.unshift(this.p),t.feedback.apply(this,i)};t.extend({setTreeNode:function(){return this.each(function(){var t=e(this),i=this.p;if(this.grid&&i.treeGrid){var a=i.treeReader.expanded_field,l=i.treeReader.leaf_field;t.unbind("jqGridBeforeSelectRow.setTreeNode"),t.bind("jqGridBeforeSelectRow.setTreeNode",function(n,s,d){if(null!=d){n=e(d.target),d=n.closest("tr.jqgrow>td");var c=d.parent(),u=function(e){e=i.data[i._index[r(i.idPrefix,e)]];var n=e[a]?"collapse":"expand";e[l]||(o[n+"Row"].call(t,e,c),o[n+"Node"].call(t,e,c))};return n.is("div.treeclick")?u(s):i.ExpandColClick&&0<d.length&&0<n.closest("span.ui-jqgrid-cell-wrapper",d).length&&u(s),!0}})}})},setTreeGrid:function(){return this.each(function(){var t,i,r,a=this.p,o=[],l=["leaf_field","expanded_field","loaded"];if(a.treeGrid){a.treedatatype||e.extend(this.p,{treedatatype:a.datatype}),a.subGrid=!1,a.altRows=!1,a.pgbuttons=!1,a.pginput=!1,a.gridview=!0,null===a.rowTotal&&(a.rowNum=a.maxRowNum),a.rowList=[],a.treeIcons.plus="rtl"===a.direction?a.treeIcons.plusRtl:a.treeIcons.plusLtr,"nested"===a.treeGridModel?a.treeReader=e.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.treeReader):"adjacency"===a.treeGridModel&&(a.treeReader=e.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.treeReader));for(i in a.colModel)if(a.colModel.hasOwnProperty(i))for(r in t=a.colModel[i].name,a.treeReader)a.treeReader.hasOwnProperty(r)&&a.treeReader[r]===t&&o.push(t);e.each(a.treeReader,function(t){var i=String(this);i&&-1===e.inArray(i,o)&&(0<=e.inArray(t,l)?a.additionalProperties.push({name:i,convert:function(e){return!0===e||"true"===String(e).toLowerCase()||"1"===String(e)?!0:e}}):a.additionalProperties.push(i))})}})},expandRow:function(t){this.each(function(){var r=e(this),a=this.p;if(this.grid&&a.treeGrid){var n=a.treeReader.expanded_field,s=t[a.localReader.id];if(l.call(this,"beforeExpandRow",{rowid:s,item:t})){var d=o.getNodeChildren.call(r,t);e(d).each(function(){var t=a.idPrefix+i(this,a.localReader.id);e(o.getGridRowById.call(r,t)).css("display",""),this[n]&&o.expandRow.call(r,this)}),l.call(this,"afterExpandRow",{rowid:s,item:t})}}})},collapseRow:function(t){this.each(function(){var r=e(this),a=this.p;if(this.grid&&a.treeGrid){var n=a.treeReader.expanded_field,s=t[a.localReader.id];if(l.call(this,"beforeCollapseRow",{rowid:s,item:t})){var d=o.getNodeChildren.call(r,t);e(d).each(function(){var t=a.idPrefix+i(this,a.localReader.id);e(o.getGridRowById.call(r,t)).css("display","none"),this[n]&&o.collapseRow.call(r,this)}),l.call(this,"afterCollapseRow",{rowid:s,item:t})}}})},getRootNodes:function(){var t=[];return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var r=i.treeReader.level_field;e(i.data).each(function(){parseInt(this[r],10)===parseInt(i.tree_root_level,10)&&t.push(this)});break;case"adjacency":var a=i.treeReader.parent_id_field;e(i.data).each(function(){null!==this[a]&&"null"!==String(this[a]).toLowerCase()||t.push(this)})}}),t},getNodeDepth:function(t){var i=null;return this.each(function(){var r=this.p;if(this.grid&&r.treeGrid)switch(r.treeGridModel){case"nested":i=parseInt(t[r.treeReader.level_field],10)-parseInt(r.tree_root_level,10);break;case"adjacency":i=o.getNodeAncestors.call(e(this),t).length}}),i},getNodeParent:function(t){var i=this[0];if(!i||!i.grid||null==i.p||!i.p.treeGrid||null==t)return null;var i=i.p,r=i.treeReader,a=t[r.parent_id_field];if("nested"===i.treeGridModel){var o=null,l=r.left_field,n=r.right_field,s=r.level_field,d=parseInt(t[l],10),c=parseInt(t[n],10),u=parseInt(t[s],10);return e(i.data).each(function(){return parseInt(this[s],10)===u-1&&parseInt(this[l],10)<d&&parseInt(this[n],10)>c?(o=this,!1):void 0}),o}return null===a||"null"===a?null:(t=i._index[a],void 0!=t?i.data[t]:null)},getNodeChildren:function(t){var i=[];return this.each(function(){var r=this.p;if(this.grid&&r.treeGrid)switch(r.treeGridModel){case"nested":var a=r.treeReader.left_field,o=r.treeReader.right_field,l=r.treeReader.level_field,n=parseInt(t[a],10),s=parseInt(t[o],10),d=parseInt(t[l],10);e(r.data).each(function(){parseInt(this[l],10)===d+1&&parseInt(this[a],10)>n&&parseInt(this[o],10)<s&&i.push(this)});break;case"adjacency":var c=r.treeReader.parent_id_field,u=r.localReader.id;e(r.data).each(function(){String(this[c])===String(t[u])&&i.push(this)})}}),i},getFullTreeNode:function(t){var i=[];return this.each(function(){var r,a=this.p;if(this.grid&&a.treeGrid)switch(a.treeGridModel){case"nested":var o=a.treeReader.left_field,l=a.treeReader.right_field,n=a.treeReader.level_field,s=parseInt(t[o],10),d=parseInt(t[l],10),c=parseInt(t[n],10);e(a.data).each(function(){parseInt(this[n],10)>=c&&parseInt(this[o],10)>=s&&parseInt(this[o],10)<=d&&i.push(this)});break;case"adjacency":if(t){i.push(t);var u=a.treeReader.parent_id_field,h=a.localReader.id;e(a.data).each(function(){var e;for(r=i.length,e=0;r>e;e++)if(i[e][h]===this[u]){i.push(this);break}})}}}),i},getNodeAncestors:function(t){var i=[];return this.each(function(){var r=e(this),a=o.getNodeParent;if(this.grid&&this.p.treeGrid)for(var l=a.call(r,t);l;)i.push(l),l=a.call(r,l)}),i},isVisibleNode:function(t){var i=!0;return this.each(function(){var r=this.p;if(this.grid&&r.treeGrid){var a=o.getNodeAncestors.call(e(this),t),l=r.treeReader.expanded_field;e(a).each(function(){return i=i&&this[l],i?void 0:!1})}}),i},isNodeLoaded:function(t){var i;return this.each(function(){var r=this.p;if(this.grid&&r.treeGrid){var a=r.treeReader.leaf_field,r=r.treeReader.loaded;i=void 0!==t?void 0!==t[r]?t[r]:t[a]||0<o.getNodeChildren.call(e(this),t).length?!0:!1:!1}}),i},expandNode:function(t){return this.each(function(){var r=this.p;if(this.grid&&r.treeGrid){var n=r.treeReader.expanded_field,s=r.treeReader.parent_id_field,d=r.treeReader.loaded,c=r.treeReader.level_field,u=r.treeReader.left_field,h=r.treeReader.right_field;if(!t[n]){var p=i(t,r.localReader.id);if(l.call(this,"beforeExpandNode",{rowid:p,item:t})){var f=e("#"+r.idPrefix+a(p),this.grid.bDiv)[0],g=r._index[p];"local"===r.treedatatype||o.isNodeLoaded.call(e(this),r.data[g])?(t[n]=!0,e("div.treeclick",f).removeClass(r.treeIcons.plus+" tree-plus").addClass(r.treeIcons.commonIconClass).addClass(r.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[n]=!0,e("div.treeclick",f).removeClass(r.treeIcons.plus+" tree-plus").addClass(r.treeIcons.commonIconClass).addClass(r.treeIcons.minus+" tree-minus"),r.treeANode=f.rowIndex,r.datatype=r.treedatatype,o.setGridParam.call(e(this),{postData:"nested"===r.treeGridModel?{nodeid:p,n_level:t[c],n_left:t[u],n_right:t[h]}:{nodeid:p,n_level:t[c],parentid:t[s]}}),e(this).trigger("reloadGrid"),t[d]=!0,o.setGridParam.call(e(this),{postData:"nested"===r.treeGridModel?{nodeid:"",n_level:"",n_left:"",n_right:""}:{nodeid:"",n_level:"",parentid:""}})),l.call(this,"afterExpandNode",{rowid:p,item:t})}}}})},collapseNode:function(t){return this.each(function(){var r=this.p;if(this.grid&&r.treeGrid){var o=r.treeReader.expanded_field;if(t[o]){var n=i(t,r.localReader.id);l.call(this,"beforeCollapseNode",{rowid:n,item:t})&&(t[o]=!1,o=e("#"+r.idPrefix+a(n),this.grid.bDiv)[0],e("div.treeclick",o).removeClass(r.treeIcons.minus+" tree-minus").addClass(r.treeIcons.commonIconClass).addClass(r.treeIcons.plus+" tree-plus"),l.call(this,"afterCollapseNode",{rowid:n,item:t}))}}})},SortTree:function(r,l,n,s){return this.each(function(){var d=this,c=d.p,u=e(d);if(d.grid&&c.treeGrid){var h,p,f,g=[];h=o.getRootNodes.call(u),h=t.from.call(d,h),h.orderBy(r,l,n,s);var m=h.select();for(h=0,p=m.length;p>h;h++)f=m[h],g.push(f),o.collectChildrenSortTree.call(u,g,f,r,l,n,s);e.each(g,function(t){var r=i(this,c.localReader.id);e(d.rows[t]).after(u.find(">tbody>tr#"+a(r)))})}})},collectChildrenSortTree:function(i,r,a,l,n,s){return this.each(function(){var d=e(this);if(this.grid&&this.p.treeGrid){var c,u,h;c=o.getNodeChildren.call(d,r),c=t.from.call(this,c),c.orderBy(a,l,n,s);var p=c.select();for(c=0,u=p.length;u>c;c++)h=p[c],i.push(h),o.collectChildrenSortTree.call(d,i,h,a,l,n,s)}})},setTreeRow:function(t,i){var r=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(r=o.setRowData.call(e(this),t,i))}),r},delTreeNode:function(i){return this.each(function(){var r,a,l,n,s=this.p;l=s.localReader.id;var d,c=e(this),u=s.treeReader.left_field,h=s.treeReader.right_field;if(this.grid&&s.treeGrid&&(d=s._index[i],void 0!==d)){r=parseInt(s.data[d][h],10),a=r-parseInt(s.data[d][u],10)+1;var p=o.getFullTreeNode.call(c,s.data[d]);if(0<p.length)for(d=0;d<p.length;d++)o.delRowData.call(c,p[d][l]);if("nested"===s.treeGridModel){if(l=t.from.call(this,s.data).greater(u,r,{stype:"integer"}).select(),l.length)for(n in l)l.hasOwnProperty(n)&&(l[n][u]=parseInt(l[n][u],10)-a);if(l=t.from.call(this,s.data).greater(h,r,{stype:"integer"}).select(),l.length)for(n in l)l.hasOwnProperty(n)&&(l[n][h]=parseInt(l[n][h],10)-a)}}})},addChildNode:function(i,r,a,l){var n=e(this),s=n[0],d=s.p,c=o.getInd;if(a){var u,h,p,f,g;u=0;var m,v,b=r,w=d.treeReader.expanded_field;v=d.treeReader.leaf_field;var y=d.treeReader.level_field,x=d.treeReader.parent_id_field,C=d.treeReader.left_field,j=d.treeReader.right_field,q=d.treeReader.loaded;if(void 0===l&&(l=!1),null==i){if(g=d.data.length-1,g>=0)for(;g>=0;)u=Math.max(u,parseInt(d.data[g][d.localReader.id],10)),g--;i=u+1}var S=c.call(n,r);if(m=!1,void 0===r||null===r||""===r?(b=r=null,u="last",f=d.tree_root_level,g=d.data.length+1):(u="after",h=d._index[r],p=d.data[h],r=p[d.localReader.id],f=parseInt(p[y],10)+1,g=o.getFullTreeNode.call(n,p),g.length?(b=g=g[g.length-1][d.localReader.id],g=c.call(n,b)+1):g=c.call(n,r)+1,p[v]&&(m=!0,p[w]=!0,e(s.rows[S]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(d.treeIcons.leaf+" tree-leaf").addClass(d.treeIcons.commonIconClass).addClass(d.treeIcons.minus+" tree-minus"),d.data[h][v]=!1,p[q]=!0)),c=g+1,void 0===a[w]&&(a[w]=!1),void 0===a[q]&&(a[q]=!1),a[y]=f,void 0===a[v]&&(a[v]=!0),"adjacency"===d.treeGridModel&&(a[x]=r),"nested"===d.treeGridModel){var D;if(null!==r){if(v=parseInt(p[j],10),d=t.from.call(s,d.data),d=d.greaterOrEquals(j,v,{stype:"integer"}),y=d.select(),y.length)for(D in y)y.hasOwnProperty(D)&&(y[D][C]=y[D][C]>v?parseInt(y[D][C],10)+2:y[D][C],y[D][j]=y[D][j]>=v?parseInt(y[D][j],10)+2:y[D][j]);a[C]=v,a[j]=v+1}else{if(v=parseInt(o.getCol.call(n,j,!1,"max"),10),y=t.from.call(s,d.data).greater(C,v,{stype:"integer"}).select(),y.length)for(D in y)y.hasOwnProperty(D)&&(y[D][C]=parseInt(y[D][C],10)+2);if(y=t.from.call(s,d.data).greater(j,v,{stype:"integer"}).select(),y.length)for(D in y)y.hasOwnProperty(D)&&(y[D][j]=parseInt(y[D][j],10)+2);a[C]=v+1,a[j]=v+2}}(null===r||o.isNodeLoaded.call(n,p)||m)&&(o.addRowData.call(n,i,a,u,b),o.setTreeNode.call(n,g,c)),p&&!p[w]&&l&&e(s.rows[S]).find("div.treeclick").click()}}})}(jQuery),function(e){var t="mousedown",i="mousemove",r="mouseup",a=function(e){var t=e.originalEvent.targetTouches;return t?(t=t[0],{x:t.pageX,y:t.pageY}):{x:e.pageX,y:e.pageY}},o={drag:function(e){var t=e.data,i=t.e,r=t.dnr,o=t.ar,t=t.dnrAr;return e=a(e),"move"===r.k?i.css({left:r.X+e.x-r.pX,top:r.Y+e.y-r.pY}):(i.css({width:Math.max(e.x-r.pX+r.W,0),height:Math.max(e.y-r.pY+r.H,0)}),t&&o.css({width:Math.max(e.x-t.pX+t.W,0),height:Math.max(e.y-t.pY+t.H,0)})),!1},stop:function(){e(document).unbind(i,o.drag).unbind(r,o.stop)}},l=function(l,n,s,d){return l.each(function(){n=n?e(n,l):l,n.bind(t,{e:l,k:s},function(t){var l,n,s=t.data,c={},u=function(e,t){return parseInt(e.css(t),10)||!1},h=a(t);if(!e(t.target).hasClass("ui-jqdialog-titlebar-close")&&!e(t.target).parent().hasClass("ui-jqdialog-titlebar-close")){if(t=s.e,n=d?e(d):!1,"relative"!==t.css("position"))try{t.position(c)}catch(p){}if(l={X:c.left||u(t,"left")||0,Y:c.top||u(t,"top")||0,W:u(t,"width")||t[0].scrollWidth||0,H:u(t,"height")||t[0].scrollHeight||0,pX:h.x,pY:h.y,k:s.k},c=n&&"move"!==s.k?{X:c.left||u(n,"left")||0,Y:c.top||u(n,"top")||0,W:n[0].offsetWidth||u(n,"width")||0,H:n[0].offsetHeight||u(n,"height")||0,pX:h.x,pY:h.y,k:s.k}:!1,s=t.find("input.hasDatepicker"),0<s.length)try{s.datepicker("hide")}catch(f){}return t={e:t,dnr:l,ar:n,dnrAr:c},e(document).bind(i,t,o.drag),e(document).bind(r,t,o.stop),!1}e(t.target).click()})})};window.PointerEvent?(t+=".jqGrid pointerdown.jqGrid",i+=".jqGrid pointermove.jqGrid",r+=".jqGrid pointerup.jqGrid"):window.MSPointerEvent?(t+=".jqGrid mspointerdown.jqGrid",i+=".jqGrid mspointermove.jqGrid",r+=".jqGrid mspointerup"):(t+=".jqGrid touchstart.jqGrid",i+=".jqGrid touchmove.jqGrid",r+=".jqGrid touchend.jqGrid"),e.jqDnR=o,e.fn.jqDrag=function(e){return l(this,e,"move")},e.fn.jqResize=function(e,t){return l(this,e,"resize",t)}}(jQuery),function(e){var t,i=0,r=[],a=function(t){try{e(":input:visible",t.w).first().focus()}catch(i){}},o=function(i){var o=t[r[r.length-1]],l=!e(i.target).parents(".jqmID"+o.s)[0],n=e(i.target).offset(),s=void 0!==i.pageX?i.pageX:n.left,d=void 0!==i.pageY?i.pageY:n.top,n=function(){var t=!1;return e(".jqmID"+o.s).each(function(){var i=e(this),r=i.offset();return r.top<=d&&d<=r.top+i.height()&&r.left<=s&&s<=r.left+i.width()?(t=!0,!1):void 0}),t};return"mousedown"!==i.type&&n()?!0:("mousedown"===i.type&&l&&(n()&&(l=!1),l&&!e(i.target).is(":input")&&a(o)),!l)},l=function(t){e(document)[t]("keypress keydown mousedown",o)},n=function(i,r,a){return i.each(function(){var i=this._jqm;e(r).each(function(){this[a]||(this[a]=[],e(this).click(function(){var e,i,r,a=["jqmShow","jqmHide"];for(e=0;e<a.length;e++)for(r in i=a[e],this[i])this[i].hasOwnProperty(r)&&t[this[i][r]]&&t[this[i][r]].w[i](this);return!1})),this[a].push(i)})})};e.fn.jqm=function(r){var a={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){return this._jqm?(t[this._jqm].c=e.extend({},t[this._jqm].c,r),t[this._jqm].c):(i++,this._jqm=i,t[i]={c:e.extend(a,e.jqm.params,r),a:!1,w:e(this).addClass("jqmID"+i),s:i},void(a.trigger&&e(this).jqmAddTrigger(a.trigger)))})},e.fn.jqmAddClose=function(e){return n(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return n(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each(function(){e.jqm.open(this._jqm,t)})},e.fn.jqmHide=function(t){return this.each(function(){e.jqm.close(this._jqm,t)})},e.jqm={hash:{},open:function(i,o){var n,s,d=t[i],c=d.c;n=d.w.parent().offset();var u,h="."+c.closeClass;return s=parseInt(d.w.css("z-index"),10),s=s>0?s:3e3,n=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":s-1,opacity:c.overlay/100}),d.a?!1:(d.t=o,d.a=!0,d.w.css("z-index",s),c.modal?(r[0]||setTimeout(function(){l("bind")},1),r.push(i)):0<c.overlay?c.closeoverlay&&d.w.jqmAddClose(n):n=!1,d.o=n?n.addClass(c.overlayClass).prependTo("body"):!1,c.ajax?(n=c.target||d.w,s=c.ajax,n="string"==typeof n?e(n,d.w):e(n),s="@"===s.substr(0,1)?e(o).attr(s.substring(1)):s,n.html(c.ajaxText).load(s,function(){c.onLoad&&c.onLoad.call(this,d),h&&d.w.jqmAddClose(e(h,d.w)),a(d)})):h&&d.w.jqmAddClose(e(h,d.w)),c.toTop&&d.o&&(n=d.w.parent().offset(),s=parseFloat(d.w.css("left")||0),u=parseFloat(d.w.css("top")||0),d.w.before(\'<span id="jqmP\'+d.w[0]._jqm+\'"></span>\').insertAfter(d.o),d.w.css({top:n.top+u,left:n.left+s})),c.onShow?c.onShow(d):d.w.show(),a(d),!1)},close:function(i){return i=t[i],i.a?(i.a=!1,r[0]&&(r.pop(),r[0]||l("unbind")),i.c.toTop&&i.o&&e("#jqmP"+i.w[0]._jqm).after(i.w).remove(),i.c.onHide?i.c.onHide(i):(i.w.hide(),i.o&&i.o.remove()),!1):!1},params:{}},t=e.jqm.hash}(jQuery),function(e){e.fmatter=e.fmatter||{},e.jgrid=e.jgrid||{};var t=e.fmatter,i=e.jgrid,r=i.getMethod("getGridRes");e.extend(!0,i,{formatter:{date:{parseRe:/[#%\\\\\\/:_;.,\\t\\s\\-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",SortableDateTime:"Y-m-d\\\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO"},reformatAfterEdit:!0,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"},cmTemplate:{integerStr:{formatter:"integer",align:"right",sorttype:"integer",searchoptions:{sopt:"eq ne lt le gt ge".split(" ")}},integer:{formatter:"integer",align:"right",sorttype:"integer",convertOnSave:function(e){return e=e.newValue,isNaN(e)?e:parseInt(e,10)},searchoptions:{sopt:"eq ne lt le gt ge".split(" ")}},numberStr:{formatter:"number",align:"right",sorttype:"number",searchoptions:{sopt:"eq ne lt le gt ge".split(" ")}},number:{formatter:"number",align:"right",sorttype:"number",convertOnSave:function(e){return e=e.newValue,isNaN(e)?e:parseFloat(e)},searchoptions:{sopt:"eq ne lt le gt ge".split(" ")}},booleanCheckbox:{align:"center",formatter:"checkbox",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(t){var i=t.newValue,r=t.cm;return t=String(i).toLowerCase(),r=null!=r.editoptions&&"string"==typeof r.editoptions.value?r.editoptions.value.split(":"):["yes","no"],0<=e.inArray(t,["1","true",r[0].toLowerCase()])?i=!0:0<=e.inArray(t,["0","false",r[1].toLowerCase()])&&(i=!1),i},stype:"select",searchoptions:{sopt:["eq","ne"],value:":Any;true:Yes;false:No"}},booleanCheckboxFa:{align:"center",formatter:"checkboxFontAwesome4",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(t){var i=t.newValue,r=t.cm;return t=String(i).toLowerCase(),r=null!=r.editoptions&&"string"==typeof r.editoptions.value?r.editoptions.value.split(":"):["yes","no"],0<=e.inArray(t,["1","true",r[0].toLowerCase()])?i=!0:0<=e.inArray(t,["0","false",r[1].toLowerCase()])&&(i=!1),i},stype:"select",searchoptions:{sopt:["eq","ne"],value:":Any;true:Yes;false:No"}},actions:function(){return{formatter:"actions",width:(null!=this.p&&this.p.fontAwesomeIcons?33:37)+(i.cellWidth()?5:0),align:"center",label:"",autoResizable:!1,frozen:!0,fixed:!0,hidedlg:!0,resizable:!1,sortable:!1,search:!1,editable:!1,viewable:!1}}}}),e.extend(t,{isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||"string"==typeof e||this.isNumber(e)||"boolean"==typeof e},isEmpty:function(t){return"string"!=typeof t&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\\&nbsp\\;/gi,"").replace(/\\&#160\\;/gi,""),\n""===t):!0},NumberFormat:function(e,i){var r=t.isNumber;if(r(e)||(e*=1),r(e)){var a=0>e,o=String(e),l=i.decimalSeparator||".";if(r(i.decimalPlaces)){var n=i.decimalPlaces,o=Math.pow(10,n),o=String(Math.round(e*o)/o),r=o.lastIndexOf(".");if(n>0)for(0>r?(o+=l,r=o.length-1):"."!==l&&(o=o.replace(".",l));o.length-1-r<n;)o+="0"}if(i.thousandsSeparator){var s,n=i.thousandsSeparator,r=o.lastIndexOf(l),r=r>-1?r:o.length,l=void 0===i.decimalSeparator?"":o.substring(r),d=-1;for(s=r;s>0;s--)d++,0===d%3&&s!==r&&(!a||s>1)&&(l=n+l),l=o.charAt(s-1)+l;o=l}return o}return e}});var a=function(t,i,a,o,l){var n=i;a=e.extend({},r.call(e(this),"formatter"),a);try{n=e.fn.fmatter[t].call(this,i,a,o,l)}catch(s){}return n};e.fn.fmatter=a,a.getCellBuilder=function(t,i,a){return t=null!=e.fn.fmatter[t]?e.fn.fmatter[t].getCellBuilder:null,e.isFunction(t)?t.call(this,e.extend({},r.call(e(this),"formatter"),i),a):null},a.defaultFormat=function(e,i){return t.isValue(e)&&""!==e?e:i.defaultValue||"&#160;"};var o=a.defaultFormat;a.email=function(e,i){return t.isEmpty(e)?o(e,i):\'<a href="mailto:\'+e+\'">\'+e+"</a>"},a.checkbox=function(i,r){var a=r.colModel,l=e.extend({},r.checkbox);return null!=a&&(l=e.extend({},l,a.formatoptions||{})),a=!0===l.disabled?\'disabled="disabled"\':"",(t.isEmpty(i)||void 0===i)&&(i=o(i,l)),i=String(i),i=String(i).toLowerCase(),\'<input type="checkbox" \'+(0>i.search(/(false|f|0|no|n|off|undefined)/i)?" checked=\'checked\' ":"")+\' value="\'+i+\'" data-offval="no" \'+a+"/>"},a.checkbox.getCellBuilder=function(i){var r,a=i.colModel,l=e.extend({},i.checkbox);return null!=a&&(l=e.extend({},l,a.formatoptions||{})),r=\'" data-offval="no" \'+(!0===l.disabled?\'disabled="disabled"\':"")+"/>",function(e){return(t.isEmpty(e)||void 0===e)&&(e=o(e,l)),e=String(e).toLowerCase(),\'<input type="checkbox" \'+(0>e.search(/(false|f|0|no|n|off|undefined)/i)?" checked=\'checked\' ":"")+\' value="\'+e+r}},a.checkboxFontAwesome4=function(e,t){var i=t.colModel,r=!1!==i.title?\' title="\'+(t.colName||i.label||i.name)+\'"\':"",a=String(e).toLowerCase(),i=i.editoptions||{},i="string"==typeof i.value?i.value.split(":")[0]:"yes";return 1===e||"1"===a||"x"===a||!0===e||"true"===a||"yes"===a||a===i?\'<i class="fa fa-check-square-o fa-lg"\'+r+"></i>":\'<i class="fa fa-square-o fa-lg"\'+r+"></i>"},a.checkboxFontAwesome4.getCellBuilder=function(e){var t=e.colModel;e=!1!==t.title?\' title="\'+(e.colName||t.label||t.name)+\'"\':"";var t=t.editoptions||{},i="string"==typeof t.value?t.value.split(":")[0]:"yes",r=\'<i class="fa fa-check-square-o fa-lg"\'+e+"></i>",a=\'<i class="fa fa-square-o fa-lg"\'+e+"></i>";return function(e){var t=String(e).toLowerCase();return!0===e||1===e||"1"===t||"x"===t||"true"===t||"yes"===t||t===i?r:a}},a.checkboxFontAwesome4.unformat=function(t,i,r){return t=i.colModel.editoptions||{},t="string"==typeof t.value?t.value.split(":"):["Yes","No"],e(">i",r).hasClass("fa-check-square-o")?t[0]:t[1]},a.link=function(i,r){var a=r.colModel,l="",n={target:r.target};return null!=a&&(n=e.extend({},n,a.formatoptions||{})),n.target&&(l="target="+n.target),t.isEmpty(i)?o(i,n):"<a "+l+\' href="\'+i+\'">\'+i+"</a>"},a.showlink=function(i,r,a){var l,n,s=this,d=r.colModel,c={baseLinkUrl:r.baseLinkUrl,showAction:r.showAction,addParam:r.addParam||"",target:r.target,idName:r.idName,hrefDefaultValue:"#"},u="",h=function(t){return e.isFunction(t)?t.call(s,{cellValue:i,rowid:r.rowId,rowData:a,options:c}):t||""};return null!=d&&(c=e.extend({},c,d.formatoptions||{})),c.target&&(u="target="+h(c.target)),d=h(c.baseLinkUrl)+h(c.showAction),l=c.idName?encodeURIComponent(h(c.idName))+"="+encodeURIComponent(h(c.rowId)||r.rowId):"",n=h(c.addParam),"object"==typeof n&&null!==n&&(n=(""!==l?"&":"")+e.param(n)),d+=l||n?"?"+l+n:"",""===d&&(d=h(c.hrefDefaultValue)),"string"==typeof i||t.isNumber(i)||e.isFunction(c.cellValue)?"<a "+u+\' href="\'+d+\'">\'+(e.isFunction(c.cellValue)?h(c.cellValue):i)+"</a>":o(i,c)},a.showlink.getCellBuilder=function(i){var r={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName,hrefDefaultValue:"#"};return i=i.colModel,null!=i&&(r=e.extend({},r,i.formatoptions||{})),function(i,a,l){var n,s,d=this,c=a.rowId,u="",h=function(t){return e.isFunction(t)?t.call(d,{cellValue:i,rowid:c,rowData:l,options:r}):t||""};return r.target&&(u="target="+h(r.target)),n=h(r.baseLinkUrl)+h(r.showAction),a=r.idName?encodeURIComponent(h(r.idName))+"="+encodeURIComponent(h(c)||a.rowId):"",s=h(r.addParam),"object"==typeof s&&null!==s&&(s=(""!==a?"&":"")+e.param(s)),n+=a||s?"?"+a+s:"",""===n&&(n=h(r.hrefDefaultValue)),"string"==typeof i||t.isNumber(i)||e.isFunction(r.cellValue)?"<a "+u+\' href="\'+n+\'">\'+(e.isFunction(r.cellValue)?h(r.cellValue):i)+"</a>":o(i,r)}},a.showlink.pageFinalization=function(t){var i,r,a=e(this),o=this.p,l=o.colModel[t],n=this.rows,s=n.length,d=function(i){var r=e(this).closest(".jqgrow");return 0<r.length?l.formatoptions.onClick.call(a[0],{iCol:t,iRow:r[0].rowIndex,rowid:r.attr("id"),cm:l,cmName:l.name,cellValue:e(this).text(),a:this,event:i}):void 0};if(null!=l.formatoptions&&e.isFunction(l.formatoptions.onClick))for(i=0;s>i;i++)r=n[i],e(r).hasClass("jqgrow")&&(r=r.cells[t],l.autoResizable&&null!=r&&e(r.firstChild).hasClass(o.autoResizing.wrapperClassName)&&(r=r.firstChild),e(r.firstChild).bind("click",d))};var l=function(e,t){return e=t.prefix?t.prefix+e:e,t.suffix?e+t.suffix:e},n=function(i,r,a){var o=r.colModel;return r=e.extend({},r[a]),null!=o&&(r=e.extend({},r,o.formatoptions||{})),t.isEmpty(i)?l(r.defaultValue,r):l(t.NumberFormat(i,r),r)};a.integer=function(e,t){return n(e,t,"integer")},a.number=function(e,t){return n(e,t,"number")},a.currency=function(e,t){return n(e,t,"currency")};var s=function(i,r){var a=i.colModel,o=e.extend({},i[r]);null!=a&&(o=e.extend({},o,a.formatoptions||{}));var n=t.NumberFormat,s=o.defaultValue?l(o.defaultValue,o):"";return function(e){return t.isEmpty(e)?s:l(n(e,o),o)}};a.integer.getCellBuilder=function(e){return s(e,"integer")},a.number.getCellBuilder=function(e){return s(e,"number")},a.currency.getCellBuilder=function(e){return s(e,"currency")},a.date=function(r,a,l,n){return l=a.colModel,a=e.extend({},a.date),null!=l&&(a=e.extend({},a,l.formatoptions||{})),a.reformatAfterEdit||"edit"!==n?t.isEmpty(r)?o(r,a):i.parseDate.call(this,a.srcformat,r,a.newformat,a):o(r,a)},a.date.getCellBuilder=function(r,a){var l=e.extend({},r.date);null!=r.colModel&&(l=e.extend({},l,r.colModel.formatoptions||{}));var n=i.parseDate,s=l.srcformat,d=l.newformat;return l.reformatAfterEdit||"edit"!==a?function(e){return t.isEmpty(e)?o(e,l):n.call(this,s,e,d,l)}:function(e){return o(e,l)}},a.select=function(i,r){var a,l=[],n=r.colModel,n=e.extend({},n.editoptions||{},n.formatoptions||{}),s=n.value,d=n.separator||":",c=n.delimiter||";";if(s){var u=!0===n.multiple?!0:!1,h=[],p=function(e,t){return t>0?e:void 0};if(u&&(h=e.map(String(i).split(","),function(t){return e.trim(t)})),"string"==typeof s){var f,g,m=s.split(c);for(f=0;f<m.length;f++)if(c=m[f].split(d),2<c.length&&(c[1]=e.map(c,p).join(d)),g=e.trim(c[0]),n.defaultValue===g&&(a=c[1]),u)-1<e.inArray(g,h)&&l.push(c[1]);else if(g===e.trim(i)){l=[c[1]];break}}else t.isObject(s)&&(a=s[n.defaultValue],l=u?e.map(h,function(e){return s[e]}):[void 0===s[i]?"":s[i]])}return i=l.join(", "),""!==i?i:void 0!==n.defaultValue?a:o(i,n)},a.select.getCellBuilder=function(i){i=i.colModel;var r=a.defaultFormat,o=e.extend({},i.editoptions||{},i.formatoptions||{}),l=o.value;i=o.separator||":";var n,s,d=o.delimiter||";",c=void 0!==o.defaultValue,u=!0===o.multiple?!0:!1,h={},p=function(e,t){return t>0?e:void 0};if("string"==typeof l)for(l=l.split(d),d=l.length,s=d-1;s>=0;s--)d=l[s].split(i),2<d.length&&(d[1]=e.map(d,p).join(i)),h[e.trim(d[0])]=d[1];else{if(!t.isObject(l))return function(e){return e?String(e):r(e,o)};h=l}return c&&(n=h[o.defaultValue]),u?function(t){var i,a=[],l=e.map(String(t).split(","),function(t){return e.trim(t)});for(i=0;i<l.length;i++)t=l[i],h.hasOwnProperty(t)&&a.push(h[t]);return t=a.join(", "),""!==t?t:c?n:r(t,o)}:function(e){var t=h[String(e)];return""!==t&&void 0!==t?t:c?n:r(e,o)}},a.rowactions=function(t,r){var a=e(this).closest("tr.jqgrow"),o=a.attr("id"),l=e(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),n=e("#"+i.jqID(l)),l=n[0],s=l.p,d=s.colModel[i.getCellIndex(this)],d=e.extend(!0,{extraparam:{}},i.actionsNav||{},s.actionsNavOptions||{},d.formatoptions||{});void 0!==s.editOptions&&(d.editOptions=s.editOptions),void 0!==s.delOptions&&(d.delOptions=s.delOptions),a.hasClass("jqgrid-new-row")&&(d.extraparam[s.prmNames.oper]=s.prmNames.addoper);var c={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:d.afterSave,errorfunc:d.onError,afterrestorefunc:d.afterRestore,restoreAfterError:d.restoreAfterError,mtype:d.mtype};switch(!s.multiselect&&o!==s.selrow||s.multiselect&&0>e.inArray(o,s.selarrrow)?n.jqGrid("setSelection",o,!0,t):i.fullBoolFeedback.call(l,"onSelectRow","jqGridSelectRow",o,!0,t),r){case"edit":n.jqGrid("editRow",o,c);break;case"save":n.jqGrid("saveRow",o,c);break;case"cancel":n.jqGrid("restoreRow",o,d.afterRestore);break;case"del":d.delOptions=d.delOptions||{},void 0===d.delOptions.top&&(d.delOptions.top=a.offset().top+a.outerHeight()-n.closest(".ui-jqgrid").offset().top),n.jqGrid("delGridRow",o,d.delOptions);break;case"formedit":d.editOptions=d.editOptions||{},void 0===d.editOptions.top&&(d.editOptions.top=a.offset().top+a.outerHeight()-n.closest(".ui-jqgrid").offset().top,d.editOptions.recreateForm=!0),n.jqGrid("editGridRow",o,d.editOptions);break;default:if(null!=d.custom&&0<d.custom.length)for(n=d.custom.length,a=0;n>a;a++)s=d.custom[a],s.action===r&&e.isFunction(s.onClick)&&s.onClick.call(l,{rowid:o,event:t,action:r,options:s})}return t.stopPropagation&&t.stopPropagation(),!1},a.actions=function(a,o,l,n){a=o.rowId;var s="",d=this.p,c=e(this),u={},h=r.call(c,"edit")||{},c=e.extend({editbutton:!0,delbutton:!0,editformbutton:!1,commonIconClass:"ui-icon",editicon:"ui-icon-pencil",delicon:"ui-icon-trash",saveicon:"ui-icon-disk",cancelicon:"ui-icon-cancel",savetitle:h.bSubmit||"",canceltitle:h.bCancel||""},r.call(c,"nav")||{},i.nav||{},d.navOptions||{},r.call(c,"actionsNav")||{},i.actionsNav||{},d.actionsNavOptions||{},o.colModel.formatoptions||{}),h=i.mergeCssClasses,d=h(i.getRes(i.guiStyles[d.guiStyle],"states.hover")),d="onmouseover=\\"jQuery(this).addClass(\'"+d+"\');\\" onmouseout=\\"jQuery(this).removeClass(\'"+d+"\');\\"",p=[{action:"edit",actionName:"formedit",display:c.editformbutton},{action:"edit",display:!c.editformbutton&&c.editbutton},{action:"del",idPrefix:"Delete",display:c.delbutton},{action:"save",display:c.editformbutton||c.editbutton,hidden:!0},{action:"cancel",display:c.editformbutton||c.editbutton,hidden:!0}],f=null!=c.custom?c.custom.length-1:-1;if(void 0===a||t.isEmpty(a))return"";if(e.isFunction(c.isDisplayButtons))try{u=c.isDisplayButtons.call(this,o,l,n)||{}}catch(g){}for(;f>=0;)o=c.custom[f--],p["first"===o.position?"unshift":"push"](o);for(o=0,f=p.length;f>o;o++)if(l=e.extend({},p[o],u[p[o].action]||{}),!1!==l.display){n=l.action;var m=l.actionName||n,v=void 0!==l.idPrefix?l.idPrefix:n.charAt(0).toUpperCase()+n.substring(1);l="<div title=\'"+c[n+"title"]+(l.hidden?"\' style=\'display:none;":"")+"\' class=\'ui-pg-div ui-inline-"+n+"\' "+(null!==v?"id=\'j"+v+"Button_"+a:"")+"\' onclick=\\"return jQuery.fn.fmatter.rowactions.call(this,event,\'"+m+"\');\\" "+(l.noHovering?"":d)+"><span class=\'"+h(c.commonIconClass,c[n+"icon"])+"\'></span></div>",s+=l}return"<div class=\'ui-jqgrid-actions\'>"+s+"</div>"},a.actions.pageFinalization=function(t){var i=e(this),r=this.p,a=r.colModel,o=a[t],l=function(l,n){var s,d,c=0;for(s=a.length,d=0;s>d&&!0===a[d].frozen;d++)c=d;s=i.jqGrid("getGridRowById",n),null!=s&&null!=s.cells&&(t=r.iColByName[o.name],d=e(s.cells[t]).children(".ui-jqgrid-actions"),o.frozen&&r.frozenColumns&&c>=t&&(d=d.add(e(i[0].grid.fbRows[s.rowIndex].cells[t]).children(".ui-jqgrid-actions"))),l?(d.find(">.ui-inline-edit,>.ui-inline-del").show(),d.find(">.ui-inline-save,>.ui-inline-cancel").hide()):(d.find(">.ui-inline-edit,>.ui-inline-del").hide(),d.find(">.ui-inline-save,>.ui-inline-cancel").show()))},n=function(e,t){return l(!0,t),!1},s=function(e,t){return l(!1,t),!1};null!=o.formatoptions&&o.formatoptions.editformbutton||(i.unbind("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",n),i.bind("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",n),i.unbind("jqGridInlineEditRow.jqGridFormatter",s),i.bind("jqGridInlineEditRow.jqGridFormatter",s))},e.unformat=function(t,o,l,n){var s,d=o.colModel,c=d.formatter,u=this.p,h=d.formatoptions||{},p=d.unformat||a[c]&&a[c].unformat;if(t instanceof jQuery&&0<t.length&&(t=t[0]),u.treeGrid&&null!=t&&e(t.firstChild).hasClass("tree-wrap")&&(e(t.lastChild).hasClass("cell-wrapper")||e(t.lastChild).hasClass("cell-wrapperleaf"))&&(t=t.lastChild),d.autoResizable&&null!=t&&e(t.firstChild).hasClass(u.autoResizing.wrapperClassName)&&(t=t.firstChild),void 0!==p&&e.isFunction(p))s=p.call(this,e(t).text(),o,t);else if(void 0!==c&&"string"==typeof c){var f=e(this),g=function(e,t){return void 0!==h[t]?h[t]:r.call(f,"formatter."+e+"."+t)},u=function(e,t){var i=g(e,"thousandsSeparator").replace(/([\\.\\*\\_\\\'\\(\\)\\{\\}\\+\\?\\\\])/g,"\\\\$1");return t.replace(new RegExp(i,"g"),"")};switch(c){case"integer":s=u("integer",e(t).text());break;case"number":s=u("number",e(t).text()).replace(g("number","decimalSeparator"),".");break;case"currency":s=e(t).text(),o=g("currency","prefix"),l=g("currency","suffix"),o&&o.length&&(s=s.substr(o.length)),l&&l.length&&(s=s.substr(0,s.length-l.length)),s=u("number",s).replace(g("number","decimalSeparator"),".");break;case"checkbox":s=null!=d.editoptions&&"string"==typeof d.editoptions.value?d.editoptions.value.split(":"):["Yes","No"],s=e("input",t).is(":checked")?s[0]:s[1];break;case"select":s=e.unformat.select(t,o,l,n);break;case"actions":return"";default:s=e(t).text()}}return s=void 0!==s?s:!0===n?e(t).text():i.htmlDecode(e(t).html())},e.unformat.select=function(i,r,a,o){if(a=[],i=e(i).text(),r=r.colModel,!0===o)return i;r=e.extend({},r.editoptions||{},r.formatoptions||{}),o=void 0===r.separator?":":r.separator;var l=void 0===r.delimiter?";":r.delimiter;if(r.value){var n=r.value;r=!0===r.multiple?!0:!1;var s=[],d=function(e,t){return t>0?e:void 0};if(r&&(s=i.split(","),s=e.map(s,function(t){return e.trim(t)})),"string"==typeof n){var c,u=n.split(l),h=0;for(c=0;c<u.length;c++)if(l=u[c].split(o),2<l.length&&(l[1]=e.map(l,d).join(o)),r)-1<e.inArray(e.trim(l[1]),s)&&(a[h]=l[0],h++);else if(e.trim(l[1])===e.trim(i)){a[0]=l[0];break}}else(t.isObject(n)||e.isArray(n))&&(r||(s[0]=i),a=e.map(s,function(t){var i;return e.each(n,function(e,r){return r===t?(i=e,!1):void 0}),void 0!==i?i:void 0}));return a.join(", ")}return i||""},e.unformat.date=function(a,o){var l=e.extend(!0,{},r.call(e(this),"formatter.date"),i.formatter.date||{},o.formatoptions||{});return t.isEmpty(a)?"":i.parseDate.call(this,l.newformat,a,l.srcformat,l)}}(jQuery),function(){window.xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),i=this.toObj(i),i=this.toJson(i,e.nodeName,"	");return"{\\n"+t+(t?i.replace(/\\t/g,t):i.replace(/\\t|\\n/g,""))+"\\n}"},json2xml:function(e,t){var i,r=function(e,t,i){var a,o,l,n="";if(e instanceof Array)if(0===e.length)n+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\\n";else for(a=0,o=e.length;o>a;a+=1)l=i+r(e[a],t,i+"	")+"\\n",n+=l;else if("object"==typeof e){a=!1,n+=i+"<"+t;for(o in e)e.hasOwnProperty(o)&&("@"===o.charAt(0)?n+=" "+o.substr(1)+\'="\'+e[o].toString()+\'"\':a=!0);if(n+=a?">":"/>",a){for(o in e)e.hasOwnProperty(o)&&("#text"===o?n+=e[o]:"#cdata"===o?n+="<![CDATA["+e[o]+"]]>":"@"!==o.charAt(0)&&(n+=r(e[o],o,i+"	")));n+=("\\n"===n.charAt(n.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?n+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),n=\'""\'===e.toString()||0===e.toString().length?n+(i+"<"+t+">__EMPTY_STRING_</"+t+">"):n+(i+"<"+t+">"+e.toString()+"</"+t+">"));return n},a="";for(i in e)e.hasOwnProperty(i)&&(a+=r(e[i],i,""));return t?a.replace(/\\t/g,t):a.replace(/\\t|\\n/g,"")},toObj:function(e){var t,i={},r=/function/i,a=0,o=0,l=!1;if(1===e.nodeType){if(e.attributes.length)for(t=0;t<e.attributes.length;t+=1)i["@"+e.attributes[t].nodeName]=(e.attributes[t].nodeValue||"").toString();if(e.firstChild){for(t=e.firstChild;t;t=t.nextSibling)1===t.nodeType?l=!0:3===t.nodeType&&t.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)?a+=1:4===t.nodeType&&(o+=1);if(l)if(2>a&&2>o)for(this.removeWhite(e),t=e.firstChild;t;t=t.nextSibling)3===t.nodeType?i["#text"]=this.escape(t.nodeValue):4===t.nodeType?r.test(t.nodeValue)?i[t.nodeName]=[i[t.nodeName],t.nodeValue]:i["#cdata"]=this.escape(t.nodeValue):i[t.nodeName]?i[t.nodeName]instanceof Array?i[t.nodeName][i[t.nodeName].length]=this.toObj(t):i[t.nodeName]=[i[t.nodeName],this.toObj(t)]:i[t.nodeName]=this.toObj(t);else e.attributes.length?i["#text"]=this.escape(this.innerXml(e)):i=this.escape(this.innerXml(e));else if(a)e.attributes.length?i["#text"]=this.escape(this.innerXml(e)):(i=this.escape(this.innerXml(e)),"__EMPTY_ARRAY_"===i?i="[]":"__EMPTY_STRING_"===i&&(i=""));else if(o)if(o>1)i=this.escape(this.innerXml(e));else for(t=e.firstChild;t;t=t.nextSibling){if(r.test(e.firstChild.nodeValue)){i=e.firstChild.nodeValue;break}i["#cdata"]=this.escape(t.nodeValue)}}e.attributes.length||e.firstChild||(i=null)}else 9===e.nodeType?i=this.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return i},toJson:function(e,t,i,r){void 0===r&&(r=!0);var a,o,l=t?\'"\'+t+\'"\':"",n="	",s="\\n",d=[];if(a=[],r||(s=n=""),"[]"===e)l+=t?":[]":"[]";else if(e instanceof Array){for(o=0,a=e.length;a>o;o+=1)d[o]=this.toJson(e[o],"",i+n,r);l+=(t?":[":"[")+(1<d.length?s+i+n+d.join(","+s+i+n)+s+i:d.join(""))+"]"}else if(null===e)l+=(t&&":")+"null";else if("object"==typeof e){for(o in e)e.hasOwnProperty(o)&&(a[a.length]=this.toJson(e[o],o,i+n,r));l+=(t?":{":"{")+(1<a.length?s+i+n+a.join(","+s+i+n)+s+i:a.join(""))+"}"}else l="string"==typeof e?l+((t&&":")+\'"\'+e.replace(/\\\\/g,"\\\\\\\\").replace(/\\"/g,\'\\\\"\')+\'"\'):l+((t&&":")+e.toString());return l},innerXml:function(e){var t="",i=function(e){var t,r="";if(1===e.nodeType){for(r+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)r+=" "+e.attributes[t].nodeName+\'="\'+(e.attributes[t].nodeValue||"").toString()+\'"\';if(e.firstChild){for(r+=">",t=e.firstChild;t;t=t.nextSibling)r+=i(t);r+="</"+e.nodeName+">"}else r+="/>"}else 3===e.nodeType?r+=e.nodeValue:4===e.nodeType&&(r+="<![CDATA["+e.nodeValue+"]]>");return r};if(e.hasOwnProperty("innerHTML"))t=e.innerHTML;else for(e=e.firstChild;e;e=e.nextSibling)t+=i(e);return t},escape:function(e){return e.replace(/[\\\\]/g,"\\\\\\\\").replace(/[\\"]/g,\'\\\\"\').replace(/[\\n]/g,"\\\\n").replace(/[\\r]/g,"\\\\r")},removeWhite:function(e){e.normalize();for(var t,i=e.firstChild;i;)3===i.nodeType?i.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)?i=i.nextSibling:(t=i.nextSibling,e.removeChild(i),i=t):(1===i.nodeType&&this.removeWhite(i),i=i.nextSibling);return e}}}();';
return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:a,address:e.uri}),t.global.require=r,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*bower_components/free-jqgrid/plugins/ui.multiselect*/
define("bower_components/free-jqgrid/plugins/ui.multiselect",["module","@loader"],function(e,t){t.get("@@global-helpers").prepareGlobal(e.id,[]);var i=t.global.define,s=t.global.require,a='!function(t){t.widget("ui.multiselect",{options:{sortable:!0,searchable:!0,doubleClickable:!0,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,availableFirst:!1,nodeComparator:function(t,e){var i=t.text(),s=e.text();return i==s?0:s>i?-1:1}},_create:function(){this.element.hide(),this.id=this.element.attr("id"),this.container=t(\'<div class="ui-multiselect ui-helper-clearfix ui-widget"></div>\').insertAfter(this.element),this.count=0,this.selectedContainer=t(\'<div class="selected"></div>\').appendTo(this.container),this.availableContainer=t(\'<div class="available"></div>\')[this.options.availableFirst?"prependTo":"appendTo"](this.container),this.selectedActions=t(\'<div class="actions ui-widget-header ui-helper-clearfix"><span class="count">0 \'+t.ui.multiselect.locale.itemsCount+\'</span><a href="#" class="remove-all">\'+t.ui.multiselect.locale.removeAll+"</a></div>").appendTo(this.selectedContainer),this.availableActions=t(\'<div class="actions ui-widget-header ui-helper-clearfix"><input type="text" class="search empty ui-widget-content ui-corner-all"/><a href="#" class="add-all">\'+t.ui.multiselect.locale.addAll+"</a></div>").appendTo(this.availableContainer),this.selectedList=t(\'<ul class="selected connected-list"><li class="ui-helper-hidden-accessible"></li></ul>\').bind("selectstart",function(){return!1}).appendTo(this.selectedContainer),this.availableList=t(\'<ul class="available connected-list"><li class="ui-helper-hidden-accessible"></li></ul>\').bind("selectstart",function(){return!1}).appendTo(this.availableContainer);var e=this;this.container.width(this.element.width()+1),this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation)),this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation))),this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1)),this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1)),this.options.animated||(this.options.show="show",this.options.hide="hide"),this._populateLists(this.element.find("option")),this.options.sortable&&this.selectedList.sortable({placeholder:"ui-state-highlight",axis:"y",update:function(i,s){e.selectedList.find("li").each(function(){t(this).data("optionLink")&&t(this).data("optionLink").remove().appendTo(e.element)})},receive:function(i,s){s.item.data("optionLink").attr("selected",!0),e.count+=1,e._updateCount(),e.selectedList.children(".ui-draggable").each(function(){t(this).removeClass("ui-draggable"),t(this).data("optionLink",s.item.data("optionLink")),t(this).data("idx",s.item.data("idx")),e._applyItemState(t(this),!0)}),setTimeout(function(){s.item.remove()},1)}}),this.options.searchable?this._registerSearchEvents(this.availableContainer.find("input.search")):t(".search").hide(),this.container.find(".remove-all").click(function(){return e._populateLists(e.element.find("option").removeAttr("selected")),!1}),this.container.find(".add-all").click(function(){var i=e.element.find("option").not("[selected]");return e.availableList.children("li:hidden").length>1?e.availableList.children("li").each(function(e){t(this).is(":visible")&&t(i[e-1]).attr("selected","selected")}):i.attr("selected","selected"),e._populateLists(e.element.find("option")),!1})},destroy:function(){this.element.show(),this.container.remove(),t.Widget.prototype.destroy.apply(this,arguments)},_populateLists:function(e){this.selectedList.children(".ui-element").remove(),this.availableList.children(".ui-element").remove(),this.count=0;var i=this;t(e.map(function(e){var s=t(this).is("[selected]"),a=i._getOptionNode(this).appendTo(s?i.selectedList:i.availableList).show();return s&&(i.count+=1),i._applyItemState(a,s),a.data("idx",e),a[0]}));this._updateCount(),i._filter.apply(this.availableContainer.find("input.search"),[i.availableList])},_updateCount:function(){this.element.trigger("change"),this.selectedContainer.find("span.count").text(this.count+" "+t.ui.multiselect.locale.itemsCount)},_getOptionNode:function(e){e=t(e);var i=t(\'<li class="ui-state-default ui-element" title="\'+(e.attr("title")||e.text())+\'"><span class="ui-icon"/>\'+e.text()+\'<a href="#" class="action"><span class="ui-corner-all ui-icon"/></a></li>\').hide();return i.data("optionLink",e),i},_cloneWithData:function(t){var e=t.clone(!1,!1);return e.data("optionLink",t.data("optionLink")),e.data("idx",t.data("idx")),e},_setSelected:function(e,i){if(e.data("optionLink").attr("selected",i),i){var s=this._cloneWithData(e);return e[this.options.hide](this.options.animated,function(){t(this).remove()}),s.appendTo(this.selectedList).hide()[this.options.show](this.options.animated),this._applyItemState(s,!0),s}var a=this.availableList.find("li"),n=this.options.nodeComparator,o=null,l=e.data("idx"),c=n(e,t(a[l]));if(c){for(;l>=0&&l<a.length;)if(c>0?l++:l--,c!=n(e,t(a[l]))){o=a[c>0?l:l+1];break}}else o=a[l];var h=this._cloneWithData(e);return o?h.insertBefore(t(o)):h.appendTo(this.availableList),e[this.options.hide](this.options.animated,function(){t(this).remove()}),h.hide()[this.options.show](this.options.animated),this._applyItemState(h,!1),h},_applyItemState:function(t,e){e?(this.options.sortable?t.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):t.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),t.find("a.action span").addClass("ui-icon-minus").removeClass("ui-icon-plus"),this._registerRemoveEvents(t.find("a.action"))):(t.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),t.find("a.action span").addClass("ui-icon-plus").removeClass("ui-icon-minus"),this._registerAddEvents(t.find("a.action"))),this._registerDoubleClickEvents(t),this._registerHoverEvents(t)},_filter:function(e){var i=t(this),s=e.children("li"),a=s.map(function(){return t(this).text().toLowerCase()}),n=t.trim(i.val().toLowerCase()),o=[];n?(s.hide(),a.each(function(t){this.indexOf(n)>-1&&o.push(t)}),t.each(o,function(){t(s[this]).show()})):s.show()},_registerDoubleClickEvents:function(e){this.options.doubleClickable&&e.dblclick(function(i){0===t(i.target).closest(".action").length&&e.find("a.action").click()})},_registerHoverEvents:function(e){e.removeClass("ui-state-hover"),e.mouseover(function(){t(this).addClass("ui-state-hover")}),e.mouseout(function(){t(this).removeClass("ui-state-hover")})},_registerAddEvents:function(e){var i=this;e.click(function(){i._setSelected(t(this).parent(),!0);return i.count+=1,i._updateCount(),!1}),this.options.sortable&&e.each(function(){t(this).parent().draggable({connectToSortable:i.selectedList,helper:function(){var e=i._cloneWithData(t(this)).width(t(this).width()-50);return e.width(t(this).width()),e},appendTo:i.container,containment:i.container,revert:"invalid"})})},_registerRemoveEvents:function(e){var i=this;e.click(function(){return i._setSelected(t(this).parent(),!1),i.count-=1,i._updateCount(),!1})},_registerSearchEvents:function(e){var i=this;e.focus(function(){t(this).addClass("ui-state-active")}).blur(function(){t(this).removeClass("ui-state-active")}).keypress(function(t){return 13==t.keyCode?!1:void 0}).keyup(function(){i._filter.apply(this,[i.availableList])})}}),t.extend(t.ui.multiselect,{locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})}(jQuery);';return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:a,address:e.uri}),t.global.require=s,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*bower_components/store-js/store*/
!function(e){function t(){try{return a in e&&e[a]}catch(t){return!1}}function n(e){return e.replace(/^d/,"___$&").replace(s,"___")}var r,o={},i=e.document,a="localStorage",u="script";if(o.disabled=!1,o.version="1.3.17",o.set=function(e,t){},o.get=function(e,t){},o.has=function(e){return void 0!==o.get(e)},o.remove=function(e){},o.clear=function(){},o.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var r=o.get(e,t);n(r),o.set(e,r)},o.getAll=function(){},o.forEach=function(){},o.serialize=function(e){return JSON.stringify(e)},o.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},t())r=e[a],o.set=function(e,t){return void 0===t?o.remove(e):(r.setItem(e,o.serialize(t)),t)},o.get=function(e,t){var n=o.deserialize(r.getItem(e));return void 0===n?t:n},o.remove=function(e){r.removeItem(e)},o.clear=function(){r.clear()},o.getAll=function(){var e={};return o.forEach(function(t,n){e[t]=n}),e},o.forEach=function(e){for(var t=0;t<r.length;t++){var n=r.key(t);e(n,o.get(n))}};else if(i.documentElement.addBehavior){var c,f;try{f=new ActiveXObject("htmlfile"),f.open(),f.write("<"+u+">document.w=window</"+u+'><iframe src="/favicon.ico"></iframe>'),f.close(),c=f.w.frames[0].document,r=c.createElement("div")}catch(l){r=i.createElement("div"),c=i.body}var d=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(r),c.appendChild(r),r.addBehavior("#default#userData"),r.load(a);var n=e.apply(o,t);return c.removeChild(r),n}},s=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.set=d(function(e,t,r){return t=n(t),void 0===r?o.remove(t):(e.setAttribute(t,o.serialize(r)),e.save(a),r)}),o.get=d(function(e,t,r){t=n(t);var i=o.deserialize(e.getAttribute(t));return void 0===i?r:i}),o.remove=d(function(e,t){t=n(t),e.removeAttribute(t),e.save(a)}),o.clear=d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(a)}),o.getAll=function(e){var t={};return o.forEach(function(e,n){t[e]=n}),t},o.forEach=d(function(e,t){for(var n,r=e.XMLDocument.documentElement.attributes,i=0;n=r[i];++i)t(n.name,o.deserialize(e.getAttribute(n.name)))})}try{var v="__storejs__";o.set(v,v),o.get(v)!=v&&(o.disabled=!0),o.remove(v)}catch(l){o.disabled=!0}o.enabled=!o.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=o:"function"==typeof define&&define.amd?define("bower_components/store-js/store",o):e.store=o}(Function("return this")());
/*$css*/
define("$css",function(e,t,n){var d=e("@loader");"production"===d.env?t.fetch=function(e){var t=e.address,n=document.createElement("link");return n.rel="stylesheet",n.href=t,document.head.appendChild(n),""}:t.instantiate=function(e){var t=this;e.metadata.deps=[],e.metadata.execute=function(){var n=e.source+"/*# sourceURL="+e.address+" */";if(n=n.replace(/url\(['"]?([^'"\)]*)['"]?\)/g,function(t,n){return"url("+steal.joinURIs(e.address,n)+")"}),e.source&&"undefined"!=typeof document){var d=document.head?document:document.getElementsByTagName?document:document.documentElement,a=d.head||d.getElementsByTagName("head")[0],o=document.createElement("style");if(!a){var r=d.documentElement||d;a=document.createElement("head"),r.insertBefore(a,r.firstChild)}if(o.type="text/css",o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n)),a.appendChild(o),t.has("live-reload")){var c=t["import"]("live-reload",{name:"$css"});Promise.resolve(c).then(function(n){t["import"](e.name).then(function(){n.once(e.name,function(){a.removeChild(o)})})})}}return System.newModule({source:n})},e.metadata.format="css"},t.buildType="css",t.includeInBuild=!0});
/*less*/
define('less', [], function(){ return {}; });
/*$less*/
define('$less', [], function(){ return {}; });
/*main*/
define("main",["bower.json","mqttws","jquery","jquery-ui","free-jqgrid","bower_components/free-jqgrid/plugins/ui.multiselect","bower_components/store-js/store","bower_components/jquery-ui/themes/redmond/jquery-ui.min.css!","bower_components/free-jqgrid/css/ui.jqgrid.min.css!","bower_components/free-jqgrid/plugins/ui.multiselect.css!","index.less!"],function(t,e,i,a,s,o,n,l,r,c,d){"use strict";function u(t){var e=A.extend(!0,{},t);return delete e.val,delete e.lc,delete e.ts,JSON.stringify(e).replace(/^{/,"").replace(/}$/,"")}function p(t){return A("<div/>").text(t.replace(/\n/,"\\n")).html()}function b(t){if("Invalid Date"===t.toString())return"";var e="";return e=t.getFullYear()+"-"+("0"+(t.getMonth()+1).toString(10)).slice(-2)+"-"+("0"+t.getDate().toString(10)).slice(-2)+" ",e=e+("0"+t.getHours().toString(10)).slice(-2)+":"+("0"+t.getMinutes().toString(10)).slice(-2)+":"+("0"+t.getSeconds().toString(10)).slice(-2)}function m(t){var e=t.split("/"),i=D;e.forEach(function(t,a){i[t]&&a<e.length-1&&(i=i[t])});var a=[];if(!t.match(/\+|#/)){var s=e.pop().replace(/[\-\[\]{}()*?.,\\\^$|\s]/g,"\\$&");Object.keys(i).forEach(function(t){t.match(new RegExp(s,"i"))&&a.push(t)})}return a.sort(),a}function h(t){bt=dt.val(),C.mqttshAutocomplete&&t&&(55===t.keyCode||191===t.which)&&(bt=bt.replace(/^([^\/]+)\/\//,"$1/status/")),bt!==dt.val()&&dt.val(bt),ut=G(bt),M=m(bt)}function f(t){var e={id:$[t].tid,topic:C.mqttshTrim?t.replace(/^([^\/]+)\/status\/(.+)/,"$1//$2"):t,payload:p($[t].payload),val:A("<div/>").text($[t].val).html(),retained:$[t].retained,ts:b(new Date($[t].ts)),lc:b(new Date($[t].lc))};return $[t].ts===$[t].lc&&(e.lc='<span style="color: grey">'+e.lc+"</span>"),e.misc=u($[t].payloadObj),e}function v(t){if(ht.show(),h(),C.topic=t,T.set("mqtt-admin",C),mt.jqGrid("clearGridData"),""!==t){var e=[];pt=[],Object.keys($).forEach(function(t){t.match(ut)&&(pt.push(t),e.push(f(t)))}),mt.jqGrid("setGridParam",{data:e}).trigger("reloadGrid"),ht.hide()}}function g(t,e,i){Ot||(Ot=[]);for(var a=0;a<Ot.length;a++)Ot[a].topic===t&&Ot[a].payload===e&&Ot.splice(a,1);Ot.push({id:Ot.length,topic:t,payload:e,retain:i,ts:b(new Date)});for(var a=0;a<Ot.length;a++)Ot[a].id=a+1;C.publishHistory=Ot,T.set("mqtt-admin",C),Gt.jqGrid("clearGridData"),A("#load_gridHistory").show(),Gt.jqGrid("setGridParam",{data:Ot}).trigger("reloadGrid"),A("#load_gridHistory").hide()}function w(t,e,i){var a={topic:C.mqttshTrim?t.replace(/^([^\/]+)\/status\/(.+)/,"$1//$2"):t,payload:p(e),ts:'<span class="fill-cell palette-'+i+'">'+b(new Date)+"</span>"};return a}function y(t){return t=t||0,C.tabsSubscribe["tabSubscribe-"+t]?y(t+1):"tabSubscribe-"+t}function q(t,e){var i=zt.find(".ui-tabs-nav");t=t||y(),e=e||"Tab "+t.split("-")[1],C.tabsSubscribe[t]||(C.tabsSubscribe[t]={label:e,subscriptions:[],colors:[]});var a=A('<li id="'+t+'_li"><input style="display: none;" class="txt" type="text"/><a href="#'+t+'">'+e+'</a> <span class="ui-icon ui-icon-close subscribe-tab" role="presentation">Remove Tab</span></li>');i.hasClass("ui-sortable")&&i.sortable("destroy"),i.append(a),i.find("#"+t+"_li").on("dblclick",function(){A(this).find("input").toggle().val(A(this).find("a").html()).focus(),A(this).find("a").toggle()}).on("keydown blur dblclick","input",function(e){var i=A(this);"keydown"===e.type?13===e.which?(i.toggle(),i.siblings("a").toggle().html(i.val()),C.tabsSubscribe[t].label=i.val(),T.set("mqtt-admin",C)):38===e.which||40===e.which||37===e.which||39===e.which||32===e.keyCode?e.stopPropagation():27===e.which&&(i.toggle().val(i.siblings("a").val()),i.siblings("a").toggle()):"focusout"===e.type?"inline-block"===i.css("display")&&(i.toggle(),i.siblings("a").toggle().html(i.val()),C.tabsSubscribe[t].label=i.val(),T.set("mqtt-admin",C)):e.stopPropagation()}),zt.append('<div id="'+t+'"><div class="subscribe-header"><select id="'+t+'_color" class="subscribe-color"><option value="0" data-class="palette-0"></option><option value="1" data-class="palette-1">1</option><option value="2" data-class="palette-2">2</option><option value="3" data-class="palette-3">3</option><option value="4" data-class="palette-4">4</option><option value="5" data-class="palette-5">5</option><option value="6" data-class="palette-6">6</option><option value="7" data-class="palette-7">7</option><option value="8" data-class="palette-8">8</option></select><input id="'+t+'_input" class="subscribe-input ui-widget ui-widget-content ui-corner-all" type="text" placeholder=" ...type in a topic (wildcards + and # allowed) and press enter"></input><p><span class="subscribe-buttons"><input type="radio" id="'+t+'_play" name="'+t+'_mode"><label for="'+t+'_play"><span class="inline-icon ui-icon ui-icon-play"></span></label><input type="radio" id="'+t+'_pause" name="'+t+'_mode"><label for="'+t+'_pause"><span class="inline-icon ui-icon ui-icon-pause"></span></label><input type="radio" id="'+t+'_stop" name="'+t+'_mode" checked="checked"><label for="'+t+'_stop"><span class="inline-icon ui-icon ui-icon-stop"></span></label></span><button class="subscribe-clear" id="'+t+'_clear"></button></p><ul class="subscriptions"></ul><div style="clear: both;"></div></div><table id="'+t+'_grid" class="subscribe-grid"></table></div>');var s=A("#"+t+"_grid");A("#"+t).find(".subscribe-color").colorselectmenu({width:40});var o=zt.find("#"+t+" .subscribe-buttons");o.buttonset(),zt.find("#"+t+"_clear").button({icons:{primary:"ui-icon-trash"}}).click(function(){s.jqGrid("clearGridData")}),o.find('input[type="radio"]').change(function(){var e=A(this);if(e.is(":checked")){var i=e.attr("id").split("_")[1];At[t].mode=i,"play"===i&&Tt[t]&&(s.jqGrid("addRowData","id",Tt[t],"first"),Tt[t]=[])}}),At[t]={mode:"stop",topics:[],$grid:s,count:0,colors:[]};var n=["id","ts","topic","val","lc","misc properties","payload","duplicate"],l=[{name:"id",index:"id",hidden:!0,sortable:!1,autoResizable:!0},{name:"ts",index:"ts",width:140,fixed:!0,align:"right",hidden:!1,sortable:!1,autoResizable:!0},{name:"topic",index:"topic",width:360,sortable:!1,autoResizable:!0},{name:"val",index:"val",width:100,align:"right",hidden:!0,sortable:!1,autoResizable:!0},{name:"lc",index:"lc",width:140,fixed:!0,align:"right",hidden:!0,sortable:!1,autoResizable:!0},{name:"misc",index:"misc",width:360,hidden:!0,sortable:!1,autoResizable:!0},{name:"payload",index:"payload",width:640,sortable:!1,autoResizable:!0},{name:"dup",index:"dup",width:30,hidden:!0,fixed:!0,formatter:x,sortable:!1,autoResizable:!0}];if(s.jqGrid({datatype:"local",data:[],colNames:n,colModel:l,rowNum:1e3,rowList:[25,100,1e3,1e5],width:"800",viewrecords:!0,caption:"subscribe",page:wt?It.page:1,search:wt?It.search:!1,sortname:"ts",sortorder:"desc",ondblClickRow:function(t){},beforeSelectRow:function(t,e){return!1},onSelectRow:function(t){},gridComplete:function(){},loadComplete:function(){}}),zt.find('div[id="'+t+'"] input[type="text"]').change(function(){var e=A(this),i=e.val();if(i){e.val("");var a=e.parent().find(".subscribe-color").val();-1===At[t].topics.indexOf(i)&&(At[t].topics.push(i),At[t].colors[At[t].topics.indexOf(i)]=a,zt.find('div[id="'+t+'"] ul.subscriptions').append('<li class="palette-'+a+'">'+i+' <span data-id="'+t+'" data-topic="'+i+'" class="subscription-remove ui-icon ui-icon-close inline-icon" role="presentation">Remove Tab</span></li>'),-1===C.tabsSubscribe[t].subscriptions.indexOf(i)&&C.tabsSubscribe[t].subscriptions.push(i),C.tabsSubscribe[t].colors[C.tabsSubscribe[t].subscriptions.indexOf(i)]=a,o.find('input[id$="_pause"]').removeAttr("checked"),o.find('input[id$="_stop"]').removeAttr("checked"),o.find('input[id$="_play"]').attr("checked",!0),o.buttonset("refresh"),At[t].mode="play",Tt[t]&&(s.jqGrid("addRowData","id",Tt[t],"first"),Tt[t]=[]),T.set("mqtt-admin",C))}}).autocomplete({source:function(t,e){e(m(t.term))},select:function(e,i){var a=zt.find('div[id="'+t+'"] input[type="text"]').val().split("/");return a.pop(),a.push(i.item.value),zt.find('div[id="'+t+'"] input[type="text"]').val(a.join("/")),!1},focus:function(t,e){return!1}}).on("keyup",function(t){var e=A(this);C.mqttshAutocomplete&&t&&(55===t.keyCode||191===t.which)&&e.val(e.val().replace(/^([^\/]+)\/\//,"$1/status/"))}),C.tabsSubscribe[t].subscriptions.length)for(var r=0;r<C.tabsSubscribe[t].subscriptions.length;r++)zt.find('div[id="'+t+'"] ul.subscriptions').append('<li class="palette-'+C.tabsSubscribe[t].colors[r]+'">'+C.tabsSubscribe[t].subscriptions[r]+' <span data-id="'+t+'" data-topic="'+C.tabsSubscribe[t].subscriptions[r]+'" class="subscription-remove ui-icon ui-icon-close inline-icon" role="presentation">Remove Tab</span></li>'),At[t].topics.push(C.tabsSubscribe[t].subscriptions[r]),At[t].colors.push(C.tabsSubscribe[t].colors[r]);i.sortable({axis:"x",update:function(){zt.tabs("refresh"),C.tabsSubscribeOrder=i.sortable("toArray").slice(1),T.set("mqtt-admin",C)}}),zt.tabs("refresh"),C.tabsSubscribeOrder=i.sortable("toArray").slice(1),T.set("mqtt-admin",C),k()}function x(t){return t?'<span class="ui-icon ui-icon-check"></span>':""}function S(t,e){var i,a,s,o=this.jqGrid("getGridParam","colModel"),n=o.length,l={search:this.jqGrid("getGridParam","search"),sortname:this.jqGrid("getGridParam","sortname"),sortorder:this.jqGrid("getGridParam","sortorder"),permutation:e,colStates:{}},r=l.colStates;for(i=0;n>i;i++)a=o[i],s=a.name,"rn"!==s&&"cb"!==s&&"subgrid"!==s&&(r[s]={width:a.width,hidden:a.hidden});C[t]||(C[t]={}),C[t]=l,T.set("mqtt-admin",C)}function _(t,e){var i,a,s,o,n=e.length,l=C[t];if(l)for(s=l.colStates,a=0;n>a;a++)i=e[a],o=i.name,"rn"!==o&&"cb"!==o&&"subgrid"!==o&&(e[a]=A.extend(!0,{},e[a],s[o]));return l}function k(){var t=A(window).width(),e=A(window).height(),i=e-xt.height();mt.setGridWidth(t-18),mt.setGridHeight(e-157),A(".publish-grid").setGridWidth(t-36).setGridHeight(i-234),A(".subscribe-grid").each(function(){var i=A(this),a=i.closest(".ui-tabs-panel").find(".subscribe-header").height(),s=e-a;i.setGridWidth(t-36).setGridHeight(s-136)})}function j(){var t={onSuccess:function(){Ct=!0;var t=C.protocol+"://"+C.mqttHost+":"+C.mqttPort;J.html('<span style="color:green">connected to '+t+"</span>"),L.dialog("close"),Dt.subscribe("#"),Dt.subscribe("$SYS/#"),""!==dt.val()&&ht.show(),R()}};"wss"===C.protocol&&(t.useSSL=!0),C.user&&(t.userName=C.user),C.password&&(t.password=C.password),Dt.connect(t)}function G(t){return new RegExp("^"+t.replace(/[\-\[\]{}()*?.,\\\^$|\s]/g,"\\$&").replace(/\+/g,"[^/]+").replace(/#$/,".*")+"$")}function R(){Mt&&clearTimeout(Mt),P(),Mt=setTimeout(function(){Mt=null,""!==dt.val()&&v(dt.val())},300)}function H(){Ct&&(Ct=!1,Dt.disconnect())}function P(){Et&&clearTimeout(Et),ct.show(),Et=setTimeout(function(){Et=null,ct.hide()},250)}function I(t,e,i){Ct&&(P(),Dt.send(t,e,i.qos,i.retain)),g(t,e,i)}t&&t.__esModule||(t={"default":t}),e&&e.__esModule||(e={"default":e}),i&&i.__esModule||(i={"default":i}),a&&a.__esModule||(a={"default":a}),s&&s.__esModule||(s={"default":s}),o&&o.__esModule||(o={"default":o}),n&&n.__esModule||(n={"default":n}),l&&l.__esModule||(l={"default":l}),r&&r.__esModule||(r={"default":r}),c&&c.__esModule||(c={"default":c}),d&&d.__esModule||(d={"default":d});var O=t["default"],z=e["default"],A=i["default"],T=n["default"],C=T.get("mqtt-admin")||{};C.mqttHost=C.mqttHost||"",C.mqttPort=C.mqttPort||"",C.influxPort=C.influxPort||8086,C.clientId=C.clientId||"mqtt-admin",C.maxPayloadSize=C.maxPayloadSize||1024,C.mqttshTrim=C.mqttshTrim||!1,"undefined"==typeof C.clientIdSuffix&&(C.clientIdSuffix=!0),C.server||(C.server=["ws://broker.hivemq.com:8000","ws://test.mosca.io:80","ws://test.mosquitto.org:8080","wss://test.mosquitto.org:8081"]);var M=[],D={},$={},N=0,E=A("#topicDetails"),L=(A("#dialogInflux"),A("#dialogSettings")),B=A("#host"),Q=A("#port"),J=A("#mqttStatus"),W=A("#about"),Y=A("#server"),F=A("#protocol"),K=A("#random"),U=A("#clientId"),V=A("#user"),X=A("#password"),Z=A("#tabsSettings"),tt=A("#influxHost"),et=A("#influxPort"),it=A("#influxDatabase"),at=A("#influxEnable"),st=A("#tabsDetails"),ot=A("#gridInflux"),nt=(A("#influxQuery"),A("#mqttshTrim")),lt=A("#mqttshAutocomplete");E.dialog({autoOpen:!1,width:720,height:500}),W.dialog({title:"mqtt-admin version "+O.version,modal:!0,autoOpen:!1,width:640,height:400});for(var rt=0;rt<C.server.length;rt++)Y.append('<option value="'+C.server[rt]+'">'+C.server[rt]+"</option>");Y.selectmenu({width:280,open:function(){A(".ui-selectmenu-open").zIndex(L.zIndex()+1)},change:function(){var t=A(this),e=t.val().split("://"),i=e[1].split(":");F.val(e[0]).selectmenu("refresh"),B.val(i[0]),Q.val(i[1]),Y.val(""),Y.selectmenu("refresh")}}),F.selectmenu({width:96,open:function(){A(".ui-selectmenu-open").zIndex(L.zIndex()+1)}}),L.dialog({width:640,height:450,autoOpen:!1,open:function(){Z.tabs("option","active",0),Y.val(""),F.val(C.protocol||"ws").selectmenu("refresh"),B.val(C.mqttHost),Q.val(C.mqttPort),V.val(C.user),X.val(C.password),C.clientIdSuffix?K.attr("checked",!0):K.removeAttr("checked"),U.val(C.clientId),C.influxEnable?at.attr("checked",!0):at.removeAttr("checked"),tt.val(C.influxHost),et.val(C.influxPort),it.val(C.influxDatabase),C.mqttshTrim?nt.attr("checked",!0):nt.removeAttr("checked"),C.mqttshAutocomplete?lt.attr("checked",!0):lt.removeAttr("checked")},close:function(){dt.focus()},buttons:[{text:"Save Settings",click:function(){C.influxHost=tt.val(),C.influxPort=parseInt(et.val()),C.influxEnable!==at.is(":checked")||C.influxHost!==tt.val()||C.influxPort!==et.val()||C.influxDatabase!==it.val()||C.clientId!==U.val()||C.user!==V.val()||C.password!==X.val()||C.mqttHost!==B.val()||C.mqttPort!==parseInt(Q.val(),10)||C.protocol!==F.val()||C.clientIdSuffix!==K.is(":checked")||C.mqttshTrim!==nt.is(":checked")||C.mqttshAutocomplete!==lt.is(":checked")?(C.influxEnable=at.is(":checked"),C.influxHost=tt.val(),C.influxPort=et.val(),C.influxDatabase=it.val(),C.clientId=U.val(),C.user=V.val(),C.password=X.val(),C.mqttHost=B.val(),C.mqttPort=parseInt(Q.val(),10),C.protocol=F.val(),C.clientIdSuffix=K.is(":checked"),C.mqttshTrim=nt.is(":checked"),C.mqttshAutocomplete=lt.is(":checked"),T.set("mqtt-admin",C),H(),window.location.reload()):(T.set("mqtt-admin",C),Ct&&L.dialog("close"))}}],modal:!0}),Z.tabs(),st.tabs(),ot.jqGrid({datatype:"local",colNames:["id","time","value"],colModel:[{name:"id",index:"id"},{name:"time",index:"time"},{name:"value",index:"value"}],rowNum:1e3,rowList:[25,100,1e3,1e5],width:650,height:320,viewrecords:!0,caption:"InfluxDB"});var ct;A("#tabs").tabs({create:function(){A("#tabs .ui-tabs-nav:first").prepend('<li class="header">mqtt-admin</li>').append('<button title="About" value="About" class="menu-button" id="buttonAbout">About</button>').append('<button title="Settings" value="Settings" class="menu-button" id="buttonSettings">Settings</button>').append('<div id="mqttIndicator" class="menu-button" style="display:none;"><span class="inline-icon ui-icon ui-icon-transfer-e-w"></span></div>'),ct=A("#mqttIndicator"),A("#buttonSettings").button({text:!1,icons:{primary:"ui-icon-gear"}}).click(function(){L.dialog("open")}),A("#buttonAbout").button({text:!1,icons:{primary:"ui-icon-help"}}).click(function(){W.dialog("open")}),window.addEventListener("hashchange",function(t){var e=window.location.hash;switch(e){case"#subscribe":A("#tabs").tabs("option","active",1);break;case"#status":A("#tabs").tabs("option","active",2);break;default:A("#tabs").tabs("option","active",0)}})},activate:function(t,e){window.location.hash=e.newPanel.attr("id"),k()}});var dt=A("#topic");dt.val(C.topic);var ut,pt=[],bt="#";dt.on("change",function(){v(bt)}),dt.on("keyup",h),dt.autocomplete({source:function(t,e){e(m(t.term))},select:function(t,e){var i=dt.val().split("/");return i.pop(),i.push(e.item.value),dt.val(i.join("/")),!1},focus:function(t,e){return!1}});var mt=A("#gridStatus"),ht=A("#load_gridStatus"),ft=["id","topic","val","ts","lc","misc properties","payload","retained"],vt=[{name:"id",index:"id",hidden:!0,autoResizable:!0},{name:"topic",index:"topic",width:360,autoResizable:!0},{name:"val",index:"val",width:100,align:"right",hidden:!0,autoResizable:!0},{name:"ts",index:"ts",width:140,fixed:!0,align:"right",hidden:!0,autoResizable:!0},{name:"lc",index:"lc",width:140,fixed:!0,align:"right",hidden:!0,autoResizable:!0},{name:"misc",index:"misc",width:360,hidden:!0,autoResizable:!0},{name:"payload",index:"payload",width:640,autoResizable:!0},{name:"retained",index:"retained",width:30,hidden:!1,fixed:!0,formatter:x,autoResizable:!0}],gt=_("gridStatus",vt),wt="undefined"!=typeof gt&&null!==gt,yt=!0;mt.jqGrid({datatype:"local",colNames:ft,colModel:vt,rowNum:1e3,rowList:[25,100,1e3,1e5],width:800,viewrecords:!0,caption:"MQTT Status",pager:"#pagerStatus",page:wt?gt.page:1,search:wt?gt.search:!1,sortname:wt?gt.sortname:"id",sortorder:wt?gt.sortorder:"desc",ondblClickRow:function(t,e,i,a){E.dialog("open")},beforeSelectRow:function(t,e){return!1},gridComplete:function(){},loadComplete:function(){yt&&(yt=!1,wt&&A(this).jqGrid("remapColumns",gt.permutation,!0)),S.call(A(this),"gridStatus",this.p.remapColumns)}}),mt.jqGrid("filterToolbar",{autosearch:!0,defaultSearch:"cn",searchOperators:!0}),mt.navGrid("#pagerStatus",{edit:!1,add:!1,del:!1,search:!1,refresh:!1}).navButtonAdd("#pagerStatus",{caption:"choose columns",buttonicon:"ui-icon-calculator",onClickButton:function(){mt.jqGrid("columnChooser",{done:function(t){t&&(mt.jqGrid("remapColumns",t,!0),S.call(this,"gridStatus",t))}})},position:"last"});var qt=A("#tabsPublish"),xt=A("#publishPayload"),St=A("#publishPub"),_t=A("#publishTopic"),kt=A("#publishQos"),jt=A("#publishPubRetain");kt.selectmenu({width:90}),St.button({disabled:!0}).css("width","130px").click(function(){I(_t.val(),xt.val(),{qos:parseInt(kt.val(),10),retain:!1})}),jt.button({disabled:!0}).click(function(){I(_t.val(),xt.val(),{qos:parseInt(kt.val(),10),retain:!0})}),qt.tabs(),_t.autocomplete({source:function(t,e){e(m(t.term))},select:function(t,e){var i=_t.val().split("/");return i.pop(),i.push(e.item.value),_t.val(i.join("/")),!1},focus:function(t,e){return!1}}),_t.on("keyup",function(t){""!==_t.val()?(St.button("enable"),jt.button("enable")):(St.button("disable"),jt.button("disable")),C.mqttshAutocomplete&&t&&(55===t.keyCode||191===t.which)&&_t.val(_t.val().replace(/^([^\/]+)\/\//,"$1/set/"))}),xt.on("keyup",function(){var t=xt.val();if(t.match(/^\s*(\{|\[)/))try{JSON.parse(t),A("#jsonLint").show()}catch(e){A("#jsonLint").hide()}else A("#jsonLint").hide()});var Gt=A("#gridHistory"),Rt=!0,Ht=["id","topic","ts","payload","retain"],Pt=[{name:"id",index:"id",hidden:!0,autoResizable:!0},{name:"topic",index:"topic",width:200,sortable:!1,autoResizable:!0},{name:"ts",index:"ts",width:140,sortable:!1,fixed:!0,align:"right",hidden:!0,autoResizable:!0},{name:"payload",index:"payload",sortable:!1,width:900,formatter:p,autoResizable:!0},{name:"retain",index:"retain",width:30,sortable:!1,hidden:!0,fixed:!0,autoResizable:!0}],It=_("gridHistory",Pt);C.publishHistory||(C.publishHistory=[]),wt="undefined"!=typeof It&&null!==It,Gt.jqGrid({datatype:"local",data:C.publishHistory,colNames:Ht,colModel:Pt,rowNum:1e3,rowList:[25,100,1e3,1e5],width:800,viewrecords:!0,caption:"Publish History",page:wt?It.page:1,search:wt?It.search:!1,sortname:"ts",sortorder:"desc",ondblClickRow:function(t){_t.val(C.publishHistory[t-1].topic),xt.val(C.publishHistory[t-1].payload),St.button("enable"),jt.button("enable"),St.trigger("click")},onSelectRow:function(t){_t.val(C.publishHistory[t-1].topic),xt.val(C.publishHistory[t-1].payload),St.button("enable"),jt.button("enable")},gridComplete:function(){},loadComplete:function(){Rt&&(Rt=!1,wt&&A(this).jqGrid("remapColumns",It.permutation,!0)),S.call(A(this),"gridHistory",this.p.remapColumns)}});var Ot=Array.prototype.slice.call(C.publishHistory)||[],zt=A("#tabsSubscribe"),At={},Tt={};A.widget("custom.colorselectmenu",A.ui.selectmenu,{_renderItem:function(t,e){var i=A("<li class='"+e.element.attr("data-class")+"'>"+e.label+"</li>");return e.disabled&&i.addClass("ui-state-disabled"),i.appendTo(t)},_setText:function(t,e){t.removeClass(function(t,e){return(e.match(/(^|\s)palette-\S+/g)||[]).join(" ")}),e&&t.addClass("palette-"+e),t.html("&nbsp;")}}),zt.tabs({activate:function(){C.tabsSubscribeActive=zt.tabs("option","active"),T.set("mqtt-admin",C)}}),zt.delegate("span.ui-icon-close.subscribe-tab","click",function(){var t=A(this).closest("li").remove().attr("aria-controls");C.tabsSubscribeOrder.splice(C.tabsSubscribeOrder.indexOf(t+"_li"),1),delete C.tabsSubscribe[t],delete At[t],A("#"+t).remove(),zt.tabs("refresh"),T.set("mqtt-admin",C)}),zt.delegate(".subscription-remove","click",function(){var t=A(this),e=t.attr("data-id"),i=t.attr("data-topic");At[e].topics.splice(At[e].topics.indexOf(i),1),C.tabsSubscribe[e].subscriptions.splice(C.tabsSubscribe[e].subscriptions.indexOf(i),1),T.set("mqtt-admin",C),t.parent().remove(),k()}),C.tabsSubscribe||(C.tabsSubscribe={}),C.tabsSubscribeOrder||(C.tabsSubscribeOrder=[]),A("#tabsSubscribe .ui-tabs-nav:first").append("<button title='Add tab' value='Add tab' class='menu-button' id='addTab'>Add tab</button>"),A("#addTab").button({text:!1,icons:{primary:"ui-icon-plus"}}).click(function(){q(),zt.tabs("option","active",Object.keys(C.tabsSubscribe).length-1)}),0===C.tabsSubscribeOrder.length?(q(),zt.tabs("option","active",0)):C.tabsSubscribeOrder.forEach(function(t,e){t=t.split("_")[0],q(t,C.tabsSubscribe[t].label),e===C.tabsSubscribeActive&&zt.tabs("option","active",e)}),A(window).resize(k),xt.data("y",xt.outerHeight()),A("#publish").bind("mousemove",function(){var t=A(this),e=t.outerHeight();e!==t.data("y")&&k(),t.data("y",e)});var Ct,Mt;J.html('<span style="color:red">disconnected</span></span>');var Dt;if(C.mqttHost&&C.mqttPort){var $t=C.protocol+"://"+C.mqttHost+":"+C.mqttPort;-1===C.server.indexOf($t)&&C.server.unshift($t),T.set("mqtt-admin",C);var Nt=C.clientId+(C.clientIdSuffix?"_"+("00000000"+Math.floor(4294967295*Math.random()).toString(16)).slice(-8):"");A("#mqttClientId").html(Nt),J.html('<span style="color:red">disconnected</span> <span style="color:orange">trying to connect to '+C.protocol+"://"+C.mqttHost+":"+C.mqttPort+"</span>"),Dt=new z.MQTT.Client(C.mqttHost,C.mqttPort,"/mqtt",Nt),Dt.onConnectionLost=function(t){Ct=!1,J.html('<span style="color:red">disconnected</span>'),B.val(C.mqttHost),Q.val(C.mqttPort),N=0,setTimeout(function(){L.dialog("open"),j()},500)},Dt.onMessageArrived=function(t){P();var e=t.destinationName;if("__malformed_utf8"!==e){var i;i=t.payloadBytes.length>C.maxPayloadSize?"__max_payload_size_exceeded":t.payloadString;for(var a in At){var s=At[a];if("stop"!==s.mode)for(var o=0;o<s.topics.length;o++)if(e.match(G(s.topics[o]))){s.count+=1;var n=w(e,i,s.colors[o]);n.id=a+"_"+s.count,"play"===s.mode?s.$grid.jqGrid("addRowData",n.id,n,"first"):"pause"===s.mode&&(Tt[a]||(Tt[a]=[]),Tt[a].push(n));break}}var l;"undefined"==typeof $[e]&&($[e]={tid:"sg_row_"+("00000000"+(++N).toString(16)).slice(-8)},l=D,e.split("/").forEach(function(t){"undefined"==typeof l[t]&&(l[t]={}),l=l[t]})),$[e].retained=!!t.retained,$[e].retained&&R(),$[e].payload=i;var r=!1,c={};if("string"==typeof i&&"{"===i.charAt(0))try{c=JSON.parse(i),$[e].payloadObj=c,"undefined"!=typeof c.val&&$[e].val!==c.val&&($[e].val=c.val,r=!0)}catch(d){$[e].payload!==i&&(r=!0),$[e].payloadObj={}}else $[e].payload!==i&&(r=!0),$[e].val=i,$[e].payloadObj={val:i};if("undefined"!=typeof c.ts?$[e].ts=parseInt(c.ts,10):t.retain||($[e].ts=(new Date).getTime()),"undefined"!=typeof c.lc?$[e].lc=parseInt(c.lc,10):r&&($[e].lc=$[e].ts),ut&&e.match(ut)){var u=$[e].tid,p="setRowData",b=!1;-1===pt.indexOf(e)&&(b=!0,pt.push(e),p="addRowData"),mt.jqGrid(p,u,f(e));var m=mt.jqGrid("getLocalRow",u);m=$,b&&mt.trigger("reloadGrid")}}}}var Et=null;return C.mqttHost&&C.mqttPort?(j(),setTimeout(function(){Ct?dt.focus():L.dialog("open")},500)):L.dialog("open"),A("#container").show(),k(),{}});